<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/png" href="favicon.png">
    <link rel="shortcut icon" type="image/png" href="favicon.png">
    <title>L√≠nea de Tiempo de Lev√≠tico - Eventos Principales</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdhani:wght@300;400;600;700&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Rajdhani', sans-serif;
            background: #0a0e27;
            background-image: 
                radial-gradient(circle at 20% 50%, rgba(0, 195, 255, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 80%, rgba(255, 0, 150, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 40% 20%, rgba(0, 255, 200, 0.05) 0%, transparent 50%);
            color: #e0e0e0;
            line-height: 1.6;
            min-height: 100vh;
            padding: 20px;
            overflow-x: hidden;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                radial-gradient(2px 2px at 20% 30%, rgba(0, 195, 255, 0.3), transparent),
                radial-gradient(2px 2px at 60% 70%, rgba(255, 0, 150, 0.3), transparent),
                radial-gradient(1px 1px at 50% 50%, rgba(0, 255, 200, 0.3), transparent),
                radial-gradient(1px 1px at 80% 10%, rgba(0, 195, 255, 0.2), transparent);
            background-size: 200% 200%;
            animation: particleMove 20s ease infinite;
            pointer-events: none;
            z-index: 0;
        }

        @keyframes particleMove {
            0%, 100% { background-position: 0% 0%, 100% 100%, 50% 50%, 80% 20%; }
            50% { background-position: 100% 100%, 0% 0%, 50% 50%, 20% 80%; }
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            position: relative;
            z-index: 1;
        }

        .nav-menu {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-bottom: 30px;
            flex-wrap: wrap;
            align-items: center;
        }

        .dropdown {
            position: relative;
            display: inline-block;
        }

        .dropdown-btn {
            padding: 12px 30px;
            background: rgba(0, 195, 255, 0.2);
            border: 1px solid rgba(0, 195, 255, 0.5);
            color: #00c3ff;
            border-radius: 25px;
            cursor: pointer;
            font-family: 'Orbitron', sans-serif;
            font-size: 0.9em;
            font-weight: 600;
            letter-spacing: 1px;
            transition: all 0.3s ease;
            text-transform: uppercase;
            display: flex;
            align-items: center;
            gap: 8px;
            min-width: 150px;
            justify-content: space-between;
        }

        .dropdown-btn .emoji {
            display: none;
        }

        .dropdown-btn .text {
            display: inline;
        }

        .dropdown-btn::after {
            content: '‚ñº';
            font-size: 0.7em;
            margin-left: 8px;
            transition: transform 0.3s ease;
        }

        .dropdown-btn.open::after {
            transform: rotate(180deg);
        }

        .dropdown-btn:hover {
            background: rgba(0, 195, 255, 0.3);
            border-color: rgba(0, 195, 255, 0.8);
            box-shadow: 0 0 20px rgba(0, 195, 255, 0.4);
            transform: translateY(-2px);
        }

        .dropdown-btn.active {
            background: rgba(0, 195, 255, 0.4);
            border-color: rgba(0, 195, 255, 0.8);
            box-shadow: 0 0 25px rgba(0, 195, 255, 0.5);
        }

        .dropdown-menu {
            position: absolute;
            top: calc(100% + 10px);
            left: 0;
            background: rgba(10, 14, 39, 0.95);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(0, 195, 255, 0.5);
            border-radius: 15px;
            min-width: 200px;
            box-shadow: 
                0 8px 32px rgba(0, 0, 0, 0.5),
                0 0 40px rgba(0, 195, 255, 0.2);
            opacity: 0;
            visibility: hidden;
            transform: translateY(-10px);
            transition: all 0.3s ease;
            z-index: 1000;
            overflow: hidden;
        }

        .dropdown-menu.open {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .dropdown-item {
            padding: 12px 20px;
            color: #88d0ff;
            cursor: pointer;
            font-family: 'Rajdhani', sans-serif;
            font-size: 0.95em;
            font-weight: 500;
            letter-spacing: 0.5px;
            transition: all 0.2s ease;
            border-bottom: 1px solid rgba(0, 195, 255, 0.1);
            display: block;
            text-decoration: none;
        }

        .dropdown-item:last-child {
            border-bottom: none;
        }

        .dropdown-item:hover {
            background: rgba(0, 195, 255, 0.2);
            color: #00c3ff;
            padding-left: 25px;
        }

        .dropdown-item.active {
            background: rgba(0, 195, 255, 0.3);
            color: #00c3ff;
            border-left: 3px solid rgba(0, 195, 255, 0.8);
        }

        header {
            background: rgba(10, 14, 39, 0.7);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(0, 195, 255, 0.3);
            padding: 40px;
            border-radius: 20px;
            box-shadow: 
                0 8px 32px rgba(0, 0, 0, 0.4),
                0 0 40px rgba(0, 195, 255, 0.1),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            margin-bottom: 50px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        header::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(0, 195, 255, 0.1), transparent);
            animation: scan 3s infinite;
        }

        @keyframes scan {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        h1 {
            font-family: 'Orbitron', sans-serif;
            color: #00c3ff;
            font-size: 3em;
            margin-bottom: 10px;
            font-weight: 900;
            text-shadow: 
                0 0 20px rgba(0, 195, 255, 0.5),
                0 0 40px rgba(0, 195, 255, 0.3);
            letter-spacing: 2px;
            position: relative;
            z-index: 1;
        }

        .subtitle {
            color: #88d0ff;
            font-size: 1.2em;
            font-weight: 300;
            letter-spacing: 1px;
            position: relative;
            z-index: 1;
        }

        .timeline {
            position: relative;
            padding: 30px 0;
        }

        .timeline-line {
            position: absolute;
            left: 50%;
            top: 0;
            bottom: 0;
            width: 3px;
            background: linear-gradient(to bottom, 
                rgba(0, 195, 255, 0.3) 0%,
                rgba(0, 195, 255, 0.8) 50%,
                rgba(0, 195, 255, 0.3) 100%);
            transform: translateX(-50%);
            z-index: 0;
            box-shadow: 
                0 0 10px rgba(0, 195, 255, 0.5),
                0 0 20px rgba(0, 195, 255, 0.3);
        }

        .timeline-item {
            position: relative;
            margin-bottom: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1;
        }

        .timeline-content {
            background: rgba(10, 14, 39, 0.6);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(0, 195, 255, 0.3);
            padding: 35px;
            border-radius: 20px;
            width: 65%;
            max-width: 750px;
            position: relative;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
            box-shadow: 
                0 8px 32px rgba(0, 0, 0, 0.3),
                0 0 0 0 rgba(0, 195, 255, 0);
        }

        .timeline-content::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            border-radius: 20px;
            padding: 1px;
            background: linear-gradient(135deg, 
                rgba(0, 195, 255, 0.5),
                rgba(255, 0, 150, 0.5),
                rgba(0, 255, 200, 0.5));
            -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
            -webkit-mask-composite: xor;
            mask-composite: exclude;
            opacity: 0;
            transition: opacity 0.4s;
        }

        .timeline-content:hover {
            transform: translateY(-8px) scale(1.02);
            border-color: rgba(0, 195, 255, 0.6);
            box-shadow: 
                0 20px 60px rgba(0, 0, 0, 0.4),
                0 0 40px rgba(0, 195, 255, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
        }

        .timeline-content:hover::before {
            opacity: 1;
        }

        .timeline-content.expanded {
            border-color: rgba(0, 195, 255, 0.6);
            box-shadow: 
                0 20px 60px rgba(0, 0, 0, 0.4),
                0 0 50px rgba(0, 195, 255, 0.4),
                inset 0 1px 0 rgba(255, 255, 255, 0.2);
        }

        .character-tagline,
        .character-summary {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s cubic-bezier(0.4, 0, 0.2, 1), 
                        margin-top 0.5s ease, 
                        opacity 0.5s ease;
            opacity: 0;
            margin-top: 0;
        }

        .christ-connection {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s cubic-bezier(0.4, 0, 0.2, 1), 
                        margin-top 0.5s ease, 
                        opacity 0.5s ease;
            opacity: 0;
            margin-top: 0;
            padding-top: 0;
            border-top: none;
        }

        .timeline-content.expanded .character-tagline {
            max-height: 150px;
            margin-top: 25px;
            opacity: 1;
        }

        .timeline-content.expanded .character-summary {
            max-height: 2000px;
            margin-top: 25px;
            opacity: 1;
        }

        .timeline-content.expanded .christ-connection {
            max-height: 500px;
            margin-top: 30px;
            padding-top: 25px;
            border-top: 1px solid rgba(0, 195, 255, 0.2);
            opacity: 1;
        }

        .christ-connection-title {
            font-family: 'Orbitron', sans-serif;
            color: #00c3ff;
            font-size: 0.95em;
            margin-bottom: 12px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .christ-connection-text {
            color: #b0c0d0;
            font-size: 0.95em;
            line-height: 1.6;
            font-style: italic;
        }

        .christ-connection-text .scripture-link {
            color: #88d0ff;
            font-weight: 600;
            font-style: normal;
        }

        .expand-icon {
            position: absolute;
            top: 35px;
            right: 35px;
            font-size: 1.8em;
            color: #00c3ff;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            text-shadow: 0 0 10px rgba(0, 195, 255, 0.5);
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            background: rgba(0, 195, 255, 0.1);
        }

        .timeline-content:hover .expand-icon {
            background: rgba(0, 195, 255, 0.2);
            box-shadow: 0 0 20px rgba(0, 195, 255, 0.4);
        }

        .timeline-content.expanded .expand-icon {
            transform: rotate(180deg);
            background: rgba(0, 195, 255, 0.3);
        }

        .character-name {
            font-family: 'Orbitron', sans-serif;
            font-size: 2.2em;
            color: #00c3ff;
            margin-bottom: 12px;
            font-weight: 700;
            text-shadow: 
                0 0 15px rgba(0, 195, 255, 0.4),
                0 0 30px rgba(0, 195, 255, 0.2);
            letter-spacing: 1px;
        }

        .character-date-row {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-bottom: 20px;
            flex-wrap: wrap;
            position: relative;
            z-index: 10;
        }

        .character-date {
            font-family: 'Orbitron', sans-serif;
            font-size: 1em;
            color: #88d0ff;
            font-weight: 400;
            letter-spacing: 2px;
            text-transform: uppercase;
            opacity: 0.9;
            white-space: nowrap;
        }

        .character-scripture {
            font-family: 'Rajdhani', sans-serif;
            font-size: 0.9em;
            color: #88d0ff;
            font-weight: 400;
            opacity: 0.8;
            font-style: italic;
            position: relative;
            z-index: 10;
            pointer-events: auto;
        }

        .scripture-link {
            color: #88d0ff;
            text-decoration: none;
            transition: all 0.3s ease;
            border-bottom: 1px solid transparent;
            position: relative;
            z-index: 10;
            pointer-events: auto;
            cursor: pointer;
        }

        .scripture-link:hover {
            color: #00c3ff;
            opacity: 1;
            border-bottom: 1px solid #00c3ff;
            text-shadow: 0 0 10px rgba(0, 195, 255, 0.5);
        }

        .character-intro {
            color: #c0d0e0;
            line-height: 1.8;
            font-size: 1.05em;
            margin-top: 15px;
            font-weight: 400;
        }

        .character-tagline {
            font-size: 1.15em;
            color: #88d0ff;
            margin-bottom: 20px;
            font-style: italic;
            font-weight: 300;
            border-left: 3px solid rgba(0, 195, 255, 0.5);
            padding-left: 15px;
        }

        .character-summary {
            color: #d0e0f0;
            line-height: 1.9;
            font-size: 1.05em;
            font-weight: 300;
        }

        .audio-btn {
            display: none;
            margin-top: 25px;
            padding: 12px 30px;
            background: rgba(0, 195, 255, 0.2);
            border: 1px solid rgba(0, 195, 255, 0.5);
            color: #00c3ff;
            border-radius: 25px;
            cursor: pointer;
            font-family: 'Orbitron', sans-serif;
            font-size: 0.9em;
            font-weight: 600;
            letter-spacing: 1px;
            transition: all 0.3s ease;
            text-transform: uppercase;
            position: relative;
            overflow: hidden;
        }

        .timeline-content.expanded .audio-btn {
            display: inline-block;
        }

        .audio-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(0, 195, 255, 0.3), transparent);
            transition: left 0.5s;
        }

        .audio-btn:hover {
            background: rgba(0, 195, 255, 0.3);
            border-color: rgba(0, 195, 255, 0.8);
            box-shadow: 
                0 0 20px rgba(0, 195, 255, 0.4),
                inset 0 0 20px rgba(0, 195, 255, 0.1);
            transform: translateY(-2px);
        }

        .audio-btn:hover::before {
            left: 100%;
        }

        .audio-btn.playing {
            background: rgba(0, 255, 150, 0.3);
            border-color: rgba(0, 255, 150, 0.8);
            box-shadow: 
                0 0 25px rgba(0, 255, 150, 0.5),
                inset 0 0 25px rgba(0, 255, 150, 0.2);
        }

        .audio-btn.playing::after {
            content: ' üîä';
            animation: pulse 1s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .dive-in-btn {
            display: none;
            padding: 12px 30px;
            background: linear-gradient(135deg, rgba(0, 150, 255, 0.3), rgba(0, 200, 255, 0.2));
            border: 1px solid rgba(0, 180, 255, 0.6);
            color: #88d0ff;
            border-radius: 25px;
            cursor: pointer;
            font-family: 'Orbitron', sans-serif;
            font-size: 0.9em;
            font-weight: 600;
            letter-spacing: 1px;
            transition: all 0.3s ease;
            text-transform: uppercase;
            position: relative;
            overflow: hidden;
            box-shadow: 
                0 0 15px rgba(0, 180, 255, 0.3),
                inset 0 0 10px rgba(0, 200, 255, 0.1);
            text-decoration: none;
        }

        .timeline-content.expanded .dive-in-btn {
            display: inline-block;
        }

        .dive-in-btn::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.1) 0%, transparent 70%);
            animation: wave 3s ease-in-out infinite;
        }

        @keyframes wave {
            0%, 100% {
                transform: translate(-50%, -50%) scale(0.8);
                opacity: 0.5;
            }
            50% {
                transform: translate(-50%, -50%) scale(1.2);
                opacity: 0.8;
            }
        }

        .dive-in-btn::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.6s;
        }

        .dive-in-btn:hover {
            background: linear-gradient(135deg, rgba(0, 150, 255, 0.4), rgba(0, 200, 255, 0.3));
            border-color: rgba(0, 180, 255, 0.9);
            box-shadow: 
                0 0 25px rgba(0, 180, 255, 0.5),
                inset 0 0 20px rgba(0, 200, 255, 0.2);
            transform: translateY(-2px);
            color: #66d9ff;
        }

        .dive-in-btn:hover::after {
            left: 100%;
        }

        .button-container {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 25px;
        }

        .button-container .audio-btn {
            margin-top: 0;
        }

        .button-container .dive-in-btn {
            margin-top: 0;
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 2em;
            }

            .timeline-line {
                left: 50%;
            }

            .timeline-item {
                padding-left: 0;
                margin-bottom: 30px;
            }

            .timeline {
                padding: 20px 0;
            }

            .timeline-content {
                width: 100%;
                max-width: 100%;
                padding: 25px;
            }

            .character-name {
                font-size: 1.8em;
            }

            .nav-menu {
                flex-direction: row;
                align-items: center;
                justify-content: center;
                gap: 20px;
            }

            .dropdown-btn {
                padding: 10px 15px;
                min-width: auto;
                width: 70px;
                height: 70px;
                justify-content: center;
                border-radius: 18px;
            }

            .dropdown-btn .text {
                display: none;
            }

            .dropdown-btn .emoji {
                display: inline;
                font-size: 1.5em;
            }

            .dropdown-btn::after {
                display: none;
            }

            .dropdown-menu {
                left: 50%;
                transform: translateX(-50%) translateY(-10px);
                min-width: 180px;
            }

            .dropdown-menu.open {
                transform: translateX(-50%) translateY(0);
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="nav-menu"></div>

        <header>
            <h1>üìñ Eventos de Lev√≠tico</h1>
            <p class="subtitle">Eventos Principales en Orden Cronol√≥gico</p>
        </header>

        <div class="timeline" id="timeline"></div>
    </div>

    <script>
        // Eventos principales en orden cronol√≥gico
        const mainEvents = [
            {
                name: "Las Leyes del Holocausto",
                date: "c. 1445 a.C.",
                scripture: "Lev√≠tico 1:1-17",
                intro: "Dios da instrucciones detalladas para el holocausto, un sacrificio completamente consumido por el fuego que representa la dedicaci√≥n total a Dios. Esta ofrenda exp√≠a el pecado y expresa la rendici√≥n completa del adorador.",
                tagline: "Rendici√≥n completa a Dios",
                summary: "El Se√±or llam√≥ a Mois√©s y le habl√≥ desde el tabern√°culo de reuni√≥n, dando instrucciones para el holocausto. Si la ofrenda es del ganado, debe ser un macho sin defecto. El adorador debe poner su mano sobre la cabeza del animal, y ser√° aceptado en su favor para hacer expiaci√≥n. El animal es degollado delante del Se√±or, y los sacerdotes roc√≠an la sangre contra el altar por todos lados. La ofrenda se corta en pedazos, y los sacerdotes los colocan sobre la le√±a ardiendo. Todo el animal se quema en el altar como ofrenda encendida, de olor grato al Se√±or. Tambi√©n se dan instrucciones para ofrendas del reba√±o (ovejas o cabras) y para aves (t√≥rtolas o palominos) para quienes no pueden pagar animales m√°s grandes. En cada caso, la ofrenda debe ser sin defecto, representando lo mejor dado a Dios.",
                christConnection: "El holocausto apunta al sacrificio completo de Cristo en la cruz, ofreci√©ndose totalmente a Dios en nuestro favor (<a href='https://www.biblegateway.com/passage/?search=Hebreos%2010%3A10&version=RVR1960' target='_blank' rel='noopener noreferrer' class='scripture-link'>Hebreos 10:10</a>). Cristo fue sin defecto, el perfecto Cordero de Dios (<a href='https://www.biblegateway.com/passage/?search=1%20Pedro%201%3A19&version=RVR1960' target='_blank' rel='noopener noreferrer' class='scripture-link'>1 Pedro 1:19</a>). Su sacrificio es ofrenda fragante a Dios (<a href='https://www.biblegateway.com/passage/?search=Efesios%205%3A2&version=RVR1960' target='_blank' rel='noopener noreferrer' class='scripture-link'>Efesios 5:2</a>)."
            },
            {
                name: "Las Leyes de la Ofrenda por el Pecado",
                date: "c. 1445 a.C.",
                scripture: "Lev√≠tico 4:1-5:13",
                intro: "Dios establece la ofrenda por el pecado para pecados involuntarios. Se requieren diferentes animales seg√∫n qui√©n pec√≥: sacerdote, congregaci√≥n, l√≠der o persona com√∫n. La sangre se aplica de maneras espec√≠ficas para hacer expiaci√≥n.",
                tagline: "Expiaci√≥n por el pecado",
                summary: "El Se√±or habl√≥ a Mois√©s sobre la ofrenda por el pecado cuando alguien peca involuntariamente. Si el sacerdote ungido peca, trayendo culpa sobre el pueblo, debe ofrecer un becerro sin defecto. Pone su mano sobre su cabeza, lo deg√ºella delante del Se√±or, y lleva parte de la sangre al tabern√°culo de reuni√≥n. Roc√≠a sangre siete veces ante el velo del santuario, pone sangre en los cuernos del altar del incienso, y derrama el resto a la base del altar del holocausto. La grasa se quema en el altar, pero el resto del becerro se saca fuera del campamento y se quema. Si toda la congregaci√≥n peca, ofrecen un becerro. Si un l√≠der peca, ofrece un macho cabr√≠o. Si una persona com√∫n peca, ofrece una cabra o cordera. En cada caso, la sangre se aplica, la grasa se quema, y se hace expiaci√≥n. Para quienes no pueden pagar un animal, se pueden ofrecer dos t√≥rtolas o palominos, o incluso flor de harina sin aceite ni incienso.",
                christConnection: "La ofrenda por el pecado prefigura a Cristo, quien se hizo pecado por nosotros para que fu√©semos hechos justicia de Dios (<a href='https://www.biblegateway.com/passage/?search=2%20Corintios%205%3A21&version=RVR1960' target='_blank' rel='noopener noreferrer' class='scripture-link'>2 Corintios 5:21</a>). Cristo sufri√≥ 'fuera del campamento' como la ofrenda por el pecado (<a href='https://www.biblegateway.com/passage/?search=Hebreos%2013%3A11-12&version=RVR1960' target='_blank' rel='noopener noreferrer' class='scripture-link'>Hebreos 13:11-12</a>). Su sangre nos limpia de todo pecado (<a href='https://www.biblegateway.com/passage/?search=1%20Juan%201%3A7&version=RVR1960' target='_blank' rel='noopener noreferrer' class='scripture-link'>1 Juan 1:7</a>)."
            },
            {
                name: "La Ordenaci√≥n de los Sacerdotes",
                date: "c. 1445 a.C.",
                scripture: "Lev√≠tico 8:1-36",
                intro: "Mois√©s consagra a Aar√≥n y sus hijos como sacerdotes ante toda la congregaci√≥n. La elaborada ceremonia de siete d√≠as incluye lavamiento, vestiduras, unci√≥n y sacrificios, apart√°ndolos para el servicio santo.",
                tagline: "Apartados para el servicio de Dios",
                summary: "El Se√±or orden√≥ a Mois√©s reunir a la asamblea a la entrada del tabern√°culo de reuni√≥n para la ordenaci√≥n de Aar√≥n y sus hijos. Mois√©s lav√≥ a Aar√≥n y sus hijos con agua, luego visti√≥ a Aar√≥n con las vestiduras sacerdotales: la t√∫nica, el cinto, el manto, el efod, el pectoral, el turbante y la l√°mina de oro santa. Mois√©s ungi√≥ el tabern√°culo y todo lo que hab√≠a en √©l con el aceite de la unci√≥n, luego derram√≥ aceite sobre la cabeza de Aar√≥n para consagrarlo. Visti√≥ a los hijos de Aar√≥n con t√∫nicas, cintos y tiaras. Mois√©s entonces ofreci√≥ un becerro como ofrenda por el pecado, un carnero como holocausto, y otro carnero como ofrenda de consagraci√≥n. La sangre de este carnero se puso en el l√≥bulo de la oreja derecha, el pulgar de la mano derecha y el dedo gordo del pie derecho de Aar√≥n y sus hijos, simbolizando su dedicaci√≥n completa. Mois√©s roci√≥ sangre y aceite sobre Aar√≥n y sus hijos y sus vestiduras. Se les orden√≥ permanecer a la entrada del tabern√°culo de reuni√≥n por siete d√≠as, completando su ordenaci√≥n. 'Haced lo que el Se√±or requiere, para que no mur√°is.'",
                christConnection: "El sacerdocio apunta a Cristo, nuestro gran Sumo Sacerdote que fue consagrado para siempre (<a href='https://www.biblegateway.com/passage/?search=Hebreos%207%3A26-28&version=RVR1960' target='_blank' rel='noopener noreferrer' class='scripture-link'>Hebreos 7:26-28</a>). Cristo no necesit√≥ ofrenda por el pecado para s√≠ mismo, siendo sin pecado (<a href='https://www.biblegateway.com/passage/?search=Hebreos%204%3A15&version=RVR1960' target='_blank' rel='noopener noreferrer' class='scripture-link'>Hebreos 4:15</a>). Por medio de Cristo, todos los creyentes somos ahora sacerdotes (<a href='https://www.biblegateway.com/passage/?search=1%20Pedro%202%3A9&version=RVR1960' target='_blank' rel='noopener noreferrer' class='scripture-link'>1 Pedro 2:9</a>)."
            },
            {
                name: "La Muerte de Nadab y Abi√∫",
                date: "c. 1445 a.C.",
                scripture: "Lev√≠tico 10:1-7",
                intro: "Los hijos de Aar√≥n, Nadab y Abi√∫, ofrecen fuego extra√±o delante del Se√±or y son inmediatamente consumidos por fuego de Su presencia. Este solemne evento demuestra la santidad de Dios y la importancia de acercarse a √âl seg√∫n Sus mandamientos.",
                tagline: "El costo de la irreverencia",
                summary: "Los hijos de Aar√≥n, Nadab y Abi√∫, tomaron cada uno su incensario, pusieron fuego en ellos, a√±adieron incienso, y ofrecieron fuego extra√±o delante del Se√±or, contrario a Su mandamiento. Sali√≥ fuego de la presencia del Se√±or y los consumi√≥, y murieron delante del Se√±or. Mois√©s dijo a Aar√≥n: 'Esto es lo que habl√≥ el Se√±or cuando dijo: En los que a m√≠ se acercan me santificar√©, y en presencia de todo el pueblo ser√© glorificado.' Aar√≥n guard√≥ silencio. Mois√©s llam√≥ a Misael y Elzaf√°n, hijos del t√≠o de Aar√≥n Uziel, y les dijo que llevaran a sus primos fuera del campamento, lejos del frente del santuario. Los llevaron, a√∫n en sus t√∫nicas, fuera del campamento. Mois√©s dijo a Aar√≥n y a sus hijos restantes, Eleazar e Itamar, que no descubrieran sus cabezas ni rasgaran sus vestidos, o morir√≠an y el Se√±or se enojar√≠a con toda la comunidad. No deb√≠an salir del tabern√°culo de reuni√≥n porque el aceite de la unci√≥n del Se√±or estaba sobre ellos. Este evento estableci√≥ una advertencia permanente sobre la santidad de la presencia de Dios y la adoraci√≥n apropiada.",
                christConnection: "Este evento revela la santidad de Dios y nuestra necesidad de un mediador perfecto. Solo Cristo puede llevarnos seguros a la presencia de Dios (<a href='https://www.biblegateway.com/passage/?search=Hebreos%2010%3A19-22&version=RVR1960' target='_blank' rel='noopener noreferrer' class='scripture-link'>Hebreos 10:19-22</a>). Por la sangre de Cristo, podemos acercarnos al trono de Dios con confianza (<a href='https://www.biblegateway.com/passage/?search=Hebreos%204%3A16&version=RVR1960' target='_blank' rel='noopener noreferrer' class='scripture-link'>Hebreos 4:16</a>). Cristo es el √∫nico camino al Padre (<a href='https://www.biblegateway.com/passage/?search=Juan%2014%3A6&version=RVR1960' target='_blank' rel='noopener noreferrer' class='scripture-link'>Juan 14:6</a>)."
            },
            {
                name: "Los Animales Limpios e Inmundos",
                date: "c. 1445 a.C.",
                scripture: "Lev√≠tico 11:1-47",
                intro: "Dios da a Israel leyes diet√©ticas detalladas distinguiendo animales limpios de inmundos. Estas leyes apartan a Israel de otras naciones y les ense√±an a hacer distinciones entre lo santo y lo profano en todas las √°reas de la vida.",
                tagline: "Santidad en la vida diaria",
                summary: "El Se√±or habl√≥ a Mois√©s y Aar√≥n, d√°ndoles regulaciones sobre animales limpios e inmundos. Entre los animales terrestres, pueden comer cualquiera que tenga pezu√±a hendida y rumie. Animales como el camello, el conejo y el cerdo son inmundos porque carecen de una de estas caracter√≠sticas. De las criaturas acu√°ticas, pueden comer cualquiera con aletas y escamas. Todos los dem√°s son abominaci√≥n. Entre las aves, varios depredadores y carro√±eros se listan como inmundos, incluyendo √°guilas, buitres, cuervos, b√∫hos y murci√©lagos. Los insectos voladores que caminan en cuatro patas son inmundos, excepto los que tienen patas articuladas para saltar como langostas y grillos. Varias criaturas que se arrastran en el suelo son inmundas. Cualquiera que toque el cad√°ver de un animal inmundo queda inmundo hasta la tarde. El Se√±or concluye: 'Yo soy el Se√±or que os hice subir de la tierra de Egipto para ser vuestro Dios; ser√©is, pues, santos, porque yo soy santo.' Estas leyes ense√±aron a Israel a distinguir entre lo limpio y lo inmundo, lo santo y lo com√∫n.",
                christConnection: "Cristo declar√≥ limpios todos los alimentos, mostrando que la verdadera pureza es del coraz√≥n (<a href='https://www.biblegateway.com/passage/?search=Marcos%207%3A18-19&version=RVR1960' target='_blank' rel='noopener noreferrer' class='scripture-link'>Marcos 7:18-19</a>). La visi√≥n a Pedro mostr√≥ que los gentiles no son inmundos (<a href='https://www.biblegateway.com/passage/?search=Hechos%2010%3A15&version=RVR1960' target='_blank' rel='noopener noreferrer' class='scripture-link'>Hechos 10:15</a>). En Cristo, somos llamados a una santidad que va m√°s all√° de la observancia externa (<a href='https://www.biblegateway.com/passage/?search=1%20Pedro%201%3A15-16&version=RVR1960' target='_blank' rel='noopener noreferrer' class='scripture-link'>1 Pedro 1:15-16</a>)."
            },
            {
                name: "El D√≠a de la Expiaci√≥n",
                date: "c. 1445 a.C.",
                scripture: "Lev√≠tico 16:1-34",
                intro: "El d√≠a m√°s sagrado del calendario de Israel, cuando el sumo sacerdote entra al Lugar Sant√≠simo para hacer expiaci√≥n por los pecados de la naci√≥n. Se usan dos machos cabr√≠os: uno sacrificado y otro enviado al desierto como chivo expiatorio.",
                tagline: "El d√≠a m√°s santo",
                summary: "El Se√±or habl√≥ a Mois√©s despu√©s de la muerte de los dos hijos de Aar√≥n, dando instrucciones para el D√≠a de la Expiaci√≥n‚Äîel √∫nico d√≠a en que el sumo sacerdote pod√≠a entrar al Lugar Sant√≠simo. Aar√≥n primero debe lavarse y ponerse las vestiduras sagradas de lino. Ofrece un becerro como ofrenda por el pecado para s√≠ mismo y su casa. Toma dos machos cabr√≠os: uno se sacrifica como ofrenda por el pecado del pueblo, y el otro se convierte en el chivo expiatorio. Aar√≥n toma un incensario de brasas ardientes e incienso detr√°s del velo al Lugar Sant√≠simo, donde la nube de incienso cubre el propiciatorio para que no muera. Roc√≠a sangre del becerro y del macho cabr√≠o sobre y delante del propiciatorio. Luego pone ambas manos sobre el macho cabr√≠o vivo, confiesa todos los pecados de Israel sobre √©l, y lo env√≠a al desierto, llevando sus pecados. El macho cabr√≠o es soltado en un lugar remoto. Este debe ser un estatuto perpetuo: en el d√≠a diez del mes s√©ptimo, deben afligir sus almas y no hacer ning√∫n trabajo. En este d√≠a se har√° expiaci√≥n por ustedes para limpiarlos de todos sus pecados delante del Se√±or.",
                christConnection: "El D√≠a de la Expiaci√≥n se cumple en Cristo, quien entr√≥ al cielo mismo como nuestro Sumo Sacerdote (<a href='https://www.biblegateway.com/passage/?search=Hebreos%209%3A11-12&version=RVR1960' target='_blank' rel='noopener noreferrer' class='scripture-link'>Hebreos 9:11-12</a>). Cristo es tanto el sacrificio como el chivo expiatorio, llevando nuestros pecados (<a href='https://www.biblegateway.com/passage/?search=Hebreos%209%3A28&version=RVR1960' target='_blank' rel='noopener noreferrer' class='scripture-link'>Hebreos 9:28</a>). Su sacrificio fue una vez para siempre, sin necesidad de repetici√≥n (<a href='https://www.biblegateway.com/passage/?search=Hebreos%2010%3A10&version=RVR1960' target='_blank' rel='noopener noreferrer' class='scripture-link'>Hebreos 10:10</a>)."
            },
            {
                name: "El C√≥digo de Santidad",
                date: "c. 1445 a.C.",
                scripture: "Lev√≠tico 19:1-37",
                intro: "Dios llama a Israel a ser santo como √âl es santo, dando mandamientos pr√°cticos que cubren cada √°rea de la vida‚Äîdesde la adoraci√≥n hasta la √©tica comercial, desde las relaciones familiares hasta el trato a los pobres y extranjeros.",
                tagline: "Sed santos, porque yo soy santo",
                summary: "El Se√±or habl√≥ a Mois√©s: 'Habla a toda la congregaci√≥n de los hijos de Israel, y diles: Santos ser√©is, porque santo soy yo Jehov√° vuestro Dios.' Los mandamientos incluyen: respeten a su madre y padre, guarden el s√°bado, no se vuelvan a los √≠dolos ni hagan dioses de fundici√≥n. Cuando sieguen la mies de su tierra, dejen las esquinas y las espigas para el pobre y el extranjero. No roben, no mientan, no enga√±en. No defrauden a su pr√≥jimo ni le roben. No retengan el salario del jornalero hasta la ma√±ana. No maldigan al sordo ni pongan tropiezo ante el ciego. No perviertan el juicio; no muestren parcialidad al pobre ni favorezcan al grande. No anden chismeando entre su pueblo. No aborrezcan a su hermano en su coraz√≥n; reprender√°n a su pr√≥jimo para que no participen de su pecado. No se venguen ni guarden rencor, sino amen a su pr√≥jimo como a ustedes mismos. Guarden mis estatutos. No mezclen diferentes clases de animales, no siembren dos tipos de semilla en su campo, ni usen ropa tejida de dos tipos de material. Lev√°ntense ante las canas. Cuando un extranjero resida entre ustedes, no lo maltraten; √°menlo como a ustedes mismos, porque extranjeros fueron en Egipto. Usen balanzas justas y medidas justas. Yo soy el Se√±or su Dios.",
                christConnection: "Cristo resumi√≥ la ley como amar a Dios y amar al pr√≥jimo (<a href='https://www.biblegateway.com/passage/?search=Mateo%2022%3A37-40&version=RVR1960' target='_blank' rel='noopener noreferrer' class='scripture-link'>Mateo 22:37-40</a>). 'Ama a tu pr√≥jimo como a ti mismo' es la ley real cumplida en Cristo (<a href='https://www.biblegateway.com/passage/?search=Santiago%202%3A8&version=RVR1960' target='_blank' rel='noopener noreferrer' class='scripture-link'>Santiago 2:8</a>). Por medio de Cristo, somos capacitados para vivir vidas santas (<a href='https://www.biblegateway.com/passage/?search=G√°latas%205%3A16&version=RVR1960' target='_blank' rel='noopener noreferrer' class='scripture-link'>G√°latas 5:16</a>)."
            },
            {
                name: "Las Fiestas del Se√±or",
                date: "c. 1445 a.C.",
                scripture: "Lev√≠tico 23:1-44",
                intro: "Dios establece el calendario sagrado de Israel con siete fiestas se√±aladas: S√°bado, Pascua, Panes sin Levadura, Primicias, Pentecost√©s, Trompetas, D√≠a de Expiaci√≥n y Tabern√°culos. Cada fiesta ense√±a verdades espirituales y apunta al plan redentor de Dios.",
                tagline: "Citas sagradas con Dios",
                summary: "El Se√±or habl√≥ a Mois√©s sobre las fiestas se√±aladas. El S√°bado es el d√≠a santo semanal de reposo. La Pascua es el d√≠a catorce del primer mes, seguida por la Fiesta de los Panes sin Levadura por siete d√≠as. La Fiesta de las Primicias celebra el comienzo de la cosecha‚Äîuna gavilla del primer grano se mece delante del Se√±or. Cincuenta d√≠as despu√©s viene la Fiesta de las Semanas (Pentecost√©s), cuando dos panes del nuevo grano se presentan. La Fiesta de las Trompetas el primer d√≠a del s√©ptimo mes se anuncia con toques de trompeta, un d√≠a de santa convocaci√≥n. El D√≠a de la Expiaci√≥n el d√≠a diez es un d√≠a de ayuno y sin trabajo, cuando se hace expiaci√≥n por todos los pecados. La Fiesta de los Tabern√°culos comienza el d√≠a quince y dura siete d√≠as, cuando Israel vive en caba√±as temporales recordando su peregrinaci√≥n en el desierto. El octavo d√≠a hay una santa convocaci√≥n. Estas son las fiestas se√±aladas del Se√±or, proclamadas como santas convocaciones para traer ofrendas encendidas‚Äîholocaustos, ofrendas de grano, sacrificios y libaciones, cada una en su d√≠a apropiado.",
                christConnection: "Cristo cumpli√≥ las fiestas de primavera en Su primera venida: √âl es nuestro Cordero Pascual, el Pan sin Levadura, las Primicias de la resurrecci√≥n (<a href='https://www.biblegateway.com/passage/?search=1%20Corintios%2015%3A20&version=RVR1960' target='_blank' rel='noopener noreferrer' class='scripture-link'>1 Corintios 15:20</a>). Pentecost√©s se cumpli√≥ cuando vino el Esp√≠ritu (<a href='https://www.biblegateway.com/passage/?search=Hechos%202%3A1-4&version=RVR1960' target='_blank' rel='noopener noreferrer' class='scripture-link'>Hechos 2:1-4</a>). Las fiestas de oto√±o esperan cumplimiento en el regreso de Cristo (<a href='https://www.biblegateway.com/passage/?search=1%20Tesalonicenses%204%3A16&version=RVR1960' target='_blank' rel='noopener noreferrer' class='scripture-link'>1 Tesalonicenses 4:16</a>)."
            },
            {
                name: "El A√±o Sab√°tico y el Jubileo",
                date: "c. 1445 a.C.",
                scripture: "Lev√≠tico 25:1-55",
                intro: "Dios establece el a√±o sab√°tico (cada s√©ptimo a√±o) y el A√±o del Jubileo (cada cincuenta a√±os). Estas leyes proveen descanso para la tierra, libertad para los esclavos y devoluci√≥n de propiedades ancestrales, demostrando la preocupaci√≥n de Dios por la justicia y la restauraci√≥n.",
                tagline: "Libertad y restauraci√≥n",
                summary: "El Se√±or habl√≥ a Mois√©s en el monte Sina√≠ sobre el a√±o sab√°tico y el jubileo. Por seis a√±os siembren sus campos y poden sus vi√±as, pero en el s√©ptimo a√±o la tierra debe tener un s√°bado de reposo. No siembren ni sieguen; coman solo lo que crece por s√≠ mismo. Cuenten siete a√±os sab√°ticos‚Äîcuarenta y nueve a√±os‚Äîluego consagren el a√±o cincuenta y proclamen libertad por toda la tierra. Este es el A√±o del Jubileo. Cada uno debe volver a su propiedad familiar y a su propio clan. En el Jubileo, no siembren ni sieguen; coman solo lo que la tierra produce. La propiedad vendida debe ser devuelta en el Jubileo; el precio se basa en el n√∫mero de a√±os hasta el Jubileo. La tierra no debe venderse permanentemente, porque la tierra es de Dios‚Äîustedes son solo forasteros y peregrinos. Si su hermano empobrece y se vende, no lo hagan trabajar como esclavo sino como jornalero hasta el Jubileo, cuando √©l y sus hijos ser√°n liberados. Los israelitas son siervos de Dios a quienes √âl sac√≥ de Egipto; no deben ser vendidos como esclavos.",
                christConnection: "Cristo proclam√≥ el a√±o agradable del Se√±or, el Jubileo definitivo (<a href='https://www.biblegateway.com/passage/?search=Lucas%204%3A18-19&version=RVR1960' target='_blank' rel='noopener noreferrer' class='scripture-link'>Lucas 4:18-19</a>). En Cristo, somos liberados de la esclavitud del pecado (<a href='https://www.biblegateway.com/passage/?search=Juan%208%3A36&version=RVR1960' target='_blank' rel='noopener noreferrer' class='scripture-link'>Juan 8:36</a>). Recibimos nuestra herencia eterna por medio de √âl (<a href='https://www.biblegateway.com/passage/?search=1%20Pedro%201%3A4&version=RVR1960' target='_blank' rel='noopener noreferrer' class='scripture-link'>1 Pedro 1:4</a>)."
            },
            {
                name: "Bendiciones y Maldiciones",
                date: "c. 1445 a.C.",
                scripture: "Lev√≠tico 26:1-46",
                intro: "Dios concluye la ley con promesas de bendici√≥n por la obediencia y advertencias de juicio por la desobediencia. Estas sanciones del pacto demuestran que la prosperidad de Israel depende enteramente de su fidelidad a Dios.",
                tagline: "La obediencia trae bendici√≥n",
                summary: "El Se√±or declara las consecuencias de la obediencia y la desobediencia. Si Israel camina en Sus estatutos y guarda Sus mandamientos: la lluvia vendr√° en su tiempo, la tierra dar√° sus frutos, comer√°n hasta saciarse y habitar√°n seguros. Dios dar√° paz, quitar√° las fieras, y dar√° victoria sobre los enemigos. Los mirar√° con favor, los har√° fruct√≠feros, y guardar√° Su pacto. Pondr√° Su morada entre ellos y andar√° entre ellos como su Dios. Pero si rechazan Sus estatutos y quebrantan Su pacto: traer√° terror repentino, enfermedades consumidoras, y derrota ante los enemigos. Si contin√∫an en hostilidad, multiplicar√° sus aflicciones siete veces. Enviar√° fieras, peste y hambre. Si a√∫n se niegan a escuchar, los esparcir√° entre las naciones y devastar√° su tierra. Sin embargo, aun entonces, si confiesan sus pecados y se humillan, Dios recordar√° Su pacto con Abraham, Isaac y Jacob. No los rechazar√° ni los destruir√° completamente. Recordar√° el pacto hecho cuando los sac√≥ de Egipto.",
                christConnection: "Cristo llev√≥ la maldici√≥n de la ley por nosotros (<a href='https://www.biblegateway.com/passage/?search=G√°latas%203%3A13&version=RVR1960' target='_blank' rel='noopener noreferrer' class='scripture-link'>G√°latas 3:13</a>). En Cristo, recibimos toda bendici√≥n espiritual (<a href='https://www.biblegateway.com/passage/?search=Efesios%201%3A3&version=RVR1960' target='_blank' rel='noopener noreferrer' class='scripture-link'>Efesios 1:3</a>). La promesa de Dios de nunca abandonar a Su pueblo se cumple en Cristo (<a href='https://www.biblegateway.com/passage/?search=Hebreos%2013%3A5&version=RVR1960' target='_blank' rel='noopener noreferrer' class='scripture-link'>Hebreos 13:5</a>)."
            }
        ];

        // Helper function to create Bible Gateway link
        function createBibleGatewayLink(scripture) {
            if (!scripture) return '';
            const encodedScripture = encodeURIComponent(scripture);
            const url = `https://www.biblegateway.com/passage/?search=${encodedScripture}&version=RVR1960`;
            return `<a href="${url}" target="_blank" rel="noopener noreferrer" class="scripture-link">${scripture}</a>`;
        }

        // Render timeline
        function renderTimeline() {
            const timeline = document.getElementById('timeline');
            timeline.innerHTML = '<div class="timeline-line"></div>';

            mainEvents.forEach((event, index) => {
                const item = document.createElement('div');
                item.className = 'timeline-item';

                const content = document.createElement('div');
                content.className = 'timeline-content';
                
                // Map event names to their dive-in page URLs
                const diveInPages = {
                    "Las Leyes del Holocausto": "dive-in-burnt-offering-es.html",
                    "Las Leyes de la Ofrenda por el Pecado": "dive-in-sin-offering-es.html",
                    "La Ordenaci√≥n de los Sacerdotes": "dive-in-ordination-es.html",
                    "La Muerte de Nadab y Abi√∫": "dive-in-nadab-abihu-es.html",
                    "Los Animales Limpios e Inmundos": "dive-in-clean-unclean-es.html",
                    "El D√≠a de la Expiaci√≥n": "dive-in-day-of-atonement-es.html",
                    "El C√≥digo de Santidad": "dive-in-holiness-code-es.html",
                    "Las Fiestas del Se√±or": "dive-in-feasts-es.html",
                    "El A√±o Sab√°tico y el Jubileo": "dive-in-jubilee-es.html",
                    "Bendiciones y Maldiciones": "dive-in-blessings-curses-es.html"
                };
                
                const diveInPage = diveInPages[event.name];
                const buttonsHTML = diveInPage 
                    ? `<div class="button-container">
                        <button class="audio-btn">Escuchar Historia</button>
                        <a href="${diveInPage}" class="dive-in-btn">¬°Sum√©rgete!</a>
                    </div>`
                    : `<div class="button-container">
                        <button class="audio-btn">Escuchar Historia</button>
                    </div>`;
                
                content.innerHTML = `
                    <div class="expand-icon">‚ñº</div>
                    <div class="character-name">${event.name}</div>
                    <div class="character-date-row">
                        <div class="character-date">${event.date}</div>
                        ${event.scripture ? `<div class="character-scripture">${createBibleGatewayLink(event.scripture)}</div>` : ''}
                    </div>
                    <div class="character-intro">${event.intro}</div>
                    <div class="character-tagline">${event.tagline}</div>
                    <div class="character-summary">${event.summary}</div>
                    ${event.christConnection ? `<div class="christ-connection">
                        <div class="christ-connection-title">Cristo en Esta Historia</div>
                        <div class="christ-connection-text">${event.christConnection}</div>
                    </div>` : ''}
                    ${buttonsHTML}
                `;

                content.addEventListener('click', (e) => {
                    if (!e.target.classList.contains('audio-btn') && 
                        !e.target.classList.contains('dive-in-btn') &&
                        !e.target.closest('.dive-in-btn') &&
                        !e.target.classList.contains('scripture-link') &&
                        !e.target.closest('.scripture-link') &&
                        !e.target.closest('.character-scripture')) {
                        content.classList.toggle('expanded');
                    }
                });

                const scriptureLinks = content.querySelectorAll('.scripture-link');
                scriptureLinks.forEach(link => {
                    link.addEventListener('click', (e) => {
                        e.stopPropagation();
                    });
                });

                const audioBtn = content.querySelector('.audio-btn');
                audioBtn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    const nameEl = content.querySelector('.character-name');
                    const introEl = content.querySelector('.character-intro');
                    const taglineEl = content.querySelector('.character-tagline');
                    const summaryEl = content.querySelector('.character-summary');
                    
                    const fullText = `${nameEl.textContent}. ${introEl.textContent} ${taglineEl.textContent ? taglineEl.textContent + '. ' : ''}${summaryEl.textContent}`;
                    playAudio(audioBtn, fullText);
                });

                item.appendChild(content);
                timeline.appendChild(item);
            });
        }

        // Speech synthesis setup
        let currentUtterance = null;
        let currentButton = null;
        let spanishVoice = null;

        function findSpanishVoice() {
            const voices = speechSynthesis.getVoices();
            const preferredVoices = [
                'Google espa√±ol',
                'Microsoft Helena',
                'Microsoft Laura',
                'Paulina',
                'Monica'
            ];
            
            for (const voiceName of preferredVoices) {
                const voice = voices.find(v => v.name.includes(voiceName) || v.name === voiceName);
                if (voice) return voice;
            }
            
            const spanishVoice = voices.find(v => v.lang.startsWith('es'));
            return spanishVoice || voices[0];
        }

        if (speechSynthesis.onvoiceschanged !== undefined) {
            speechSynthesis.onvoiceschanged = () => {
                spanishVoice = findSpanishVoice();
            };
        }

        setTimeout(() => {
            spanishVoice = findSpanishVoice();
        }, 100);

        function playAudio(button, text) {
            if (button === currentButton && button.classList.contains('playing')) {
                speechSynthesis.cancel();
                button.classList.remove('playing');
                button.textContent = 'Escuchar Historia';
                currentUtterance = null;
                currentButton = null;
                return;
            }

            if (currentUtterance && currentButton) {
                speechSynthesis.cancel();
                currentButton.classList.remove('playing');
                currentButton.textContent = 'Escuchar Historia';
            }

            currentUtterance = new SpeechSynthesisUtterance(text);
            
            if (spanishVoice) {
                currentUtterance.voice = spanishVoice;
            }
            currentUtterance.rate = 0.9;
            currentUtterance.pitch = 1;
            currentUtterance.volume = 1;
            currentUtterance.lang = 'es-ES';

            button.classList.add('playing');
            button.textContent = 'Reproduciendo...';
            currentButton = button;

            currentUtterance.onend = () => {
                button.classList.remove('playing');
                button.textContent = 'Escuchar Historia';
                currentUtterance = null;
                currentButton = null;
            };

            currentUtterance.onerror = () => {
                button.classList.remove('playing');
                button.textContent = 'Escuchar Historia';
                currentUtterance = null;
                currentButton = null;
            };

            speechSynthesis.speak(currentUtterance);
        }

        renderTimeline();

    </script>
    <script src="menu.js"></script>
</body>
</html>

