<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/png" href="favicon.png">
    <link rel="shortcut icon" type="image/png" href="favicon.png">
    <title>Ruth Timeline - Major Events</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdhani:wght@300;400;600;700&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Rajdhani', sans-serif;
            background: #0a0e27;
            background-image: 
                radial-gradient(circle at 20% 50%, rgba(0, 195, 255, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 80%, rgba(255, 0, 150, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 40% 20%, rgba(0, 255, 200, 0.05) 0%, transparent 50%);
            color: #e0e0e0;
            line-height: 1.6;
            min-height: 100vh;
            padding: 20px;
            overflow-x: hidden;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                radial-gradient(2px 2px at 20% 30%, rgba(0, 195, 255, 0.3), transparent),
                radial-gradient(2px 2px at 60% 70%, rgba(255, 0, 150, 0.3), transparent),
                radial-gradient(1px 1px at 50% 50%, rgba(0, 255, 200, 0.3), transparent),
                radial-gradient(1px 1px at 80% 10%, rgba(0, 195, 255, 0.2), transparent);
            background-size: 200% 200%;
            animation: particleMove 20s ease infinite;
            pointer-events: none;
            z-index: 0;
        }

        @keyframes particleMove {
            0%, 100% { background-position: 0% 0%, 100% 100%, 50% 50%, 80% 20%; }
            50% { background-position: 100% 100%, 0% 0%, 50% 50%, 20% 80%; }
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            position: relative;
            z-index: 1;
        }

        .nav-menu {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-bottom: 30px;
            flex-wrap: wrap;
            align-items: center;
        }

        .dropdown {
            position: relative;
            display: inline-block;
        }

        .dropdown-btn {
            padding: 12px 30px;
            background: rgba(0, 195, 255, 0.2);
            border: 1px solid rgba(0, 195, 255, 0.5);
            color: #00c3ff;
            border-radius: 25px;
            cursor: pointer;
            font-family: 'Orbitron', sans-serif;
            font-size: 0.9em;
            font-weight: 600;
            letter-spacing: 1px;
            transition: all 0.3s ease;
            text-transform: uppercase;
            display: flex;
            align-items: center;
            gap: 8px;
            min-width: 150px;
            justify-content: space-between;
        }

        .dropdown-btn .emoji {
            display: none;
        }

        .dropdown-btn .text {
            display: inline;
        }

        .dropdown-btn:hover {
            background: rgba(0, 195, 255, 0.3);
            border-color: rgba(0, 195, 255, 0.8);
            box-shadow: 0 0 20px rgba(0, 195, 255, 0.4);
            transform: translateY(-2px);
        }

        .dropdown-btn.active {
            background: rgba(0, 195, 255, 0.4);
            border-color: rgba(0, 195, 255, 0.8);
            box-shadow: 0 0 25px rgba(0, 195, 255, 0.5);
        }

        .dropdown-btn::after {
            content: 'â–¼';
            font-size: 0.7em;
            transition: transform 0.3s ease;
        }

        .dropdown-btn.open::after {
            transform: rotate(180deg);
        }

        .dropdown-menu {
            position: absolute;
            top: calc(100% + 10px);
            left: 0;
            background: rgba(10, 14, 39, 0.95);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(0, 195, 255, 0.5);
            border-radius: 15px;
            min-width: 200px;
            box-shadow: 
                0 8px 32px rgba(0, 0, 0, 0.5),
                0 0 40px rgba(0, 195, 255, 0.2);
            opacity: 0;
            visibility: hidden;
            transform: translateY(-10px);
            transition: all 0.3s ease;
            z-index: 1000;
            overflow: hidden;
        }

        .dropdown-menu.open {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .dropdown-item {
            padding: 12px 20px;
            color: #88d0ff;
            cursor: pointer;
            font-family: 'Rajdhani', sans-serif;
            font-size: 0.95em;
            font-weight: 500;
            letter-spacing: 0.5px;
            transition: all 0.2s ease;
            border-bottom: 1px solid rgba(0, 195, 255, 0.1);
            display: block;
            text-decoration: none;
        }

        .dropdown-item:last-child {
            border-bottom: none;
        }

        .dropdown-item:hover {
            background: rgba(0, 195, 255, 0.2);
            color: #00c3ff;
            padding-left: 25px;
        }

        .dropdown-item.active {
            background: rgba(0, 195, 255, 0.3);
            color: #00c3ff;
            border-left: 3px solid rgba(0, 195, 255, 0.8);
        }
        .dropdown-item.category-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            position: relative;
        }

        .dropdown-item.category-item .arrow {
            font-size: 0.7em;
            transition: transform 0.2s ease;
            margin-left: auto;
        }

        .dropdown-item.category-item:hover .arrow {
            transform: translateX(3px);
        }

        .submenu {
            background: rgba(5, 10, 25, 0.95);
            border-left: 3px solid rgba(0, 195, 255, 0.5);
            margin-left: 10px;
            border-radius: 0 0 10px 10px;
            overflow: hidden;
        }

        .submenu-item {
            padding-left: 35px !important;
            font-size: 0.9em;
        }

        .submenu-item:hover {
            padding-left: 40px !important;
        }


        header {
            background: rgba(10, 14, 39, 0.7);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(0, 195, 255, 0.3);
            padding: 40px;
            border-radius: 20px;
            box-shadow: 
                0 8px 32px rgba(0, 0, 0, 0.4),
                0 0 40px rgba(0, 195, 255, 0.1),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            margin-bottom: 50px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        header::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(0, 195, 255, 0.1), transparent);
            animation: scan 3s infinite;
        }

        @keyframes scan {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        h1 {
            font-family: 'Orbitron', sans-serif;
            color: #00c3ff;
            font-size: 3em;
            margin-bottom: 10px;
            font-weight: 900;
            text-shadow: 
                0 0 20px rgba(0, 195, 255, 0.5),
                0 0 40px rgba(0, 195, 255, 0.3);
            letter-spacing: 2px;
            position: relative;
            z-index: 1;
        }

        .subtitle {
            color: #88d0ff;
            font-size: 1.2em;
            font-weight: 300;
            letter-spacing: 1px;
            position: relative;
            z-index: 1;
        }

        .timeline {
            position: relative;
            padding: 30px 0;
        }

        .timeline-line {
            position: absolute;
            left: 50%;
            top: 0;
            bottom: 0;
            width: 3px;
            background: linear-gradient(to bottom, 
                rgba(0, 195, 255, 0.3) 0%,
                rgba(0, 195, 255, 0.8) 50%,
                rgba(0, 195, 255, 0.3) 100%);
            transform: translateX(-50%);
            z-index: 0;
            box-shadow: 
                0 0 10px rgba(0, 195, 255, 0.5),
                0 0 20px rgba(0, 195, 255, 0.3);
        }

        .timeline-item {
            position: relative;
            margin-bottom: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1;
        }

        .timeline-content {
            background: rgba(10, 14, 39, 0.6);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(0, 195, 255, 0.3);
            padding: 35px;
            border-radius: 20px;
            width: 65%;
            max-width: 750px;
            position: relative;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
            box-shadow: 
                0 8px 32px rgba(0, 0, 0, 0.3),
                0 0 0 0 rgba(0, 195, 255, 0);
        }

        .timeline-content::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            border-radius: 20px;
            padding: 1px;
            background: linear-gradient(135deg, 
                rgba(0, 195, 255, 0.5),
                rgba(255, 0, 150, 0.5),
                rgba(0, 255, 200, 0.5));
            -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
            -webkit-mask-composite: xor;
            mask-composite: exclude;
            opacity: 0;
            transition: opacity 0.4s;
        }

        .timeline-content:hover {
            transform: translateY(-8px) scale(1.02);
            border-color: rgba(0, 195, 255, 0.6);
            box-shadow: 
                0 20px 60px rgba(0, 0, 0, 0.4),
                0 0 40px rgba(0, 195, 255, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
        }

        .timeline-content:hover::before {
            opacity: 1;
        }

        .timeline-content.expanded {
            border-color: rgba(0, 195, 255, 0.6);
            box-shadow: 
                0 20px 60px rgba(0, 0, 0, 0.4),
                0 0 50px rgba(0, 195, 255, 0.4),
                inset 0 1px 0 rgba(255, 255, 255, 0.2);
        }

        .character-tagline,
        .character-summary {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s cubic-bezier(0.4, 0, 0.2, 1), 
                        margin-top 0.5s ease, 
                        opacity 0.5s ease;
            opacity: 0;
            margin-top: 0;
        }

        .christ-connection {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s cubic-bezier(0.4, 0, 0.2, 1), 
                        margin-top 0.5s ease, 
                        opacity 0.5s ease;
            opacity: 0;
            margin-top: 0;
            padding-top: 0;
            border-top: none;
        }

        .timeline-content.expanded .character-tagline {
            max-height: 150px;
            margin-top: 25px;
            opacity: 1;
        }

        .timeline-content.expanded .character-summary {
            max-height: 2000px;
            margin-top: 25px;
            opacity: 1;
        }

        .timeline-content.expanded .christ-connection {
            max-height: 500px;
            margin-top: 30px;
            padding-top: 25px;
            border-top: 1px solid rgba(0, 195, 255, 0.2);
            opacity: 1;
        }

        .christ-connection-title {
            font-family: 'Orbitron', sans-serif;
            color: #00c3ff;
            font-size: 0.95em;
            margin-bottom: 12px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .christ-connection-text {
            color: #b0c0d0;
            font-size: 0.95em;
            line-height: 1.6;
            font-style: italic;
        }

        .christ-connection-text .scripture-link {
            color: #88d0ff;
            font-weight: 600;
            font-style: normal;
        }

        .expand-icon {
            position: absolute;
            top: 35px;
            right: 35px;
            font-size: 1.8em;
            color: #00c3ff;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            text-shadow: 0 0 10px rgba(0, 195, 255, 0.5);
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            background: rgba(0, 195, 255, 0.1);
        }

        .timeline-content:hover .expand-icon {
            background: rgba(0, 195, 255, 0.2);
            box-shadow: 0 0 20px rgba(0, 195, 255, 0.4);
        }

        .timeline-content.expanded .expand-icon {
            transform: rotate(180deg);
            background: rgba(0, 195, 255, 0.3);
        }

        .character-name {
            font-family: 'Orbitron', sans-serif;
            font-size: 2.2em;
            color: #00c3ff;
            margin-bottom: 12px;
            font-weight: 700;
            text-shadow: 
                0 0 15px rgba(0, 195, 255, 0.4),
                0 0 30px rgba(0, 195, 255, 0.2);
            letter-spacing: 1px;
        }

        .character-date-row {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-bottom: 20px;
            flex-wrap: wrap;
            position: relative;
            z-index: 10;
        }

        .character-date {
            font-family: 'Orbitron', sans-serif;
            font-size: 1em;
            color: #88d0ff;
            font-weight: 400;
            letter-spacing: 2px;
            text-transform: uppercase;
            opacity: 0.9;
            white-space: nowrap;
        }

        .character-scripture {
            font-family: 'Rajdhani', sans-serif;
            font-size: 0.9em;
            color: #88d0ff;
            font-weight: 400;
            opacity: 0.8;
            font-style: italic;
            position: relative;
            z-index: 10;
            pointer-events: auto;
        }

        .scripture-link {
            color: #88d0ff;
            text-decoration: none;
            transition: all 0.3s ease;
            border-bottom: 1px solid transparent;
            position: relative;
            z-index: 10;
            pointer-events: auto;
            cursor: pointer;
        }

        .scripture-link:hover {
            color: #00c3ff;
            opacity: 1;
            border-bottom: 1px solid #00c3ff;
            text-shadow: 0 0 10px rgba(0, 195, 255, 0.5);
        }

        .character-intro {
            color: #c0d0e0;
            line-height: 1.8;
            font-size: 1.05em;
            margin-top: 15px;
            font-weight: 400;
        }

        .character-tagline {
            font-size: 1.15em;
            color: #88d0ff;
            margin-bottom: 20px;
            font-style: italic;
            font-weight: 300;
            border-left: 3px solid rgba(0, 195, 255, 0.5);
            padding-left: 15px;
        }

        .character-summary {
            color: #d0e0f0;
            line-height: 1.9;
            font-size: 1.05em;
            font-weight: 300;
        }

        .audio-btn {
            display: none;
            margin-top: 25px;
            padding: 12px 30px;
            background: rgba(0, 195, 255, 0.2);
            border: 1px solid rgba(0, 195, 255, 0.5);
            color: #00c3ff;
            border-radius: 25px;
            cursor: pointer;
            font-family: 'Orbitron', sans-serif;
            font-size: 0.9em;
            font-weight: 600;
            letter-spacing: 1px;
            transition: all 0.3s ease;
            text-transform: uppercase;
            position: relative;
            overflow: hidden;
        }

        .timeline-content.expanded .audio-btn {
            display: inline-block;
        }

        .audio-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(0, 195, 255, 0.3), transparent);
            transition: left 0.5s;
        }

        .audio-btn:hover {
            background: rgba(0, 195, 255, 0.3);
            border-color: rgba(0, 195, 255, 0.8);
            box-shadow: 
                0 0 20px rgba(0, 195, 255, 0.4),
                inset 0 0 20px rgba(0, 195, 255, 0.1);
            transform: translateY(-2px);
        }

        .audio-btn:hover::before {
            left: 100%;
        }

        .audio-btn.playing {
            background: rgba(0, 255, 150, 0.3);
            border-color: rgba(0, 255, 150, 0.8);
            box-shadow: 
                0 0 25px rgba(0, 255, 150, 0.5),
                inset 0 0 25px rgba(0, 255, 150, 0.2);
        }

        .audio-btn.playing::after {
            content: ' ðŸ”Š';
            animation: pulse 1s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .dive-in-btn {
            display: none;
            padding: 12px 30px;
            background: linear-gradient(135deg, rgba(0, 150, 255, 0.3), rgba(0, 200, 255, 0.2));
            border: 1px solid rgba(0, 180, 255, 0.6);
            color: #88d0ff;
            border-radius: 25px;
            cursor: pointer;
            font-family: 'Orbitron', sans-serif;
            font-size: 0.9em;
            font-weight: 600;
            letter-spacing: 1px;
            transition: all 0.3s ease;
            text-transform: uppercase;
            position: relative;
            overflow: hidden;
            box-shadow: 
                0 0 15px rgba(0, 180, 255, 0.3),
                inset 0 0 10px rgba(0, 200, 255, 0.1);
            text-decoration: none;
        }

        .timeline-content.expanded .dive-in-btn {
            display: inline-block;
        }

        .dive-in-btn::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.1) 0%, transparent 70%);
            animation: wave 3s ease-in-out infinite;
        }

        @keyframes wave {
            0%, 100% {
                transform: translate(-50%, -50%) scale(0.8);
                opacity: 0.5;
            }
            50% {
                transform: translate(-50%, -50%) scale(1.2);
                opacity: 0.8;
            }
        }

        .dive-in-btn::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.6s;
        }

        .dive-in-btn:hover {
            background: linear-gradient(135deg, rgba(0, 150, 255, 0.4), rgba(0, 200, 255, 0.3));
            border-color: rgba(0, 180, 255, 0.9);
            box-shadow: 
                0 0 25px rgba(0, 180, 255, 0.5),
                inset 0 0 20px rgba(0, 200, 255, 0.2);
            transform: translateY(-2px);
            color: #66d9ff;
        }

        .dive-in-btn:hover::after {
            left: 100%;
        }

        .button-container {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 25px;
        }

        .button-container .audio-btn {
            margin-top: 0;
        }

        .button-container .dive-in-btn {
            margin-top: 0;
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 2em;
            }

            .timeline-line {
                left: 50%;
            }

            .timeline-item {
                padding-left: 0;
                margin-bottom: 30px;
            }

            .timeline {
                padding: 20px 0;
            }

            .timeline-content {
                width: 100%;
                max-width: 100%;
                padding: 25px;
            }

            .character-name {
                font-size: 1.8em;
            }

            .nav-menu {
                flex-direction: row;
                align-items: center;
                justify-content: center;
                gap: 20px;
            }

            .dropdown-btn {
                padding: 10px 15px;
                min-width: auto;
                width: 70px;
                height: 70px;
                justify-content: center;
                border-radius: 18px;
            }

            .dropdown-btn .text {
                display: none;
            }

            .dropdown-btn .emoji {
                display: inline;
                font-size: 1.5em;
            }

            .dropdown-btn::after {
                display: none;
            }

            .dropdown-menu {
                left: 50%;
                transform: translateX(-50%) translateY(-10px);
                min-width: 180px;
            }

            .dropdown-menu.open {
                transform: translateX(-50%) translateY(0);
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="nav-menu"></div>

        <header>
            <h1>ðŸ“– Ruth Events</h1>
            <p class="subtitle">Major Events in the Book of Ruth</p>
        </header>

        <div class="timeline" id="timeline"></div>
    </div>

    <script>
        // Major events in Ruth
        const mainEvents = [
            {
                name: "Naomi and Ruth Return to Bethlehem",
                date: "c. 1100 BC",
                scripture: "Ruth 1:1-22",
                intro: "After losing her husband and sons in Moab, Naomi returns to Bethlehem with her faithful daughter-in-law Ruth. Ruth's commitment to Naomi and to the God of Israel demonstrates remarkable faith and loyalty.",
                tagline: "From loss to hope, from Moab to Bethlehem",
                summary: "In the days when the judges ruled, there was a famine in the land. So a man from Bethlehem in Judah, together with his wife and two sons, went to live for a while in the country of Moab. The man's name was Elimelek, his wife's name was Naomi, and the names of his two sons were Mahlon and Kilion. They were Ephrathites from Bethlehem, Judah. And they went to Moab and lived there. Now Elimelek, Naomi's husband, died, and she was left with her two sons. They married Moabite women, one named Orpah and the other Ruth. After they had lived there about ten years, both Mahlon and Kilion also died, and Naomi was left without her two sons and her husband. When Naomi heard in Moab that the Lord had come to the aid of his people by providing food for them, she and her daughters-in-law prepared to return home from there. With her two daughters-in-law she left the place where she had been living and set out on the road that would take them back to the land of Judah. Then Naomi said to her two daughters-in-law, 'Go back, each of you, to your mother's home. May the Lord show you kindness, as you have shown kindness to your dead husbands and to me. May the Lord grant that each of you will find rest in the home of another husband.' Then she kissed them goodbye and they wept aloud and said to her, 'We will go back with you to your people.' But Naomi said, 'Return home, my daughters. Why would you come with me? Am I going to have any more sons, who could become your husbands? Return home, my daughters; I am too old to have another husband. Even if I thought there was still hope for meâ€”even if I had a husband tonight and then gave birth to sonsâ€”would you wait until they grew up? Would you remain unmarried for them? No, my daughters. It is more bitter for me than for you, because the Lord's hand has turned against me!' At this they wept aloud again. Then Orpah kissed her mother-in-law goodbye, but Ruth clung to her. 'Look,' said Naomi, 'your sister-in-law is going back to her people and her gods. Go back with her.' But Ruth replied, 'Don't urge me to leave you or to turn back from you. Where you go I will go, and where you stay I will stay. Your people will be my people and your God my God. Where you die I will die, and there I will be buried. May the Lord deal with me, be it ever so severely, if even death separates you and me.' When Naomi realized that Ruth was determined to go with her, she stopped urging her. So the two women went on until they came to Bethlehem. When they arrived in Bethlehem, the whole town was stirred because of them, and the women exclaimed, 'Can this be Naomi?' 'Don't call me Naomi,' she told them. 'Call me Mara, because the Almighty has made my life very bitter. I went away full, but the Lord has brought me back empty. Why call me Naomi? The Lord has afflicted me; the Almighty has brought misfortune upon me.' So Naomi returned from Moab accompanied by Ruth the Moabite, her daughter-in-law, arriving in Bethlehem as the barley harvest was beginning.",
                christConnection: "Ruth's commitment to Naomi and to the God of Israel demonstrates that God's grace extends to all who believe, regardless of their background. As a Moabite, Ruth was outside the covenant people, but through faith, she becomes part of the line of Christ. This points forward to how we, as Gentiles, are brought into God's family through faith in Christ (<a href='https://www.biblegateway.com/passage/?search=Ephesians%202%3A11-13&version=NKJV' target='_blank' rel='noopener noreferrer' class='scripture-link'>Ephesians 2:11-13</a>)."
            },
            {
                name: "Ruth Meets Boaz",
                date: "c. 1100 BC",
                scripture: "Ruth 2:1-23",
                intro: "Ruth gleans in the fields of Boaz, who shows her extraordinary kindness. This encounter sets the stage for Boaz to act as a kinsman-redeemer, pointing forward to Christ, our ultimate Redeemer.",
                tagline: "Kindness in the fields, redemption in view",
                summary: "Now Naomi had a relative on her husband's side, a man of standing from the clan of Elimelek, whose name was Boaz. And Ruth the Moabite said to Naomi, 'Let me go to the fields and pick up the leftover grain behind anyone in whose eyes I find favor.' Naomi said to her, 'Go ahead, my daughter.' So she went out, entered a field and began to glean behind the harvesters. As it turned out, she was working in a field belonging to Boaz, who was from the clan of Elimelek. Just then Boaz arrived from Bethlehem and greeted the harvesters, 'The Lord be with you!' 'The Lord bless you!' they answered. Boaz asked the overseer of his harvesters, 'Who does that young woman belong to?' The overseer replied, 'She is the Moabite who came back from Moab with Naomi. She said, \"Please let me glean and gather among the sheaves behind the harvesters.\" She came into the field and has remained here from morning till now, except for a short rest in the shelter.' So Boaz said to Ruth, 'My daughter, listen to me. Don't go and glean in another field and don't go away from here. Stay here with the women who work for me. Watch the field where the men are harvesting, and follow along after the women. I have told the men not to lay a hand on you. And whenever you are thirsty, go and get a drink from the water jars the men have filled.' At this, she bowed down with her face to the ground. She asked him, 'Why have I found such favor in your eyes that you notice meâ€”a foreigner?' Boaz replied, 'I've been told all about what you have done for your mother-in-law since the death of your husbandâ€”how you left your father and mother and your homeland and came to live with a people you did not know before. May the Lord repay you for what you have done. May you be richly rewarded by the Lord, the God of Israel, under whose wings you have come to take refuge.' 'May I continue to find favor in your eyes, my lord,' she said. 'You have put me at ease by speaking kindly to your servantâ€”though I do not have the standing of one of your servants.' At mealtime Boaz said to her, 'Come over here. Have some bread and dip it in the wine vinegar.' When she sat down with the harvesters, he offered her some roasted grain. She ate all she wanted and had some left over. As she got up to glean, Boaz gave orders to his men, 'Even if she gathers among the sheaves, don't embarrass her. Rather, pull out some stalks for her from the bundles and leave them for her to pick up, and don't rebuke her.' So Ruth gleaned in the field until evening. Then she threshed the barley she had gathered, and it amounted to about an ephah. She carried it back to town, and her mother-in-law saw how much she had gathered. Ruth also brought out and gave her what she had left over after she had eaten enough. Her mother-in-law asked her, 'Where did you glean today? Where did you work? Blessed be the man who took notice of you!' Then Ruth told her mother-in-law about the one at whose place she had been working. 'The name of the man I worked with today is Boaz,' she said. 'The Lord bless him!' Naomi said to her daughter-in-law. 'He has not stopped showing his kindness to the living and the dead.' She added, 'That man is our close relative; he is one of our guardian-redeemers.' Then Ruth the Moabite said, 'He even said to me, \"Stay with my workers until they finish harvesting all my grain.\"' Naomi said to Ruth her daughter-in-law, 'It will be good for you, my daughter, to go with the women who work for him, because in someone else's field you might be harmed.' So Ruth stayed close to the women of Boaz to glean until the barley and wheat harvests were finished. And she lived with her mother-in-law.",
                christConnection: "Boaz's kindness to Ruth demonstrates the character of a true redeemer. His protection, provision, and care for Ruth point forward to how Christ, our ultimate Kinsman-Redeemer, protects, provides for, and cares for us. Boaz's role as a guardian-redeemer foreshadows Christ's work of redemption (<a href='https://www.biblegateway.com/passage/?search=Galatians%204%3A4-5&version=NKJV' target='_blank' rel='noopener noreferrer' class='scripture-link'>Galatians 4:4-5</a>)."
            },
            {
                name: "Boaz Redeems Ruth",
                date: "c. 1100 BC",
                scripture: "Ruth 3:1-4:22",
                intro: "Boaz acts as a kinsman-redeemer, marrying Ruth and redeeming the family line. This act of redemption points forward to Christ, who redeems us from sin and death and brings us into God's family.",
                tagline: "Redemption and restoration, pointing to Christ",
                summary: "One day Naomi her mother-in-law said to her, 'My daughter, I must find a home for you, where you will be well provided for. Now Boaz, with whose women you have worked, is a relative of ours. Tonight he will be winnowing barley on the threshing floor. Wash, put on perfume, and get dressed in your best clothes. Then go down to the threshing floor, but don't let him know you are there until he has finished eating and drinking. When he lies down, note the place where he is lying. Then go and uncover his feet and lie down. He will tell you what to do.' 'I will do whatever you say,' Ruth answered. So she went down to the threshing floor and did everything her mother-in-law told her to do. When Boaz had finished eating and drinking and was in good spirits, he went over to lie down at the far end of the grain pile. Ruth approached quietly, uncovered his feet and lay down. In the middle of the night something startled the man; he turnedâ€”and there was a woman lying at his feet! 'Who are you?' he asked. 'I am your servant Ruth,' she said. 'Spread the corner of your garment over me, since you are a guardian-redeemer of our family.' 'The Lord bless you, my daughter,' he replied. 'This kindness is greater than that which you showed earlier: You have not run after the younger men, whether rich or poor. And now, my daughter, don't be afraid. I will do for you all you ask. All the people of my town know that you are a woman of noble character. Although it is true that I am a guardian-redeemer of our family, there is another who is more closely related than I. Stay here for the night, and in the morning if he wants to do his duty as your guardian-redeemer, good; let him redeem you. But if he is not willing, as surely as the Lord lives I will do it. Lie here until morning.' So she lay at his feet until morning, but got up before anyone could be recognized; and he said, 'No one must know that a woman came to the threshing floor.' He also said, 'Bring me the shawl you are wearing and hold it out.' When she did so, he poured into it six measures of barley and placed the bundle on her. Then he went back to town. When Ruth came to her mother-in-law, Naomi asked, 'How did it go, my daughter?' Then she told her everything Boaz had done for her and added, 'He gave me these six measures of barley, saying, \"Don't go back to your mother-in-law empty-handed.\"' Then Naomi said, 'Wait, my daughter, until you find out what happens. For the man will not rest until the matter is settled today.' Meanwhile Boaz went up to the town gate and sat down there just as the guardian-redeemer he had mentioned came along. Boaz said, 'Come over here, my friend, and sit down.' So he went over and sat down. Boaz took ten of the elders of the town and said, 'Sit here,' and they did so. Then he said to the guardian-redeemer, 'Naomi, who has come back from Moab, is selling the piece of land that belonged to our relative Elimelek. I thought I should bring the matter to your attention and suggest that you buy it in the presence of these seated here and in the presence of the elders of my people. If you will redeem it, do so. But if you will not, tell me, so I will know. For no one has the right to do it except you, and I am next in line.' 'I will redeem it,' he said. Then Boaz said, 'On the day you buy the land from Naomi, you also acquire Ruth the Moabite, the dead man's widow, in order to maintain the name of the dead with his property.' At this, the guardian-redeemer said, 'Then I cannot redeem it because I might endanger my own estate. You redeem it yourself. I cannot do it.' (Now in earlier times in Israel, for the redemption and transfer of property to become final, one party took off his sandal and gave it to the other. This was the method of legalizing transactions in Israel.) So the guardian-redeemer said to Boaz, 'Buy it yourself.' And he removed his sandal. Then Boaz announced to the elders and all the people, 'Today you are witnesses that I have bought from Naomi all the property of Elimelek, Kilion and Mahlon. I have also acquired Ruth the Moabite, Mahlon's widow, as my wife, in order to maintain the name of the dead with his property, so that his name will not disappear from among his family or from his hometown. Today you are witnesses!' Then the elders and all the people at the gate said, 'We are witnesses. May the Lord make the woman who is coming into your home like Rachel and Leah, who together built up the family of Israel. May you have standing in Ephrathah and be famous in Bethlehem. Through the offspring the Lord gives you by this young woman, may your family be like that of Perez, whom Tamar bore to Judah.' So Boaz took Ruth and she became his wife. When he made love to her, the Lord enabled her to conceive, and she gave birth to a son. The women said to Naomi: 'Praise be to the Lord, who this day has not left you without a guardian-redeemer. May he become famous throughout Israel! He will renew your life and sustain you in your old age. For your daughter-in-law, who loves you and who is better to you than seven sons, has given him birth.' Then Naomi took the child in her arms and cared for him. The women living there said, 'Naomi has a son!' And they named him Obed. He was the father of Jesse, the father of David.",
                christConnection: "Boaz's redemption of Ruth and Naomi's family line points forward to Christ, who redeems us from sin and death. Just as Boaz redeemed Ruth and brought her into his family, Christ redeems us and brings us into God's family. Boaz's role as kinsman-redeemer perfectly foreshadows Christ's work of redemption (<a href='https://www.biblegateway.com/passage/?search=Ephesians%201%3A7&version=NKJV' target='_blank' rel='noopener noreferrer' class='scripture-link'>Ephesians 1:7</a>). Through Ruth and Boaz, God preserves the line that leads to David and ultimately to Christ, showing that God's plan of redemption includes all who believe, regardless of their background."
            }
        ];

        // Helper function to create Bible Gateway link
        function createBibleGatewayLink(scripture) {
            if (!scripture) return '';
            const encodedScripture = encodeURIComponent(scripture);
            const url = `https://www.biblegateway.com/passage/?search=${encodedScripture}&version=NKJV`;
            return `<a href="${url}" target="_blank" rel="noopener noreferrer" class="scripture-link">${scripture}</a>`;
        }

        // Render timeline
        function renderTimeline() {
            const timeline = document.getElementById('timeline');
            timeline.innerHTML = '<div class="timeline-line"></div>';

            mainEvents.forEach((event, index) => {
                const item = document.createElement('div');
                item.className = 'timeline-item';

                const content = document.createElement('div');
                content.className = 'timeline-content';
                
                // Map event names to their dive-in page URLs
                const diveInPages = {
                    "Naomi and Ruth Return to Bethlehem": "dive-in-ruth-commitment.html",
                    "Ruth Meets Boaz": "dive-in-ruth-meets-boaz.html",
                    "Boaz Redeems Ruth": "dive-in-boaz-redeems-ruth.html"
                };
                
                const diveInPage = diveInPages[event.name];
                const buttonsHTML = diveInPage 
                    ? `<div class="button-container">
                        <button class="audio-btn">Listen to Story</button>
                        <a href="${diveInPage}" class="dive-in-btn">Dive In!</a>
                    </div>`
                    : `<div class="button-container">
                        <button class="audio-btn">Listen to Story</button>
                    </div>`;
                
                content.innerHTML = `
                    <div class="expand-icon">â–¼</div>
                    <div class="character-name">${event.name}</div>
                    <div class="character-date-row">
                        <div class="character-date">${event.date}</div>
                        ${event.scripture ? `<div class="character-scripture">${createBibleGatewayLink(event.scripture)}</div>` : ''}
                    </div>
                    <div class="character-intro">${event.intro}</div>
                    <div class="character-tagline">${event.tagline}</div>
                    <div class="character-summary">${event.summary}</div>
                    ${event.christConnection ? `<div class="christ-connection">
                        <div class="christ-connection-title">Christ in This Story</div>
                        <div class="christ-connection-text">${event.christConnection}</div>
                    </div>` : ''}
                    ${buttonsHTML}
                `;

                content.addEventListener('click', (e) => {
                    if (!e.target.classList.contains('audio-btn') && 
                        !e.target.classList.contains('dive-in-btn') &&
                        !e.target.closest('.dive-in-btn') &&
                        !e.target.classList.contains('scripture-link') &&
                        !e.target.closest('.scripture-link') &&
                        !e.target.closest('.character-scripture')) {
                        content.classList.toggle('expanded');
                    }
                });

                const scriptureLinks = content.querySelectorAll('.scripture-link');
                scriptureLinks.forEach(link => {
                    link.addEventListener('click', (e) => {
                        e.stopPropagation();
                    });
                });

                const audioBtn = content.querySelector('.audio-btn');
                audioBtn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    const nameEl = content.querySelector('.character-name');
                    const introEl = content.querySelector('.character-intro');
                    const taglineEl = content.querySelector('.character-tagline');
                    const summaryEl = content.querySelector('.character-summary');
                    const christEl = content.querySelector('.christ-connection-text');
                    
                    const fullText = `${nameEl.textContent}. ${introEl.textContent} ${taglineEl.textContent ? taglineEl.textContent + '. ' : ''}${summaryEl.textContent}${christEl ? '. ' + christEl.textContent : ''}`;
                    playAudio(audioBtn, fullText);
                });

                item.appendChild(content);
                timeline.appendChild(item);
            });
        }

        // Speech synthesis setup
        let currentUtterance = null;
        let currentButton = null;
        let jarvisVoice = null;

        function findJarvisVoice() {
            const voices = speechSynthesis.getVoices();
            const preferredVoices = [
                'Google UK English Male',
                'Microsoft Zira - English (United States)',
                'Microsoft David - English (United States)',
                'Alex',
                'Daniel'
            ];
            
            for (const voiceName of preferredVoices) {
                const voice = voices.find(v => v.name.includes(voiceName) || v.name === voiceName);
                if (voice) return voice;
            }
            
            const maleVoice = voices.find(v => 
                v.lang.startsWith('en') && 
                (v.name.toLowerCase().includes('male') || 
                 v.name.toLowerCase().includes('david') ||
                 v.name.toLowerCase().includes('daniel'))
            );
            
            return maleVoice || voices.find(v => v.lang.startsWith('en')) || voices[0];
        }

        if (speechSynthesis.onvoiceschanged !== undefined) {
            speechSynthesis.onvoiceschanged = () => {
                jarvisVoice = findJarvisVoice();
            };
        }

        setTimeout(() => {
            jarvisVoice = findJarvisVoice();
        }, 100);

        function playAudio(button, text) {
            if (button === currentButton && button.classList.contains('playing')) {
                speechSynthesis.cancel();
                button.classList.remove('playing');
                button.textContent = 'Listen to Story';
                currentUtterance = null;
                currentButton = null;
                return;
            }

            if (currentUtterance && currentButton) {
                speechSynthesis.cancel();
                currentButton.classList.remove('playing');
                currentButton.textContent = 'Listen to Story';
            }

            currentUtterance = new SpeechSynthesisUtterance(text);
            
            if (jarvisVoice) {
                currentUtterance.voice = jarvisVoice;
            }
            currentUtterance.rate = 0.9;
            currentUtterance.pitch = 0.8;
            currentUtterance.volume = 1;
            currentUtterance.lang = 'en-GB';

            button.classList.add('playing');
            button.textContent = 'Playing...';
            currentButton = button;

            currentUtterance.onend = () => {
                button.classList.remove('playing');
                button.textContent = 'Listen to Story';
                currentUtterance = null;
                currentButton = null;
            };

            currentUtterance.onerror = () => {
                button.classList.remove('playing');
                button.textContent = 'Listen to Story';
                currentUtterance = null;
                currentButton = null;
            };

            speechSynthesis.speak(currentUtterance);
        }

        renderTimeline();

    </script>
    <script src="menu.js"></script>
</body>
</html>

