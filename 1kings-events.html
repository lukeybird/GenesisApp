<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/png" href="favicon.png">
    <link rel="shortcut icon" type="image/png" href="favicon.png">
    <title>1 Kings Timeline - Major Events</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdhani:wght@300;400;600;700&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Rajdhani', sans-serif;
            background: #0a0e27;
            background-image: 
                radial-gradient(circle at 20% 50%, rgba(0, 195, 255, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 80%, rgba(255, 0, 150, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 40% 20%, rgba(0, 255, 200, 0.05) 0%, transparent 50%);
            color: #e0e0e0;
            line-height: 1.6;
            min-height: 100vh;
            padding: 20px;
            overflow-x: hidden;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                radial-gradient(2px 2px at 20% 30%, rgba(0, 195, 255, 0.3), transparent),
                radial-gradient(2px 2px at 60% 70%, rgba(255, 0, 150, 0.3), transparent),
                radial-gradient(1px 1px at 50% 50%, rgba(0, 255, 200, 0.3), transparent),
                radial-gradient(1px 1px at 80% 10%, rgba(0, 195, 255, 0.2), transparent);
            background-size: 200% 200%;
            animation: particleMove 20s ease infinite;
            pointer-events: none;
            z-index: 0;
        }

        @keyframes particleMove {
            0%, 100% { background-position: 0% 0%, 100% 100%, 50% 50%, 80% 20%; }
            50% { background-position: 100% 100%, 0% 0%, 50% 50%, 20% 80%; }
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            position: relative;
            z-index: 1;
        }

        .nav-menu {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-bottom: 30px;
            flex-wrap: wrap;
            align-items: center;
        }

        .dropdown {
            position: relative;
            display: inline-block;
        }

        .dropdown-btn {
            padding: 12px 30px;
            background: rgba(0, 195, 255, 0.2);
            border: 1px solid rgba(0, 195, 255, 0.5);
            color: #00c3ff;
            border-radius: 25px;
            cursor: pointer;
            font-family: 'Orbitron', sans-serif;
            font-size: 0.9em;
            font-weight: 600;
            letter-spacing: 1px;
            transition: all 0.3s ease;
            text-transform: uppercase;
            display: flex;
            align-items: center;
            gap: 8px;
            min-width: 150px;
            justify-content: space-between;
        }

        .dropdown-btn .emoji {
            display: none;
        }

        .dropdown-btn .text {
            display: inline;
        }

        .dropdown-btn:hover {
            background: rgba(0, 195, 255, 0.3);
            border-color: rgba(0, 195, 255, 0.8);
            box-shadow: 0 0 20px rgba(0, 195, 255, 0.4);
            transform: translateY(-2px);
        }

        .dropdown-btn.active {
            background: rgba(0, 195, 255, 0.4);
            border-color: rgba(0, 195, 255, 0.8);
            box-shadow: 0 0 25px rgba(0, 195, 255, 0.5);
        }

        .dropdown-btn::after {
            content: 'â–¼';
            font-size: 0.7em;
            transition: transform 0.3s ease;
        }

        .dropdown-btn.open::after {
            transform: rotate(180deg);
        }

        .dropdown-menu {
            position: absolute;
            top: calc(100% + 10px);
            left: 0;
            background: rgba(10, 14, 39, 0.95);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(0, 195, 255, 0.5);
            border-radius: 15px;
            min-width: 200px;
            box-shadow: 
                0 8px 32px rgba(0, 0, 0, 0.5),
                0 0 40px rgba(0, 195, 255, 0.2);
            opacity: 0;
            visibility: hidden;
            transform: translateY(-10px);
            transition: all 0.3s ease;
            z-index: 1000;
            overflow: hidden;
        }

        .dropdown-menu.open {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .dropdown-item {
            padding: 12px 20px;
            color: #88d0ff;
            cursor: pointer;
            font-family: 'Rajdhani', sans-serif;
            font-size: 0.95em;
            font-weight: 500;
            letter-spacing: 0.5px;
            transition: all 0.2s ease;
            border-bottom: 1px solid rgba(0, 195, 255, 0.1);
            display: block;
            text-decoration: none;
        }

        .dropdown-item:last-child {
            border-bottom: none;
        }

        .dropdown-item:hover {
            background: rgba(0, 195, 255, 0.2);
            color: #00c3ff;
            padding-left: 25px;
        }

        .dropdown-item.active {
            background: rgba(0, 195, 255, 0.3);
            color: #00c3ff;
            border-left: 3px solid rgba(0, 195, 255, 0.8);
        }
        .dropdown-item.category-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            position: relative;
        }

        .dropdown-item.category-item .arrow {
            font-size: 0.7em;
            transition: transform 0.2s ease;
            margin-left: auto;
        }

        .dropdown-item.category-item:hover .arrow {
            transform: translateX(3px);
        }

        .submenu {
            background: rgba(5, 10, 25, 0.95);
            border-left: 3px solid rgba(0, 195, 255, 0.5);
            margin-left: 10px;
            border-radius: 0 0 10px 10px;
            overflow: hidden;
        }

        .submenu-item {
            padding-left: 35px !important;
            font-size: 0.9em;
        }

        .submenu-item:hover {
            padding-left: 40px !important;
        }


        header {
            background: rgba(10, 14, 39, 0.7);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(0, 195, 255, 0.3);
            padding: 40px;
            border-radius: 20px;
            box-shadow: 
                0 8px 32px rgba(0, 0, 0, 0.4),
                0 0 40px rgba(0, 195, 255, 0.1),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            margin-bottom: 50px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        header::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(0, 195, 255, 0.1), transparent);
            animation: scan 3s infinite;
        }

        @keyframes scan {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        h1 {
            font-family: 'Orbitron', sans-serif;
            color: #00c3ff;
            font-size: 3em;
            margin-bottom: 10px;
            font-weight: 900;
            text-shadow: 
                0 0 20px rgba(0, 195, 255, 0.5),
                0 0 40px rgba(0, 195, 255, 0.3);
            letter-spacing: 2px;
            position: relative;
            z-index: 1;
        }

        .subtitle {
            color: #88d0ff;
            font-size: 1.2em;
            font-weight: 300;
            letter-spacing: 1px;
            position: relative;
            z-index: 1;
        }

        .timeline {
            position: relative;
            padding: 30px 0;
        }

        .timeline-line {
            position: absolute;
            left: 50%;
            top: 0;
            bottom: 0;
            width: 3px;
            background: linear-gradient(to bottom, 
                rgba(0, 195, 255, 0.3) 0%,
                rgba(0, 195, 255, 0.8) 50%,
                rgba(0, 195, 255, 0.3) 100%);
            transform: translateX(-50%);
            z-index: 0;
            box-shadow: 
                0 0 10px rgba(0, 195, 255, 0.5),
                0 0 20px rgba(0, 195, 255, 0.3);
        }

        .timeline-item {
            position: relative;
            margin-bottom: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1;
        }

        .timeline-content {
            background: rgba(10, 14, 39, 0.6);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(0, 195, 255, 0.3);
            padding: 35px;
            border-radius: 20px;
            width: 65%;
            max-width: 750px;
            position: relative;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
            box-shadow: 
                0 8px 32px rgba(0, 0, 0, 0.3),
                0 0 0 0 rgba(0, 195, 255, 0);
        }

        .timeline-content::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            border-radius: 20px;
            padding: 1px;
            background: linear-gradient(135deg, 
                rgba(0, 195, 255, 0.5),
                rgba(255, 0, 150, 0.5),
                rgba(0, 255, 200, 0.5));
            -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
            -webkit-mask-composite: xor;
            mask-composite: exclude;
            opacity: 0;
            transition: opacity 0.4s;
        }

        .timeline-content:hover {
            transform: translateY(-8px) scale(1.02);
            border-color: rgba(0, 195, 255, 0.6);
            box-shadow: 
                0 20px 60px rgba(0, 0, 0, 0.4),
                0 0 40px rgba(0, 195, 255, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
        }

        .timeline-content:hover::before {
            opacity: 1;
        }

        .timeline-content.expanded {
            border-color: rgba(0, 195, 255, 0.6);
            box-shadow: 
                0 20px 60px rgba(0, 0, 0, 0.4),
                0 0 50px rgba(0, 195, 255, 0.4),
                inset 0 1px 0 rgba(255, 255, 255, 0.2);
        }

        .character-tagline,
        .character-summary {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s cubic-bezier(0.4, 0, 0.2, 1), 
                        margin-top 0.5s ease, 
                        opacity 0.5s ease;
            opacity: 0;
            margin-top: 0;
        }

        .christ-connection {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s cubic-bezier(0.4, 0, 0.2, 1), 
                        margin-top 0.5s ease, 
                        opacity 0.5s ease;
            opacity: 0;
            margin-top: 0;
            padding-top: 0;
            border-top: none;
        }

        .timeline-content.expanded .character-tagline {
            max-height: 150px;
            margin-top: 25px;
            opacity: 1;
        }

        .timeline-content.expanded .character-summary {
            max-height: 2000px;
            margin-top: 25px;
            opacity: 1;
        }

        .timeline-content.expanded .christ-connection {
            max-height: 500px;
            margin-top: 30px;
            padding-top: 25px;
            border-top: 1px solid rgba(0, 195, 255, 0.2);
            opacity: 1;
        }

        .christ-connection-title {
            font-family: 'Orbitron', sans-serif;
            color: #00c3ff;
            font-size: 0.95em;
            margin-bottom: 12px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .christ-connection-text {
            color: #b0c0d0;
            font-size: 0.95em;
            line-height: 1.6;
            font-style: italic;
        }

        .christ-connection-text .scripture-link {
            color: #88d0ff;
            font-weight: 600;
            font-style: normal;
        }

        .expand-icon {
            position: absolute;
            top: 35px;
            right: 35px;
            font-size: 1.8em;
            color: #00c3ff;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            text-shadow: 0 0 10px rgba(0, 195, 255, 0.5);
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            background: rgba(0, 195, 255, 0.1);
        }

        .timeline-content:hover .expand-icon {
            background: rgba(0, 195, 255, 0.2);
            box-shadow: 0 0 20px rgba(0, 195, 255, 0.4);
        }

        .timeline-content.expanded .expand-icon {
            transform: rotate(180deg);
            background: rgba(0, 195, 255, 0.3);
        }

        .character-name {
            font-family: 'Orbitron', sans-serif;
            font-size: 2.2em;
            color: #00c3ff;
            margin-bottom: 12px;
            font-weight: 700;
            text-shadow: 
                0 0 15px rgba(0, 195, 255, 0.4),
                0 0 30px rgba(0, 195, 255, 0.2);
            letter-spacing: 1px;
        }

        .character-date-row {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-bottom: 20px;
            flex-wrap: wrap;
            position: relative;
            z-index: 10;
        }

        .character-date {
            font-family: 'Orbitron', sans-serif;
            font-size: 1em;
            color: #88d0ff;
            font-weight: 400;
            letter-spacing: 2px;
            text-transform: uppercase;
            opacity: 0.9;
            white-space: nowrap;
        }

        .character-scripture {
            font-family: 'Rajdhani', sans-serif;
            font-size: 0.9em;
            color: #88d0ff;
            font-weight: 400;
            opacity: 0.8;
            font-style: italic;
            position: relative;
            z-index: 10;
            pointer-events: auto;
        }

        .scripture-link {
            color: #88d0ff;
            text-decoration: none;
            transition: all 0.3s ease;
            border-bottom: 1px solid transparent;
            position: relative;
            z-index: 10;
            pointer-events: auto;
            cursor: pointer;
        }

        .scripture-link:hover {
            color: #00c3ff;
            opacity: 1;
            border-bottom: 1px solid #00c3ff;
            text-shadow: 0 0 10px rgba(0, 195, 255, 0.5);
        }

        .character-intro {
            color: #c0d0e0;
            line-height: 1.8;
            font-size: 1.05em;
            margin-top: 15px;
            font-weight: 400;
        }

        .character-tagline {
            font-size: 1.15em;
            color: #88d0ff;
            margin-bottom: 20px;
            font-style: italic;
            font-weight: 300;
            border-left: 3px solid rgba(0, 195, 255, 0.5);
            padding-left: 15px;
        }

        .character-summary {
            color: #d0e0f0;
            line-height: 1.9;
            font-size: 1.05em;
            font-weight: 300;
        }

        .audio-btn {
            display: none;
            margin-top: 25px;
            padding: 12px 30px;
            background: rgba(0, 195, 255, 0.2);
            border: 1px solid rgba(0, 195, 255, 0.5);
            color: #00c3ff;
            border-radius: 25px;
            cursor: pointer;
            font-family: 'Orbitron', sans-serif;
            font-size: 0.9em;
            font-weight: 600;
            letter-spacing: 1px;
            transition: all 0.3s ease;
            text-transform: uppercase;
            position: relative;
            overflow: hidden;
        }

        .timeline-content.expanded .audio-btn {
            display: inline-block;
        }

        .audio-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(0, 195, 255, 0.3), transparent);
            transition: left 0.5s;
        }

        .audio-btn:hover {
            background: rgba(0, 195, 255, 0.3);
            border-color: rgba(0, 195, 255, 0.8);
            box-shadow: 
                0 0 20px rgba(0, 195, 255, 0.4),
                inset 0 0 20px rgba(0, 195, 255, 0.1);
            transform: translateY(-2px);
        }

        .audio-btn:hover::before {
            left: 100%;
        }

        .audio-btn.playing {
            background: rgba(0, 255, 150, 0.3);
            border-color: rgba(0, 255, 150, 0.8);
            box-shadow: 
                0 0 25px rgba(0, 255, 150, 0.5),
                inset 0 0 25px rgba(0, 255, 150, 0.2);
        }

        .audio-btn.playing::after {
            content: ' ðŸ”Š';
            animation: pulse 1s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .dive-in-btn {
            display: none;
            padding: 12px 30px;
            background: linear-gradient(135deg, rgba(0, 150, 255, 0.3), rgba(0, 200, 255, 0.2));
            border: 1px solid rgba(0, 180, 255, 0.6);
            color: #88d0ff;
            border-radius: 25px;
            cursor: pointer;
            font-family: 'Orbitron', sans-serif;
            font-size: 0.9em;
            font-weight: 600;
            letter-spacing: 1px;
            transition: all 0.3s ease;
            text-transform: uppercase;
            position: relative;
            overflow: hidden;
            box-shadow: 
                0 0 15px rgba(0, 180, 255, 0.3),
                inset 0 0 10px rgba(0, 200, 255, 0.1);
            text-decoration: none;
        }

        .timeline-content.expanded .dive-in-btn {
            display: inline-block;
        }

        .dive-in-btn::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.1) 0%, transparent 70%);
            animation: wave 3s ease-in-out infinite;
        }

        @keyframes wave {
            0%, 100% {
                transform: translate(-50%, -50%) scale(0.8);
                opacity: 0.5;
            }
            50% {
                transform: translate(-50%, -50%) scale(1.2);
                opacity: 0.8;
            }
        }

        .dive-in-btn::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.6s;
        }

        .dive-in-btn:hover {
            background: linear-gradient(135deg, rgba(0, 150, 255, 0.4), rgba(0, 200, 255, 0.3));
            border-color: rgba(0, 180, 255, 0.9);
            box-shadow: 
                0 0 25px rgba(0, 180, 255, 0.5),
                inset 0 0 20px rgba(0, 200, 255, 0.2);
            transform: translateY(-2px);
            color: #66d9ff;
        }

        .dive-in-btn:hover::after {
            left: 100%;
        }

        .button-container {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 25px;
        }

        .button-container .audio-btn {
            margin-top: 0;
        }

        .button-container .dive-in-btn {
            margin-top: 0;
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 2em;
            }

            .timeline-line {
                left: 50%;
            }

            .timeline-item {
                padding-left: 0;
                margin-bottom: 30px;
            }

            .timeline {
                padding: 20px 0;
            }

            .timeline-content {
                width: 100%;
                max-width: 100%;
                padding: 25px;
            }

            .character-name {
                font-size: 1.8em;
            }

            .nav-menu {
                flex-direction: row;
                align-items: center;
                justify-content: center;
                gap: 20px;
            }

            .dropdown-btn {
                padding: 10px 15px;
                min-width: auto;
                width: 70px;
                height: 70px;
                justify-content: center;
                border-radius: 18px;
            }

            .dropdown-btn .text {
                display: none;
            }

            .dropdown-btn .emoji {
                display: inline;
                font-size: 1.5em;
            }

            .dropdown-btn::after {
                display: none;
            }

            .dropdown-menu {
                left: 50%;
                transform: translateX(-50%) translateY(-10px);
                min-width: 180px;
            }

            .dropdown-menu.open {
                transform: translateX(-50%) translateY(0);
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="nav-menu"></div>

        <header>
            <h1>ðŸ“– 1 Kings Events</h1>
            <p class="subtitle">Major Events in the Book of 1 Kings</p>
        </header>

        <div class="timeline" id="timeline"></div>
    </div>

    <script>
        // Major events in 1 Kings
        const mainEvents = [
            {
                name: "Solomon Builds the Temple",
                date: "c. 966 BC",
                scripture: "1 Kings 5:1-8:66",
                intro: "Solomon builds the magnificent temple in Jerusalem, fulfilling his father David's dream. The temple points forward to Christ, who is the true temple.",
                tagline: "The house of God built",
                summary: "Solomon begins building the temple in the fourth year of his reign. He uses the finest materials: cedar from Lebanon, gold, silver, and precious stones. The temple takes seven years to build. When it is completed, the ark of the covenant is brought into the Most Holy Place, and the glory of the Lord fills the temple. Solomon dedicates the temple with a prayer, asking God to hear the prayers of His people. The temple becomes the center of Israel's worship. However, Solomon's temple is only a shadow of the true templeâ€”Christ, who is the true dwelling place of God. The temple points forward to how Christ's body is the true temple, and how believers are now the temple of the Holy Spirit.",
                christConnection: "The temple points forward to Christ, who is the true temple and the true dwelling place of God. Just as God's glory filled Solomon's temple, God's glory is fully revealed in Christ. The temple also points to how believers are now the temple of the Holy Spirit (<a href='https://www.biblegateway.com/passage/?search=1%20Corinthians%203%3A16&version=NKJV' target='_blank' rel='noopener noreferrer' class='scripture-link'>1 Corinthians 3:16</a>)."
            },
            {
                name: "The Kingdom Divides",
                date: "c. 930 BC",
                scripture: "1 Kings 12:1-24",
                intro: "After Solomon's death, the kingdom splits into two: Israel in the north and Judah in the south. This division demonstrates the consequences of unfaithfulness and points forward to the need for unity in Christ.",
                tagline: "The united kingdom splits",
                summary: "After Solomon's death, his son Rehoboam becomes king. The people ask him to lighten the heavy burden that Solomon had placed on them. Rehoboam rejects the advice of the elders and instead follows the advice of his young friends, threatening to make the burden even heavier. In response, ten tribes rebel and make Jeroboam their king, leaving only Judah and Benjamin with Rehoboam. The kingdom is permanently divided into the northern kingdom of Israel and the southern kingdom of Judah. This division is a consequence of Solomon's unfaithfulness and demonstrates how sin leads to division and brokenness. The division points forward to how humanity is divided by sin, but Christ unites all believers into one body, the church.",
                christConnection: "The division of the kingdom demonstrates how sin leads to brokenness and division. However, Christ unites all believers into one body, breaking down the walls of division (<a href='https://www.biblegateway.com/passage/?search=Ephesians%202%3A14&version=NKJV' target='_blank' rel='noopener noreferrer' class='scripture-link'>Ephesians 2:14</a>). Just as the kingdom was divided, humanity is divided by sin, but Christ brings unity through His death and resurrection."
            },
            {
                name: "Elijah and the Prophets of Baal",
                date: "c. 860 BC",
                scripture: "1 Kings 18:1-46",
                intro: "Elijah confronts the prophets of Baal on Mount Carmel, demonstrating that the Lord is the true God. This event points forward to Christ's victory over all false gods.",
                tagline: "The true God revealed",
                summary: "After three years of drought, Elijah confronts King Ahab and challenges the prophets of Baal to a contest on Mount Carmel. The prophets of Baal call on their god all day, but there is no response. Then Elijah prays to the Lord, and fire falls from heaven, consuming his sacrifice, the wood, the stones, and even the water in the trench. The people fall prostrate and cry, \"The Lordâ€”he is God! The Lordâ€”he is God!\" Elijah then has the prophets of Baal killed. This event demonstrates that the Lord is the true God and that all other gods are false. It points forward to how Christ demonstrates that He is the true God through His miracles, His resurrection, and His victory over sin and death.",
                christConnection: "Elijah's victory over the prophets of Baal points forward to how Christ demonstrates that He is the true God. Just as fire fell from heaven to prove the Lord is God, Christ's resurrection proves that He is the true God and the only way to salvation (<a href='https://www.biblegateway.com/passage/?search=Acts%2017%3A31&version=NKJV' target='_blank' rel='noopener noreferrer' class='scripture-link'>Acts 17:31</a>)."
            },
            {
                name: "Elijah on Mount Horeb",
                date: "c. 860 BC",
                scripture: "1 Kings 19:1-18",
                intro: "After his victory on Mount Carmel, Elijah flees in fear from Jezebel. God meets him at Mount Horeb, not in the wind, earthquake, or fire, but in a gentle whisper, demonstrating that God's presence is not always in the spectacular.",
                tagline: "God speaks in a whisper",
                summary: "After Elijah's victory on Mount Carmel, Queen Jezebel threatens to kill him. Elijah flees in fear, going to Beersheba and then into the wilderness, where he asks God to take his life. An angel provides food and water for Elijah, and he travels for forty days to Mount Horeb, the mountain of God. There, God appears to him, but not in the wind, earthquake, or fire. Instead, God speaks in a gentle whisper. God reassures Elijah that he is not aloneâ€”there are still 7,000 in Israel who have not bowed to Baal. God also commissions Elijah to anoint new kings and a new prophet, Elisha. This event demonstrates that God's presence is not always in the spectacular, but often in the quiet and gentle. It points forward to how Christ came not with fanfare, but humbly, and how God often works in quiet ways.",
                christConnection: "God speaking in a whisper points forward to how Christ came not with spectacular displays, but humbly and gently. Just as God was present in the whisper, Christ is present with us in quiet and gentle ways. This also points to how the Holy Spirit works gently in our hearts, not always in spectacular ways (<a href='https://www.biblegateway.com/passage/?search=Matthew%2011%3A29&version=NKJV' target='_blank' rel='noopener noreferrer' class='scripture-link'>Matthew 11:29</a>)."
            },
            {
                name: "Naboth's Vineyard",
                date: "c. 850 BC",
                scripture: "1 Kings 21:1-29",
                intro: "King Ahab covets Naboth's vineyard and, with Jezebel's help, has Naboth killed to take it. This demonstrates the depth of Ahab's wickedness and points forward to how Christ was killed by those who coveted what was not theirs.",
                tagline: "Coveting leads to murder",
                summary: "King Ahab wants Naboth's vineyard, which is next to his palace. When Naboth refuses to sell it because it is his family inheritance, Ahab becomes sullen and refuses to eat. His wife Jezebel schemes to have Naboth falsely accused and stoned to death so Ahab can take the vineyard. After Naboth is killed, Ahab goes to take possession of the vineyard. The prophet Elijah confronts Ahab and pronounces judgment: Ahab's family will be destroyed, and dogs will lick up Ahab's blood where they licked up Naboth's blood. Ahab's sin demonstrates how coveting leads to greater sins, including murder. This points forward to how Christ was killed by those who coveted power and position, but His death provides forgiveness for all sin, including the sin of coveting.",
                christConnection: "Ahab's murder of Naboth points forward to how Christ was killed by those who coveted power and position. However, Christ's death provides forgiveness for all sin, including the sin of coveting. Through Christ, we are freed from the power of sin and can live righteously (<a href='https://www.biblegateway.com/passage/?search=Romans%206%3A6-7&version=NKJV' target='_blank' rel='noopener noreferrer' class='scripture-link'>Romans 6:6-7</a>)."
            }
        ];

        // Helper function to create Bible Gateway link
        function createBibleGatewayLink(scripture) {
            if (!scripture) return '';
            const encodedScripture = encodeURIComponent(scripture);
            const url = `https://www.biblegateway.com/passage/?search=${encodedScripture}&version=NKJV`;
            return `<a href="${url}" target="_blank" rel="noopener noreferrer" class="scripture-link">${scripture}</a>`;
        }

        // Render timeline
        function renderTimeline() {
            const timeline = document.getElementById('timeline');
            if (!timeline) {
                console.error('Timeline element not found');
                return;
            }
            if (!mainEvents || mainEvents.length === 0) {
                console.error('mainEvents is empty or undefined');
                return;
            }
            timeline.innerHTML = '<div class="timeline-line"></div>';

            mainEvents.forEach((event, index) => {
                const item = document.createElement('div');
                item.className = 'timeline-item';

                const content = document.createElement('div');
                content.className = 'timeline-content';
                
                // Map event names to their dive-in page URLs
                const diveInPages = {
                    "Solomon Builds the Temple": "dive-in-solomon-temple.html",
                    "The Kingdom Divides": "dive-in-kingdom-divides.html",
                    "Elijah and the Prophets of Baal": "dive-in-elijah-baal.html",
                    "Elijah on Mount Horeb": "dive-in-elijah-horeb.html",
                    "Naboth's Vineyard": "dive-in-naboth-vineyard.html"
                };
                
                const diveInPage = diveInPages[event.name];
                const buttonsHTML = diveInPage 
                    ? `<div class="button-container">
                        <button class="audio-btn">Listen to Story</button>
                        <a href="${diveInPage}" class="dive-in-btn">Dive In!</a>
                    </div>`
                    : `<div class="button-container">
                        <button class="audio-btn">Listen to Story</button>
                    </div>`;
                
                content.innerHTML = `
                    <div class="expand-icon">â–¼</div>
                    <div class="character-name">${event.name}</div>
                    <div class="character-date-row">
                        <div class="character-date">${event.date}</div>
                        ${event.scripture ? `<div class="character-scripture">${createBibleGatewayLink(event.scripture)}</div>` : ''}
                    </div>
                    <div class="character-intro">${event.intro}</div>
                    <div class="character-tagline">${event.tagline}</div>
                    <div class="character-summary">${event.summary}</div>
                    ${event.christConnection ? `<div class="christ-connection">
                        <div class="christ-connection-title">Christ in This Story</div>
                        <div class="christ-connection-text">${event.christConnection}</div>
                    </div>` : ''}
                    ${buttonsHTML}
                `;

                content.addEventListener('click', (e) => {
                    if (!e.target.classList.contains('audio-btn') && 
                        !e.target.classList.contains('dive-in-btn') &&
                        !e.target.closest('.dive-in-btn') &&
                        !e.target.classList.contains('scripture-link') &&
                        !e.target.closest('.scripture-link') &&
                        !e.target.closest('.character-scripture')) {
                        content.classList.toggle('expanded');
                    }
                });

                const scriptureLinks = content.querySelectorAll('.scripture-link');
                scriptureLinks.forEach(link => {
                    link.addEventListener('click', (e) => {
                        e.stopPropagation();
                    });
                });

                const audioBtn = content.querySelector('.audio-btn');
                audioBtn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    const nameEl = content.querySelector('.character-name');
                    const introEl = content.querySelector('.character-intro');
                    const taglineEl = content.querySelector('.character-tagline');
                    const summaryEl = content.querySelector('.character-summary');
                    const christEl = content.querySelector('.christ-connection-text');
                    
                    const fullText = `${nameEl.textContent}. ${introEl.textContent} ${taglineEl.textContent ? taglineEl.textContent + '. ' : ''}${summaryEl.textContent}${christEl ? '. ' + christEl.textContent : ''}`;
                    playAudio(audioBtn, fullText);
                });

                item.appendChild(content);
                timeline.appendChild(item);
            });
        }

        // Speech synthesis setup
        let currentUtterance = null;
        let currentButton = null;
        let jarvisVoice = null;

        function findJarvisVoice() {
            const voices = speechSynthesis.getVoices();
            const preferredVoices = [
                'Google UK English Male',
                'Microsoft Zira - English (United States)',
                'Alex',
                'Daniel'
            ];
            
            for (const preferredName of preferredVoices) {
                const voice = voices.find(v => v.name.includes(preferredName));
                if (voice) return voice;
            }
            
            return voices.find(v => v.lang.startsWith('en')) || voices[0];
        }

        function playAudio(button, text) {
            if (currentUtterance) {
                speechSynthesis.cancel();
                if (currentButton) {
                    currentButton.textContent = 'Listen to Story';
                    currentButton.classList.remove('playing');
                }
            }

            if (currentButton === button && currentUtterance) {
                currentButton = null;
                currentUtterance = null;
                return;
            }

            currentButton = button;
            currentUtterance = new SpeechSynthesisUtterance(text);
            
            if (!jarvisVoice) {
                jarvisVoice = findJarvisVoice();
            }
            
            if (jarvisVoice) {
                currentUtterance.voice = jarvisVoice;
            }
            
            currentUtterance.lang = 'en-GB';
            currentUtterance.pitch = 0.8;
            currentUtterance.rate = 0.9;
            currentUtterance.volume = 1;

            currentUtterance.onend = () => {
                button.textContent = 'Listen to Story';
                button.classList.remove('playing');
                currentButton = null;
                currentUtterance = null;
            };

            currentUtterance.onerror = () => {
                button.textContent = 'Listen to Story';
                button.classList.remove('playing');
                currentButton = null;
                currentUtterance = null;
            };

            button.textContent = 'â¸ Stop';
            button.classList.add('playing');
            speechSynthesis.speak(currentUtterance);
        }

        if (speechSynthesis.onvoiceschanged !== undefined) {
            speechSynthesis.onvoiceschanged = () => {
                jarvisVoice = findJarvisVoice();
            };
        }

        setTimeout(() => {
            jarvisVoice = findJarvisVoice();
        }, 100);

        // Initialize - script is at end of body so DOM is ready
        renderTimeline();
    </script>
    <script src="menu.js"></script>
</body>
</html>

