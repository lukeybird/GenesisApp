<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/png" href="favicon.png">
    <link rel="shortcut icon" type="image/png" href="favicon.png">
    <title>L√≠nea de Tiempo de Rut - Eventos Principales</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdhani:wght@300;400;600;700&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Rajdhani', sans-serif;
            background: #0a0e27;
            background-image: 
                radial-gradient(circle at 20% 50%, rgba(0, 195, 255, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 80%, rgba(255, 0, 150, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 40% 20%, rgba(0, 255, 200, 0.05) 0%, transparent 50%);
            color: #e0e0e0;
            line-height: 1.6;
            min-height: 100vh;
            padding: 20px;
            overflow-x: hidden;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                radial-gradient(2px 2px at 20% 30%, rgba(0, 195, 255, 0.3), transparent),
                radial-gradient(2px 2px at 60% 70%, rgba(255, 0, 150, 0.3), transparent),
                radial-gradient(1px 1px at 50% 50%, rgba(0, 255, 200, 0.3), transparent),
                radial-gradient(1px 1px at 80% 10%, rgba(0, 195, 255, 0.2), transparent);
            background-size: 200% 200%;
            animation: particleMove 20s ease infinite;
            pointer-events: none;
            z-index: 0;
        }

        @keyframes particleMove {
            0%, 100% { background-position: 0% 0%, 100% 100%, 50% 50%, 80% 20%; }
            50% { background-position: 100% 100%, 0% 0%, 50% 50%, 20% 80%; }
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            position: relative;
            z-index: 1;
        }

        .nav-menu {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-bottom: 30px;
            flex-wrap: wrap;
            align-items: center;
        }

        .dropdown {
            position: relative;
            display: inline-block;
        }

        .dropdown-btn {
            padding: 12px 30px;
            background: rgba(0, 195, 255, 0.2);
            border: 1px solid rgba(0, 195, 255, 0.5);
            color: #00c3ff;
            border-radius: 25px;
            cursor: pointer;
            font-family: 'Orbitron', sans-serif;
            font-size: 0.9em;
            font-weight: 600;
            letter-spacing: 1px;
            transition: all 0.3s ease;
            text-transform: uppercase;
            display: flex;
            align-items: center;
            gap: 8px;
            min-width: 150px;
            justify-content: space-between;
        }

        .dropdown-btn .emoji {
            display: none;
        }

        .dropdown-btn .text {
            display: inline;
        }

        .dropdown-btn:hover {
            background: rgba(0, 195, 255, 0.3);
            border-color: rgba(0, 195, 255, 0.8);
            box-shadow: 0 0 20px rgba(0, 195, 255, 0.4);
            transform: translateY(-2px);
        }

        .dropdown-btn.active {
            background: rgba(0, 195, 255, 0.4);
            border-color: rgba(0, 195, 255, 0.8);
            box-shadow: 0 0 25px rgba(0, 195, 255, 0.5);
        }

        .dropdown-btn::after {
            content: '‚ñº';
            font-size: 0.7em;
            transition: transform 0.3s ease;
        }

        .dropdown-btn.open::after {
            transform: rotate(180deg);
        }

        .dropdown-menu {
            position: absolute;
            top: calc(100% + 10px);
            left: 0;
            background: rgba(10, 14, 39, 0.95);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(0, 195, 255, 0.5);
            border-radius: 15px;
            min-width: 200px;
            box-shadow: 
                0 8px 32px rgba(0, 0, 0, 0.5),
                0 0 40px rgba(0, 195, 255, 0.2);
            opacity: 0;
            visibility: hidden;
            transform: translateY(-10px);
            transition: all 0.3s ease;
            z-index: 1000;
            overflow: hidden;
        }

        .dropdown-menu.open {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .dropdown-item {
            padding: 12px 20px;
            color: #88d0ff;
            cursor: pointer;
            font-family: 'Rajdhani', sans-serif;
            font-size: 0.95em;
            font-weight: 500;
            letter-spacing: 0.5px;
            transition: all 0.2s ease;
            border-bottom: 1px solid rgba(0, 195, 255, 0.1);
            display: block;
            text-decoration: none;
        }

        .dropdown-item:last-child {
            border-bottom: none;
        }

        .dropdown-item:hover {
            background: rgba(0, 195, 255, 0.2);
            color: #00c3ff;
            padding-left: 25px;
        }

        .dropdown-item.active {
            background: rgba(0, 195, 255, 0.3);
            color: #00c3ff;
            border-left: 3px solid rgba(0, 195, 255, 0.8);
        }
        .dropdown-item.category-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            position: relative;
        }

        .dropdown-item.category-item .arrow {
            font-size: 0.7em;
            transition: transform 0.2s ease;
            margin-left: auto;
        }

        .dropdown-item.category-item:hover .arrow {
            transform: translateX(3px);
        }

        .submenu {
            background: rgba(5, 10, 25, 0.95);
            border-left: 3px solid rgba(0, 195, 255, 0.5);
            margin-left: 10px;
            border-radius: 0 0 10px 10px;
            overflow: hidden;
        }

        .submenu-item {
            padding-left: 35px !important;
            font-size: 0.9em;
        }

        .submenu-item:hover {
            padding-left: 40px !important;
        }


        header {
            background: rgba(10, 14, 39, 0.7);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(0, 195, 255, 0.3);
            padding: 40px;
            border-radius: 20px;
            box-shadow: 
                0 8px 32px rgba(0, 0, 0, 0.4),
                0 0 40px rgba(0, 195, 255, 0.1),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            margin-bottom: 50px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        header::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(0, 195, 255, 0.1), transparent);
            animation: scan 3s infinite;
        }

        @keyframes scan {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        h1 {
            font-family: 'Orbitron', sans-serif;
            color: #00c3ff;
            font-size: 3em;
            margin-bottom: 10px;
            font-weight: 900;
            text-shadow: 
                0 0 20px rgba(0, 195, 255, 0.5),
                0 0 40px rgba(0, 195, 255, 0.3);
            letter-spacing: 2px;
            position: relative;
            z-index: 1;
        }

        .subtitle {
            color: #88d0ff;
            font-size: 1.2em;
            font-weight: 300;
            letter-spacing: 1px;
            position: relative;
            z-index: 1;
        }

        .timeline {
            position: relative;
            padding: 30px 0;
        }

        .timeline-line {
            position: absolute;
            left: 50%;
            top: 0;
            bottom: 0;
            width: 3px;
            background: linear-gradient(to bottom, 
                rgba(0, 195, 255, 0.3) 0%,
                rgba(0, 195, 255, 0.8) 50%,
                rgba(0, 195, 255, 0.3) 100%);
            transform: translateX(-50%);
            z-index: 0;
            box-shadow: 
                0 0 10px rgba(0, 195, 255, 0.5),
                0 0 20px rgba(0, 195, 255, 0.3);
        }

        .timeline-item {
            position: relative;
            margin-bottom: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1;
        }

        .timeline-content {
            background: rgba(10, 14, 39, 0.6);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(0, 195, 255, 0.3);
            padding: 35px;
            border-radius: 20px;
            width: 65%;
            max-width: 750px;
            position: relative;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
            box-shadow: 
                0 8px 32px rgba(0, 0, 0, 0.3),
                0 0 0 0 rgba(0, 195, 255, 0);
        }

        .timeline-content::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            border-radius: 20px;
            padding: 1px;
            background: linear-gradient(135deg, 
                rgba(0, 195, 255, 0.5),
                rgba(255, 0, 150, 0.5),
                rgba(0, 255, 200, 0.5));
            -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
            -webkit-mask-composite: xor;
            mask-composite: exclude;
            opacity: 0;
            transition: opacity 0.4s;
        }

        .timeline-content:hover {
            transform: translateY(-8px) scale(1.02);
            border-color: rgba(0, 195, 255, 0.6);
            box-shadow: 
                0 20px 60px rgba(0, 0, 0, 0.4),
                0 0 40px rgba(0, 195, 255, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
        }

        .timeline-content:hover::before {
            opacity: 1;
        }

        .timeline-content.expanded {
            border-color: rgba(0, 195, 255, 0.6);
            box-shadow: 
                0 20px 60px rgba(0, 0, 0, 0.4),
                0 0 50px rgba(0, 195, 255, 0.4),
                inset 0 1px 0 rgba(255, 255, 255, 0.2);
        }

        .character-tagline,
        .character-summary {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s cubic-bezier(0.4, 0, 0.2, 1), 
                        margin-top 0.5s ease, 
                        opacity 0.5s ease;
            opacity: 0;
            margin-top: 0;
        }

        .christ-connection {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s cubic-bezier(0.4, 0, 0.2, 1), 
                        margin-top 0.5s ease, 
                        opacity 0.5s ease;
            opacity: 0;
            margin-top: 0;
            padding-top: 0;
            border-top: none;
        }

        .timeline-content.expanded .character-tagline {
            max-height: 150px;
            margin-top: 25px;
            opacity: 1;
        }

        .timeline-content.expanded .character-summary {
            max-height: 2000px;
            margin-top: 25px;
            opacity: 1;
        }

        .timeline-content.expanded .christ-connection {
            max-height: 500px;
            margin-top: 30px;
            padding-top: 25px;
            border-top: 1px solid rgba(0, 195, 255, 0.2);
            opacity: 1;
        }

        .christ-connection-title {
            font-family: 'Orbitron', sans-serif;
            color: #00c3ff;
            font-size: 0.95em;
            margin-bottom: 12px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .christ-connection-text {
            color: #b0c0d0;
            font-size: 0.95em;
            line-height: 1.6;
            font-style: italic;
        }

        .christ-connection-text .scripture-link {
            color: #88d0ff;
            font-weight: 600;
            font-style: normal;
        }

        .expand-icon {
            position: absolute;
            top: 35px;
            right: 35px;
            font-size: 1.8em;
            color: #00c3ff;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            text-shadow: 0 0 10px rgba(0, 195, 255, 0.5);
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            background: rgba(0, 195, 255, 0.1);
        }

        .timeline-content:hover .expand-icon {
            background: rgba(0, 195, 255, 0.2);
            box-shadow: 0 0 20px rgba(0, 195, 255, 0.4);
        }

        .timeline-content.expanded .expand-icon {
            transform: rotate(180deg);
            background: rgba(0, 195, 255, 0.3);
        }

        .character-name {
            font-family: 'Orbitron', sans-serif;
            font-size: 2.2em;
            color: #00c3ff;
            margin-bottom: 12px;
            font-weight: 700;
            text-shadow: 
                0 0 15px rgba(0, 195, 255, 0.4),
                0 0 30px rgba(0, 195, 255, 0.2);
            letter-spacing: 1px;
        }

        .character-date-row {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-bottom: 20px;
            flex-wrap: wrap;
            position: relative;
            z-index: 10;
        }

        .character-date {
            font-family: 'Orbitron', sans-serif;
            font-size: 1em;
            color: #88d0ff;
            font-weight: 400;
            letter-spacing: 2px;
            text-transform: uppercase;
            opacity: 0.9;
            white-space: nowrap;
        }

        .character-scripture {
            font-family: 'Rajdhani', sans-serif;
            font-size: 0.9em;
            color: #88d0ff;
            font-weight: 400;
            opacity: 0.8;
            font-style: italic;
            position: relative;
            z-index: 10;
            pointer-events: auto;
        }

        .scripture-link {
            color: #88d0ff;
            text-decoration: none;
            transition: all 0.3s ease;
            border-bottom: 1px solid transparent;
            position: relative;
            z-index: 10;
            pointer-events: auto;
            cursor: pointer;
        }

        .scripture-link:hover {
            color: #00c3ff;
            opacity: 1;
            border-bottom: 1px solid #00c3ff;
            text-shadow: 0 0 10px rgba(0, 195, 255, 0.5);
        }

        .character-intro {
            color: #c0d0e0;
            line-height: 1.8;
            font-size: 1.05em;
            margin-top: 15px;
            font-weight: 400;
        }

        .character-tagline {
            font-size: 1.15em;
            color: #88d0ff;
            margin-bottom: 20px;
            font-style: italic;
            font-weight: 300;
            border-left: 3px solid rgba(0, 195, 255, 0.5);
            padding-left: 15px;
        }

        .character-summary {
            color: #d0e0f0;
            line-height: 1.9;
            font-size: 1.05em;
            font-weight: 300;
        }

        .audio-btn {
            display: none;
            margin-top: 25px;
            padding: 12px 30px;
            background: rgba(0, 195, 255, 0.2);
            border: 1px solid rgba(0, 195, 255, 0.5);
            color: #00c3ff;
            border-radius: 25px;
            cursor: pointer;
            font-family: 'Orbitron', sans-serif;
            font-size: 0.9em;
            font-weight: 600;
            letter-spacing: 1px;
            transition: all 0.3s ease;
            text-transform: uppercase;
            position: relative;
            overflow: hidden;
        }

        .timeline-content.expanded .audio-btn {
            display: inline-block;
        }

        .audio-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(0, 195, 255, 0.3), transparent);
            transition: left 0.5s;
        }

        .audio-btn:hover {
            background: rgba(0, 195, 255, 0.3);
            border-color: rgba(0, 195, 255, 0.8);
            box-shadow: 
                0 0 20px rgba(0, 195, 255, 0.4),
                inset 0 0 20px rgba(0, 195, 255, 0.1);
            transform: translateY(-2px);
        }

        .audio-btn:hover::before {
            left: 100%;
        }

        .audio-btn.playing {
            background: rgba(0, 255, 150, 0.3);
            border-color: rgba(0, 255, 150, 0.8);
            box-shadow: 
                0 0 25px rgba(0, 255, 150, 0.5),
                inset 0 0 25px rgba(0, 255, 150, 0.2);
        }

        .audio-btn.playing::after {
            content: ' üîä';
            animation: pulse 1s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .dive-in-btn {
            display: none;
            padding: 12px 30px;
            background: linear-gradient(135deg, rgba(0, 150, 255, 0.3), rgba(0, 200, 255, 0.2));
            border: 1px solid rgba(0, 180, 255, 0.6);
            color: #88d0ff;
            border-radius: 25px;
            cursor: pointer;
            font-family: 'Orbitron', sans-serif;
            font-size: 0.9em;
            font-weight: 600;
            letter-spacing: 1px;
            transition: all 0.3s ease;
            text-transform: uppercase;
            position: relative;
            overflow: hidden;
            box-shadow: 
                0 0 15px rgba(0, 180, 255, 0.3),
                inset 0 0 10px rgba(0, 200, 255, 0.1);
            text-decoration: none;
        }

        .timeline-content.expanded .dive-in-btn {
            display: inline-block;
        }

        .dive-in-btn::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.1) 0%, transparent 70%);
            animation: wave 3s ease-in-out infinite;
        }

        @keyframes wave {
            0%, 100% {
                transform: translate(-50%, -50%) scale(0.8);
                opacity: 0.5;
            }
            50% {
                transform: translate(-50%, -50%) scale(1.2);
                opacity: 0.8;
            }
        }

        .dive-in-btn::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.6s;
        }

        .dive-in-btn:hover {
            background: linear-gradient(135deg, rgba(0, 150, 255, 0.4), rgba(0, 200, 255, 0.3));
            border-color: rgba(0, 180, 255, 0.9);
            box-shadow: 
                0 0 25px rgba(0, 180, 255, 0.5),
                inset 0 0 20px rgba(0, 200, 255, 0.2);
            transform: translateY(-2px);
            color: #66d9ff;
        }

        .dive-in-btn:hover::after {
            left: 100%;
        }

        .button-container {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 25px;
        }

        .button-container .audio-btn {
            margin-top: 0;
        }

        .button-container .dive-in-btn {
            margin-top: 0;
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 2em;
            }

            .timeline-line {
                left: 50%;
            }

            .timeline-item {
                padding-left: 0;
                margin-bottom: 30px;
            }

            .timeline {
                padding: 20px 0;
            }

            .timeline-content {
                width: 100%;
                max-width: 100%;
                padding: 25px;
            }

            .character-name {
                font-size: 1.8em;
            }

            .nav-menu {
                flex-direction: row;
                align-items: center;
                justify-content: center;
                gap: 20px;
            }

            .dropdown-btn {
                padding: 10px 15px;
                min-width: auto;
                width: 70px;
                height: 70px;
                justify-content: center;
                border-radius: 18px;
            }

            .dropdown-btn .text {
                display: none;
            }

            .dropdown-btn .emoji {
                display: inline;
                font-size: 1.5em;
            }

            .dropdown-btn::after {
                display: none;
            }

            .dropdown-menu {
                left: 50%;
                transform: translateX(-50%) translateY(-10px);
                min-width: 180px;
            }

            .dropdown-menu.open {
                transform: translateX(-50%) translateY(0);
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="nav-menu"></div>

        <header>
            <h1>üìñ Eventos de Rut</h1>
            <p class="subtitle">Eventos Principales en el Libro de Rut</p>
        </header>

        <div class="timeline" id="timeline"></div>
    </div>

    <script>
        // Major events in Judges
        const mainEvents = [
            {
                name: "Noem√≠ y Rut Regresan a Bel√©n",
                date: "c. 1100 a.C.",
                scripture: "Rut 1:1-22",
                intro: "Despu√©s de perder a su esposo e hijos en Moab, Noem√≠ regresa a Bel√©n con su fiel nuera Rut. El compromiso de Rut con Noem√≠ y con el Dios de Israel demuestra una fe y lealtad extraordinarias.",
                tagline: "De la p√©rdida a la esperanza, de Moab a Bel√©n",
                summary: "En los d√≠as en que gobernaban los jueces, hubo hambre en la tierra. As√≠ que un hombre de Bel√©n de Jud√°, junto con su esposa y sus dos hijos, fue a vivir por un tiempo al pa√≠s de Moab. El nombre del hombre era Elimelec, el nombre de su esposa era Noem√≠, y los nombres de sus dos hijos eran Mahl√≥n y Queli√≥n. Eran efrateos de Bel√©n, Jud√°. Y fueron a Moab y vivieron all√≠. Ahora Elimelec, el esposo de Noem√≠, muri√≥, y ella se qued√≥ con sus dos hijos. Se casaron con mujeres moabitas, una llamada Orfa y la otra Rut. Despu√©s de haber vivido all√≠ unos diez a√±os, tanto Mahl√≥n como Queli√≥n tambi√©n murieron, y Noem√≠ se qued√≥ sin sus dos hijos y su esposo. Cuando Noem√≠ oy√≥ en Moab que el Se√±or hab√≠a venido en ayuda de su pueblo proporcion√°ndoles comida, ella y sus nueras se prepararon para regresar a casa desde all√≠. Con sus dos nueras sali√≥ del lugar donde hab√≠a estado viviendo y se puso en el camino que las llevar√≠a de vuelta a la tierra de Jud√°. Entonces Noem√≠ les dijo a sus dos nueras: 'Vuelvan, cada una de ustedes, a la casa de su madre. Que el Se√±or les muestre bondad, como ustedes han mostrado bondad a sus esposos muertos y a m√≠. Que el Se√±or les conceda que cada una encuentre descanso en el hogar de otro esposo.' Luego las bes√≥ para despedirse y lloraron en voz alta y le dijeron: 'Volveremos contigo a tu pueblo.' Pero Noem√≠ dijo: 'Vuelvan a casa, mis hijas. ¬øPor qu√© vendr√≠an conmigo? ¬øVoy a tener m√°s hijos que puedan convertirse en sus esposos? Vuelvan a casa, mis hijas; soy demasiado vieja para tener otro esposo. Incluso si pensara que todav√≠a hay esperanza para m√≠‚Äîincluso si tuviera un esposo esta noche y luego diera a luz hijos‚Äî¬øesperar√≠an hasta que crecieran? ¬øPermanecer√≠an solteras por ellos? No, mis hijas. Es m√°s amargo para m√≠ que para ustedes, porque la mano del Se√±or se ha vuelto contra m√≠.' Ante esto volvieron a llorar en voz alta. Entonces Orfa bes√≥ a su suegra para despedirse, pero Rut se aferr√≥ a ella. 'Mira,' dijo Noem√≠, 'tu cu√±ada est√° volviendo a su pueblo y sus dioses. Vuelve con ella.' Pero Rut respondi√≥: 'No me instes a dejarte o a volverme de ti. A donde t√∫ vayas, ir√© yo, y donde t√∫ vivas, vivir√© yo. Tu pueblo ser√° mi pueblo, y tu Dios ser√° mi Dios. Donde t√∫ mueras, morir√© yo, y all√≠ ser√© sepultada. Que el Se√±or me trate con toda severidad si algo que no sea la muerte nos separa a ti y a m√≠.' Cuando Noem√≠ se dio cuenta de que Rut estaba decidida a ir con ella, dej√≥ de instarla. As√≠ que las dos mujeres continuaron hasta llegar a Bel√©n. Cuando llegaron a Bel√©n, toda la ciudad se conmovi√≥ por ellas, y las mujeres exclamaron: '¬øPuede ser esta Noem√≠?' 'No me llamen Noem√≠,' les dijo. 'Ll√°mame Mara, porque el Todopoderoso ha hecho mi vida muy amarga. Me fui llena, pero el Se√±or me ha tra√≠do de vuelta vac√≠a. ¬øPor qu√© me llaman Noem√≠? El Se√±or me ha afligido; el Todopoderoso ha tra√≠do desgracia sobre m√≠.' As√≠ que Noem√≠ regres√≥ de Moab acompa√±ada de Rut la moabita, su nuera, llegando a Bel√©n cuando comenzaba la cosecha de cebada.",
                christConnection: "El compromiso de Rut con Noem√≠ y con el Dios de Israel demuestra que la gracia de Dios se extiende a todos los que creen, independientemente de su origen. Como moabita, Rut estaba fuera del pueblo del pacto, pero a trav√©s de la fe, se convierte en parte de la l√≠nea de Cristo. Esto apunta hacia adelante a c√≥mo nosotros, como gentiles, somos tra√≠dos a la familia de Dios a trav√©s de la fe en Cristo (<a href='https://www.biblegateway.com/passage/?search=Efesios%202%3A11-13&version=RVR1960' target='_blank' rel='noopener noreferrer' class='scripture-link'>Efesios 2:11-13</a>)."
            },
            {
                name: "Rut Conoce a Booz",
                date: "c. 1100 a.C.",
                scripture: "Rut 2:1-23",
                intro: "Rut espiga en los campos de Booz, quien le muestra bondad extraordinaria. Este encuentro prepara el escenario para que Booz act√∫e como pariente-redentor, apuntando hacia Cristo, nuestro Redentor supremo.",
                tagline: "Bondad en los campos, redenci√≥n a la vista",
                summary: "Ahora Noem√≠ ten√≠a un pariente del lado de su esposo, un hombre de posici√≥n del clan de Elimelec, cuyo nombre era Booz. Y Rut la moabita le dijo a Noem√≠: 'D√©jame ir a los campos y recoger el grano que quede detr√°s de cualquiera en cuyos ojos encuentre favor.' Noem√≠ le dijo: 'Adelante, hija m√≠a.' As√≠ que sali√≥, entr√≥ en un campo y comenz√≥ a espigar detr√°s de los segadores. Result√≥ que estaba trabajando en un campo que pertenec√≠a a Booz, quien era del clan de Elimelec. Justo entonces Booz lleg√≥ de Bel√©n y salud√≥ a los segadores: '¬°El Se√±or est√© con ustedes!' '¬°El Se√±or los bendiga!' respondieron. Booz le pregunt√≥ al capataz de sus segadores: '¬øA qui√©n pertenece esa joven?' El capataz respondi√≥: 'Es la moabita que regres√≥ de Moab con Noem√≠. Dijo: \"Por favor, d√©jenme espigar y recoger entre las gavillas detr√°s de los segadores.\" Entr√≥ en el campo y ha permanecido aqu√≠ desde la ma√±ana hasta ahora, excepto por un breve descanso en el refugio.' Entonces Booz le dijo a Rut: 'Hija m√≠a, esc√∫chame. No vayas a espigar en otro campo y no te vayas de aqu√≠. Qu√©date aqu√≠ con las mujeres que trabajan para m√≠. Observa el campo donde los hombres est√°n cosechando y sigue a las mujeres. He dicho a los hombres que no te pongan la mano encima. Y siempre que tengas sed, ve y bebe de los c√°ntaros de agua que los hombres han llenado.' Ante esto, se inclin√≥ con el rostro en tierra. Le pregunt√≥: '¬øPor qu√© he encontrado tal favor en tus ojos que me notas a m√≠, una extranjera?' Booz respondi√≥: 'Me han contado todo lo que has hecho por tu suegra desde la muerte de tu esposo: c√≥mo dejaste a tu padre y a tu madre y tu tierra natal y viniste a vivir con un pueblo que no conoc√≠as antes. Que el Se√±or te recompense por lo que has hecho. Que el Se√±or, el Dios de Israel, te recompense ricamente, bajo cuyas alas has venido a refugiarte.' 'Que siga encontrando favor en tus ojos, mi se√±or,' dijo. 'Me has tranquilizado al hablar amablemente a tu sierva, aunque no tengo la posici√≥n de una de tus siervas.' A la hora de comer, Booz le dijo: 'Ven aqu√≠. Toma un poco de pan y m√≥jalo en el vinagre.' Cuando se sent√≥ con los segadores, le ofreci√≥ grano tostado. Comi√≥ todo lo que quiso y le sobr√≥ algo. Cuando se levant√≥ para espigar, Booz dio √≥rdenes a sus hombres: 'Incluso si recoge entre las gavillas, no la averg√ºencen. M√°s bien, saquen algunas espigas para ella de los manojos y d√©jenlas para que las recoja, y no la reprendan.' As√≠ que Rut espig√≥ en el campo hasta el anochecer. Luego trill√≥ la cebada que hab√≠a recogido, y ascendi√≥ a aproximadamente un efa. La llev√≥ de vuelta a la ciudad, y su suegra vio cu√°nto hab√≠a recogido. Rut tambi√©n sac√≥ y le dio lo que le hab√≠a sobrado despu√©s de haber comido lo suficiente. Su suegra le pregunt√≥: '¬øD√≥nde espigaste hoy? ¬øD√≥nde trabajaste? ¬°Bendito sea el hombre que te not√≥!' Entonces Rut le cont√≥ a su suegra sobre aquel en cuyo lugar hab√≠a estado trabajando. 'El nombre del hombre con quien trabaj√© hoy es Booz,' dijo. '¬°El Se√±or lo bendiga!' dijo Noem√≠ a su nuera. 'No ha dejado de mostrar su bondad a los vivos y a los muertos.' Agreg√≥: 'Ese hombre es nuestro pariente cercano; es uno de nuestros guardianes-redentores.' Entonces Rut la moabita dijo: 'Incluso me dijo: \"Qu√©date con mis trabajadores hasta que terminen de cosechar todo mi grano.\"' Noem√≠ le dijo a Rut su nuera: 'Ser√° bueno para ti, hija m√≠a, ir con las mujeres que trabajan para √©l, porque en el campo de otra persona podr√≠as ser da√±ada.' As√≠ que Rut se qued√≥ cerca de las mujeres de Booz para espigar hasta que terminaron las cosechas de cebada y trigo. Y vivi√≥ con su suegra.",
                christConnection: "La bondad de Booz hacia Rut demuestra el car√°cter de un verdadero redentor. Su protecci√≥n, provisi√≥n y cuidado por Rut apuntan hacia adelante a c√≥mo Cristo, nuestro Pariente-Redentor supremo, nos protege, provee y cuida. El papel de Booz como guardi√°n-redentor presagia la obra de redenci√≥n de Cristo (<a href='https://www.biblegateway.com/passage/?search=G√°latas%204%3A4-5&version=RVR1960' target='_blank' rel='noopener noreferrer' class='scripture-link'>G√°latas 4:4-5</a>)."
            },
            {
                name: "Booz Redime a Rut",
                date: "c. 1100 a.C.",
                scripture: "Rut 3:1-4:22",
                intro: "Booz act√∫a como pariente-redentor, cas√°ndose con Rut y redimiendo la l√≠nea familiar. Este acto de redenci√≥n apunta hacia Cristo, quien nos redime del pecado y la muerte y nos trae a la familia de Dios.",
                tagline: "Redenci√≥n y restauraci√≥n, apuntando a Cristo",
                summary: "One day Naomi her mother-in-law said to her, 'My daughter, I must find a home for you, where you will be well provided for. Now Boaz, with whose women you have worked, is a relative of ours. Tonight he will be winnowing barley on the threshing floor. Wash, put on perfume, and get dressed in your best clothes. Then go down to the threshing floor, but don't let him know you are there until he has finished eating and drinking. When he lies down, note the place where he is lying. Then go and uncover his feet and lie down. He will tell you what to do.' 'I will do whatever you say,' Ruth answered. So she went down to the threshing floor and did everything her mother-in-law told her to do. When Boaz had finished eating and drinking and was in good spirits, he went over to lie down at the far end of the grain pile. Ruth approached quietly, uncovered his feet and lay down. In the middle of the night something startled the man; he turned‚Äîand there was a woman lying at his feet! 'Who are you?' he asked. 'I am your servant Ruth,' she said. 'Spread the corner of your garment over me, since you are a guardian-redeemer of our family.' 'The Lord bless you, my daughter,' he replied. 'This kindness is greater than that which you showed earlier: You have not run after the younger men, whether rich or poor. And now, my daughter, don't be afraid. I will do for you all you ask. All the people of my town know that you are a woman of noble character. Although it is true that I am a guardian-redeemer of our family, there is another who is more closely related than I. Stay here for the night, and in the morning if he wants to do his duty as your guardian-redeemer, good; let him redeem you. But if he is not willing, as surely as the Lord lives I will do it. Lie here until morning.' So she lay at his feet until morning, but got up before anyone could be recognized; and he said, 'No one must know that a woman came to the threshing floor.' He also said, 'Bring me the shawl you are wearing and hold it out.' When she did so, he poured into it six measures of barley and placed the bundle on her. Then he went back to town. When Ruth came to her mother-in-law, Naomi asked, 'How did it go, my daughter?' Then she told her everything Boaz had done for her and added, 'He gave me these six measures of barley, saying, \"Don't go back to your mother-in-law empty-handed.\"' Then Naomi said, 'Wait, my daughter, until you find out what happens. For the man will not rest until the matter is settled today.' Meanwhile Boaz went up to the town gate and sat down there just as the guardian-redeemer he had mentioned came along. Boaz said, 'Come over here, my friend, and sit down.' So he went over and sat down. Boaz took ten of the elders of the town and said, 'Sit here,' and they did so. Then he said to the guardian-redeemer, 'Naomi, who has come back from Moab, is selling the piece of land that belonged to our relative Elimelek. I thought I should bring the matter to your attention and suggest that you buy it in the presence of these seated here and in the presence of the elders of my people. If you will redeem it, do so. But if you will not, tell me, so I will know. For no one has the right to do it except you, and I am next in line.' 'I will redeem it,' he said. Then Boaz said, 'On the day you buy the land from Naomi, you also acquire Ruth the Moabite, the dead man's widow, in order to maintain the name of the dead with his property.' At this, the guardian-redeemer said, 'Then I cannot redeem it because I might endanger my own estate. You redeem it yourself. I cannot do it.' (Now in earlier times in Israel, for the redemption and transfer of property to become final, one party took off his sandal and gave it to the other. This was the method of legalizing transactions in Israel.) So the guardian-redeemer said to Boaz, 'Buy it yourself.' And he removed his sandal. Then Boaz announced to the elders and all the people, 'Today you are witnesses that I have bought from Naomi all the property of Elimelek, Kilion and Mahlon. I have also acquired Ruth the Moabite, Mahlon's widow, as my wife, in order to maintain the name of the dead with his property, so that his name will not disappear from among his family or from his hometown. Today you are witnesses!' Then the elders and all the people at the gate said, 'We are witnesses. May the Lord make the woman who is coming into your home like Rachel and Leah, who together built up the family of Israel. May you have standing in Ephrathah and be famous in Bethlehem. Through the offspring the Lord gives you by this young woman, may your family be like that of Perez, whom Tamar bore to Judah.' So Boaz took Ruth and she became his wife. When he made love to her, the Lord enabled her to conceive, and she gave birth to a son. The women said to Naomi: 'Praise be to the Lord, who this day has not left you without a guardian-redeemer. May he become famous throughout Israel! He will renew your life and sustain you in your old age. For your daughter-in-law, who loves you and who is better to you than seven sons, has given him birth.' Then Naomi took the child in her arms and cared for him. The women living there said, 'Naomi has a son!' And they named him Obed. He was the father of Jesse, the father of David.",
                christConnection: "La redenci√≥n de Booz de Rut y la l√≠nea familiar de Noem√≠ apunta hacia adelante a Cristo, quien nos redime del pecado y la muerte. As√≠ como Booz redimi√≥ a Rut y la trajo a su familia, Cristo nos redime y nos trae a la familia de Dios. El papel de Booz como pariente-redentor presagia perfectamente la obra de redenci√≥n de Cristo (<a href='https://www.biblegateway.com/passage/?search=Efesios%201%3A7&version=RVR1960' target='_blank' rel='noopener noreferrer' class='scripture-link'>Efesios 1:7</a>). A trav√©s de Rut y Booz, Dios preserva la l√≠nea que conduce a David y finalmente a Cristo, mostrando que el plan de redenci√≥n de Dios incluye a todos los que creen, independientemente de su origen."
            }
        ];

        // Helper function to create Bible Gateway link
        function createBibleGatewayLink(scripture) {
            if (!scripture) return '';
            const encodedScripture = encodeURIComponent(scripture);
            const url = `https://www.biblegateway.com/passage/?search=${encodedScripture}&version=RVR1960`;
            return `<a href="${url}" target="_blank" rel="noopener noreferrer" class="scripture-link">${scripture}</a>`;
        }

        // Render timeline
        function renderTimeline() {
            const timeline = document.getElementById('timeline');
            timeline.innerHTML = '<div class="timeline-line"></div>';

            mainEvents.forEach((event, index) => {
                const item = document.createElement('div');
                item.className = 'timeline-item';

                const content = document.createElement('div');
                content.className = 'timeline-content';
                
                // Map event names to their dive-in page URLs (Spanish versions)
                const diveInPages = {
                    "Noem√≠ y Rut Regresan a Bel√©n": "dive-in-ruth-commitment-es.html",
                    "Rut Conoce a Booz": "dive-in-ruth-meets-boaz-es.html",
                    "Booz Redime a Rut": "dive-in-boaz-redeems-ruth-es.html"
                };
                
                const diveInPage = diveInPages[event.name];
                const buttonsHTML = diveInPage 
                    ? `<div class="button-container">
                        <button class="audio-btn">Escuchar Historia</button>
                        <a href="${diveInPage}" class="dive-in-btn">¬°Sum√©rgete!</a>
                    </div>`
                    : `<div class="button-container">
                        <button class="audio-btn">Escuchar Historia</button>
                    </div>`;
                
                content.innerHTML = `
                    <div class="expand-icon">‚ñº</div>
                    <div class="character-name">${event.name}</div>
                    <div class="character-date-row">
                        <div class="character-date">${event.date}</div>
                        ${event.scripture ? `<div class="character-scripture">${createBibleGatewayLink(event.scripture)}</div>` : ''}
                    </div>
                    <div class="character-intro">${event.intro}</div>
                    <div class="character-tagline">${event.tagline}</div>
                    <div class="character-summary">${event.summary}</div>
                    ${event.christConnection ? `<div class="christ-connection">
                        <div class="christ-connection-title">Cristo en Esta Historia</div>
                        <div class="christ-connection-text">${event.christConnection}</div>
                    </div>` : ''}
                    ${buttonsHTML}
                `;

                content.addEventListener('click', (e) => {
                    if (!e.target.classList.contains('audio-btn') && 
                        !e.target.classList.contains('dive-in-btn') &&
                        !e.target.closest('.dive-in-btn') &&
                        !e.target.classList.contains('scripture-link') &&
                        !e.target.closest('.scripture-link') &&
                        !e.target.closest('.character-scripture')) {
                        content.classList.toggle('expanded');
                    }
                });

                const scriptureLinks = content.querySelectorAll('.scripture-link');
                scriptureLinks.forEach(link => {
                    link.addEventListener('click', (e) => {
                        e.stopPropagation();
                    });
                });

                const audioBtn = content.querySelector('.audio-btn');
                audioBtn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    const nameEl = content.querySelector('.character-name');
                    const introEl = content.querySelector('.character-intro');
                    const taglineEl = content.querySelector('.character-tagline');
                    const summaryEl = content.querySelector('.character-summary');
                    const christEl = content.querySelector('.christ-connection-text');
                    
                    const fullText = `${nameEl.textContent}. ${introEl.textContent} ${taglineEl.textContent ? taglineEl.textContent + '. ' : ''}${summaryEl.textContent}${christEl ? '. ' + christEl.textContent : ''}`;
                    playAudio(audioBtn, fullText);
                });

                item.appendChild(content);
                timeline.appendChild(item);
            });
        }

        // Speech synthesis setup
        let currentUtterance = null;
        let currentButton = null;
        let spanishVoice = null;

        function findSpanishVoice() {
            const voices = speechSynthesis.getVoices();
            const preferredVoices = [
                'Google espa√±ol',
                'Microsoft Sabina - Spanish (Mexico)',
                'Microsoft Pablo - Spanish (Spain)',
                'Microsoft Helena - Spanish (Spain)',
                'Microsoft Laura - Spanish (Spain)'
            ];
            
            for (const voiceName of preferredVoices) {
                const voice = voices.find(v => v.name.includes(voiceName) || v.name === voiceName);
                if (voice) return voice;
            }
            
            const spanishVoice = voices.find(v => 
                v.lang.startsWith('es') && 
                (v.name.toLowerCase().includes('spanish') || 
                 v.name.toLowerCase().includes('espa√±ol') ||
                 v.name.toLowerCase().includes('es-'))
            );
            
            return spanishVoice || voices.find(v => v.lang.startsWith('es')) || voices[0];
        }

        if (speechSynthesis.onvoiceschanged !== undefined) {
            speechSynthesis.onvoiceschanged = () => {
                spanishVoice = findSpanishVoice();
            };
        }

        setTimeout(() => {
            spanishVoice = findSpanishVoice();
        }, 100);

        function playAudio(button, text) {
            if (button === currentButton && button.classList.contains('playing')) {
                speechSynthesis.cancel();
                button.classList.remove('playing');
                button.textContent = 'Escuchar Historia';
                currentUtterance = null;
                currentButton = null;
                return;
            }

            if (currentUtterance && currentButton) {
                speechSynthesis.cancel();
                currentButton.classList.remove('playing');
                currentButton.textContent = 'Escuchar Historia';
            }

            currentUtterance = new SpeechSynthesisUtterance(text);
            
            if (spanishVoice) {
                currentUtterance.voice = spanishVoice;
            }
            currentUtterance.rate = 0.9;
            currentUtterance.pitch = 0.85;
            currentUtterance.volume = 1;
            currentUtterance.lang = 'es-ES';

            button.classList.add('playing');
            button.textContent = 'Reproduciendo...';
            currentButton = button;

            currentUtterance.onend = () => {
                button.classList.remove('playing');
                button.textContent = 'Escuchar Historia';
                currentUtterance = null;
                currentButton = null;
            };

            currentUtterance.onerror = () => {
                button.classList.remove('playing');
                button.textContent = 'Escuchar Historia';
                currentUtterance = null;
                currentButton = null;
            };

            speechSynthesis.speak(currentUtterance);
        }

        renderTimeline();

    </script>
    <script src="menu.js"></script>
</body>
</html>

