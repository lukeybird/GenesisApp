<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/png" href="favicon.png">
    <link rel="shortcut icon" type="image/png" href="favicon.png">
    <title>Sum√©rgete: Ester Se Convierte en Reina - L√≠nea de Tiempo de Ester</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdhani:wght@300;400;600;700&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Rajdhani', sans-serif;
            background: #0a0e27;
            background-image: 
                radial-gradient(circle at 20% 50%, rgba(0, 195, 255, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 80%, rgba(255, 0, 150, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 40% 20%, rgba(0, 255, 200, 0.05) 0%, transparent 50%);
            color: #e0e0e0;
            line-height: 1.6;
            min-height: 100vh;
            padding: 20px;
            overflow-x: hidden;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                radial-gradient(2px 2px at 20% 30%, rgba(0, 195, 255, 0.3), transparent),
                radial-gradient(2px 2px at 60% 70%, rgba(255, 0, 150, 0.3), transparent),
                radial-gradient(1px 1px at 50% 50%, rgba(0, 255, 200, 0.3), transparent),
                radial-gradient(1px 1px at 80% 10%, rgba(0, 195, 255, 0.2), transparent);
            background-size: 200% 200%;
            animation: particleMove 20s ease infinite;
            pointer-events: none;
            z-index: 0;
        }

        @keyframes particleMove {
            0%, 100% { background-position: 0% 0%, 100% 100%, 50% 50%, 80% 20%; }
            50% { background-position: 100% 100%, 0% 0%, 50% 50%, 20% 80%; }
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            position: relative;
            z-index: 1;
        }

        .nav-menu {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-bottom: 30px;
            flex-wrap: wrap;
            align-items: center;
        }

        .dropdown {
            position: relative;
            display: inline-block;
        }

        .dropdown-btn {
            padding: 12px 30px;
            background: rgba(0, 195, 255, 0.2);
            border: 1px solid rgba(0, 195, 255, 0.5);
            color: #00c3ff;
            border-radius: 25px;
            cursor: pointer;
            font-family: 'Orbitron', sans-serif;
            font-size: 0.9em;
            font-weight: 600;
            letter-spacing: 1px;
            transition: all 0.3s ease;
            text-transform: uppercase;
            display: flex;
            align-items: center;
            gap: 8px;
            min-width: 150px;
            justify-content: space-between;
        }

        .dropdown-btn .emoji {
            display: none;
        }

        .dropdown-btn .text {
            display: inline;
        }

        .dropdown-btn:hover {
            background: rgba(0, 195, 255, 0.3);
            border-color: rgba(0, 195, 255, 0.8);
            box-shadow: 0 0 20px rgba(0, 195, 255, 0.4);
            transform: translateY(-2px);
        }

        .dropdown-btn.active {
            background: rgba(0, 195, 255, 0.4);
            border-color: rgba(0, 195, 255, 0.8);
            box-shadow: 0 0 25px rgba(0, 195, 255, 0.5);
        }

        .dropdown-btn::after {
            content: '‚ñº';
            font-size: 0.7em;
            transition: transform 0.3s ease;
        }

        .dropdown-btn.open::after {
            transform: rotate(180deg);
        }

        .dropdown-menu {
            position: absolute;
            top: calc(100% + 10px);
            left: 0;
            background: rgba(10, 14, 39, 0.95);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(0, 195, 255, 0.5);
            border-radius: 15px;
            min-width: 200px;
            box-shadow: 
                0 8px 32px rgba(0, 0, 0, 0.5),
                0 0 40px rgba(0, 195, 255, 0.2);
            opacity: 0;
            visibility: hidden;
            transform: translateY(-10px);
            transition: all 0.3s ease;
            z-index: 1000;
            overflow: hidden;
        }

        .dropdown-menu.open {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .dropdown-item {
            padding: 12px 20px;
            color: #88d0ff;
            cursor: pointer;
            font-family: 'Rajdhani', sans-serif;
            font-size: 0.95em;
            font-weight: 500;
            letter-spacing: 0.5px;
            transition: all 0.2s ease;
            border-bottom: 1px solid rgba(0, 195, 255, 0.1);
            display: block;
            text-decoration: none;
        }

        .dropdown-item:last-child {
            border-bottom: none;
        }

        .dropdown-item:hover {
            background: rgba(0, 195, 255, 0.2);
            color: #00c3ff;
            padding-left: 25px;
        }

        .dropdown-item.active {
            background: rgba(0, 195, 255, 0.3);
            color: #00c3ff;
            border-left: 3px solid rgba(0, 195, 255, 0.8);
        }
        .dropdown-item.category-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            position: relative;
        }

        .dropdown-item.category-item .arrow {
            font-size: 0.7em;
            transition: transform 0.2s ease;
            margin-left: auto;
        }

        .dropdown-item.category-item:hover .arrow {
            transform: translateX(3px);
        }

        .submenu {
            background: rgba(5, 10, 25, 0.95);
            border-left: 3px solid rgba(0, 195, 255, 0.5);
            margin-left: 10px;
            border-radius: 0 0 10px 10px;
            overflow: hidden;
        }

        .submenu-item {
            padding-left: 35px !important;
            font-size: 0.9em;
        }

        .submenu-item:hover {
            padding-left: 40px !important;
        }


        header {
            background: rgba(10, 14, 39, 0.7);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(0, 195, 255, 0.3);
            padding: 40px;
            border-radius: 20px;
            box-shadow: 
                0 8px 32px rgba(0, 0, 0, 0.4),
                0 0 40px rgba(0, 195, 255, 0.1),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            margin-bottom: 50px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        header::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(0, 195, 255, 0.1), transparent);
            animation: scan 3s infinite;
        }

        @keyframes scan {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        h1 {
            font-family: 'Orbitron', sans-serif;
            color: #00c3ff;
            font-size: 2.5em;
            margin-bottom: 10px;
            font-weight: 900;
            text-shadow: 
                0 0 20px rgba(0, 195, 255, 0.5),
                0 0 40px rgba(0, 195, 255, 0.3);
            letter-spacing: 2px;
            position: relative;
            z-index: 1;
        }

        .subtitle {
            color: #88d0ff;
            font-size: 1.1em;
            font-weight: 300;
            letter-spacing: 1px;
            position: relative;
            z-index: 1;
        }

        .content-section {
            background: rgba(10, 14, 39, 0.6);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(0, 195, 255, 0.3);
            padding: 40px;
            border-radius: 20px;
            margin-bottom: 30px;
            box-shadow: 
                0 8px 32px rgba(0, 0, 0, 0.3),
                0 0 40px rgba(0, 195, 255, 0.1),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
        }

        .section-title {
            font-family: 'Orbitron', sans-serif;
            color: #00c3ff;
            font-size: 1.8em;
            margin-bottom: 20px;
            font-weight: 700;
            text-shadow: 0 0 15px rgba(0, 195, 255, 0.4);
            letter-spacing: 1px;
            border-bottom: 2px solid rgba(0, 195, 255, 0.3);
            padding-bottom: 10px;
        }

        .content-section p {
            color: #d0e0f0;
            line-height: 1.9;
            font-size: 1.1em;
            font-weight: 300;
            margin-bottom: 20px;
        }

        .verse-callout {
            background: rgba(0, 195, 255, 0.1);
            border-left: 4px solid rgba(0, 195, 255, 0.6);
            padding: 20px;
            margin: 25px 0;
            border-radius: 10px;
            font-style: italic;
            color: #c0d0e0;
            line-height: 1.8;
            position: relative;
        }

        .verse-callout::before {
            content: '"';
            font-size: 4em;
            color: rgba(0, 195, 255, 0.2);
            position: absolute;
            top: -10px;
            left: 15px;
            font-family: serif;
        }

        .verse-reference {
            display: block;
            margin-top: 15px;
            font-family: 'Orbitron', sans-serif;
            font-size: 0.9em;
            color: #88d0ff;
            font-style: normal;
            font-weight: 600;
        }

        .scripture-link {
            color: #88d0ff;
            text-decoration: none;
            transition: all 0.3s ease;
            border-bottom: 1px solid transparent;
        }

        .scripture-link:hover {
            color: #00c3ff;
            opacity: 1;
            border-bottom: 1px solid #00c3ff;
            text-shadow: 0 0 10px rgba(0, 195, 255, 0.5);
        }

        .theme-box {
            background: rgba(0, 195, 255, 0.05);
            border: 1px solid rgba(0, 195, 255, 0.2);
            padding: 25px;
            margin: 25px 0;
            border-radius: 15px;
        }

        .theme-title {
            font-family: 'Orbitron', sans-serif;
            color: #00c3ff;
            font-size: 1.3em;
            margin-bottom: 15px;
            font-weight: 600;
        }

        .additional-references {
            margin-top: 30px;
            padding-top: 25px;
            border-top: 1px solid rgba(0, 195, 255, 0.2);
        }

        .additional-references-title {
            font-family: 'Orbitron', sans-serif;
            color: #00c3ff;
            font-size: 1.1em;
            margin-bottom: 15px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .reference-item {
            margin-bottom: 12px;
            padding-left: 15px;
            border-left: 2px solid rgba(0, 195, 255, 0.3);
            padding-bottom: 8px;
        }

        .reference-item:last-child {
            margin-bottom: 0;
        }

        .reference-item .ref-link {
            color: #88d0ff;
            font-weight: 600;
            text-decoration: none;
            transition: all 0.3s ease;
        }

        .reference-item .ref-link:hover {
            color: #00c3ff;
            text-shadow: 0 0 10px rgba(0, 195, 255, 0.5);
        }

        .reference-item .ref-explanation {
            color: #b0c0d0;
            font-size: 0.95em;
            margin-top: 3px;
            font-style: italic;
        }

        .audio-btn {
            margin-top: 25px;
            padding: 12px 30px;
            background: rgba(0, 195, 255, 0.2);
            border: 1px solid rgba(0, 195, 255, 0.5);
            color: #00c3ff;
            border-radius: 25px;
            cursor: pointer;
            font-family: 'Orbitron', sans-serif;
            font-size: 0.9em;
            font-weight: 600;
            letter-spacing: 1px;
            transition: all 0.3s ease;
            text-transform: uppercase;
            position: relative;
            overflow: hidden;
            display: inline-block;
        }

        .audio-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(0, 195, 255, 0.3), transparent);
            transition: left 0.5s;
        }

        .audio-btn:hover {
            background: rgba(0, 195, 255, 0.3);
            border-color: rgba(0, 195, 255, 0.8);
            box-shadow: 
                0 0 20px rgba(0, 195, 255, 0.4),
                inset 0 0 20px rgba(0, 195, 255, 0.1);
            transform: translateY(-2px);
        }

        .audio-btn:hover::before {
            left: 100%;
        }

        .audio-btn.playing {
            background: rgba(0, 255, 150, 0.3);
            border-color: rgba(0, 255, 150, 0.8);
            box-shadow: 
                0 0 25px rgba(0, 255, 150, 0.5),
                inset 0 0 25px rgba(0, 255, 150, 0.2);
        }

        .audio-btn.playing::after {
            content: ' üîä';
            animation: pulse 1s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 1.8em;
            }

            .content-section {
                padding: 25px;
            }

            .section-title {
                font-size: 1.4em;
            }

            .nav-menu {
                flex-direction: row;
                align-items: center;
                justify-content: center;
                gap: 20px;
            }

            .dropdown-btn {
                padding: 10px 15px;
                min-width: auto;
                width: 70px;
                height: 70px;
                justify-content: center;
                border-radius: 18px;
            }

            .dropdown-btn .text {
                display: none;
            }

            .dropdown-btn .emoji {
                display: inline;
                font-size: 1.5em;
            }

            .dropdown-btn::after {
                display: none;
            }

            .dropdown-menu {
                left: 50%;
                transform: translateX(-50%) translateY(-10px);
                min-width: 180px;
            }

            .dropdown-menu.open {
                transform: translateX(-50%) translateY(0);
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="nav-menu"></div>

        <header>
            <h1>üåä Sum√©rgete: Ester Se Convierte en Reina</h1>
            <p class="subtitle">Providencia en Acci√≥n</p>
        </header>

                        <div class="content-section">
            <h2 class="section-title">Ester Elegida para Tal Tiempo</h2>
            <p>En <a href="https://www.biblegateway.com/passage/?search=Ester%202%3A1-18&version=RVR1960" target="_blank" rel="noopener noreferrer" class="scripture-link">Ester 2:1-18</a>, despu√©s de que la reina Vasti es removida, el rey Asuero busca una nueva reina. Ester, una hermosa hu√©rfana jud√≠a criada por su primo Mardoqueo, es llevada al palacio. Ella encuentra favor con todos los que la ven, incluyendo al rey, quien la elige como reina. Sin embargo, ella mantiene en secreto su identidad jud√≠a, como Mardoqueo le hab√≠a instruido. El ascenso de Ester a reina demuestra el cuidado providencial de Dios, coloc√°ndola en una posici√≥n donde m√°s tarde puede salvar a su pueblo. Esto apunta hacia c√≥mo Cristo fue colocado en una posici√≥n de autoridad para salvar a Su pueblo.</p>
            
            <div class="verse-callout">
                Y cuando lleg√≥ el turno de Ester hija de Abihail, t√≠o de Mardoqueo, que la hab√≠a tomado por hija, para venir al rey, ninguna cosa procur√≥ sino lo que dijo Hegai eunuco del rey, guardador de las mujeres. Y Ester ganaba gracias en los ojos de todos los que la ve√≠an. Fue, pues, Ester llevada al rey Asuero a su casa real en el mes d√©cimo, que es el mes de Tebet, en el a√±o s√©ptimo de su reinado. Y el rey am√≥ a Ester m√°s que a todas las otras mujeres, y hall√≥ ella gracia y benevolencia delante de √©l m√°s que todas las dem√°s v√≠rgenes; y puso la corona real en su cabeza, y la hizo reina en lugar de Vasti.
                <span class="verse-reference">
                    <a href="https://www.biblegateway.com/passage/?search=Ester%202:15-17&version=RVR1960" target="_blank" rel="noopener noreferrer" class="scripture-link">Ester 2:15-17</a>
                </span>
            </div>

            <div class="theme-box">
                <div class="theme-title">El Cuidado Providencial de Dios</div>
                <p>El ascenso de Ester a reina no fue por casualidad sino por el cuidado providencial de Dios. Dios la coloc√≥ en una posici√≥n de influencia para salvar a su pueblo. Esto demuestra que Dios obra a trav√©s de circunstancias ordinarias para cumplir Sus prop√≥sitos. La historia de Ester muestra que Dios siempre est√° obrando detr√°s de escena, incluso cuando Su nombre no es mencionado.</p>
            </div>
            
            <div class="additional-references">
                <div class="additional-references-title">Referencias Adicionales</div>
                <div class="reference-item">
                    <a href="https://www.biblegateway.com/passage/?search=Proverbios%2021:1&version=RVR1960" target="_blank" rel="noopener noreferrer" class="ref-link">Proverbios 21:1</a>
                    <div class="ref-explanation">El coraz√≥n del rey est√° en la mano de Jehov√°; a todo lo que quiere lo inclina.</div>
                </div>
                <div class="reference-item">
                    <a href="https://www.biblegateway.com/passage/?search=Romanos%208:28&version=RVR1960" target="_blank" rel="noopener noreferrer" class="ref-link">Romanos 8:28</a>
                    <div class="ref-explanation">Y sabemos que a los que aman a Dios, todas las cosas les ayudan a bien, esto es, a los que conforme a su prop√≥sito son llamados.</div>
                </div>
                <div class="reference-item">
                    <a href="https://www.biblegateway.com/passage/?search=Efesios%201:11&version=RVR1960" target="_blank" rel="noopener noreferrer" class="ref-link">Efesios 1:11</a>
                    <div class="ref-explanation">En √©l asimismo tuvimos herencia, habiendo sido predestinados conforme al prop√≥sito del que hace todas las cosas seg√∫n el designio de su voluntad.</div>
                </div>
            </div>
            <button class="audio-btn" data-section="section">Escuchar Secci√≥n</button>
        </div>        <div class="content-section">
            <h2 class="section-title">Ester Apunta hacia Cristo</h2>
            <p>La posici√≥n de Ester como reina apunta hacia c√≥mo Cristo fue colocado en una posici√≥n de autoridad para salvar a Su pueblo. As√≠ como Ester fue elegida para tal tiempo como este, Cristo fue enviado en el momento adecuado para salvarnos. La historia de Ester demuestra que el plan de salvaci√≥n de Dios incluye colocar a la persona correcta en la posici√≥n correcta en el momento correcto.</p>
            
            <div class="verse-callout">
                Pero cuando vino el cumplimiento del tiempo, Dios envi√≥ a su Hijo, nacido de mujer y nacido bajo la ley, para que redimiese a los que estaban bajo la ley, a fin de que recibi√©semos la adopci√≥n de hijos.
                <span class="verse-reference">
                    <a href="https://www.biblegateway.com/passage/?search=G√°latas%204:4-5&version=RVR1960" target="_blank" rel="noopener noreferrer" class="scripture-link">G√°latas 4:4-5</a>
                </span>
            </div>

            <div class="theme-box">
                <div class="theme-title">Cristo Enviado en el Momento Adecuado</div>
                <p>As√≠ como Ester fue elegida para tal tiempo como este, Cristo fue enviado en el momento adecuado para salvarnos. El tiempo de Dios es perfecto, y √âl coloca a la persona correcta en la posici√≥n correcta en el momento correcto. La venida de Cristo no fue por casualidad sino por el plan perfecto de Dios.</p>
            </div>
            
            <div class="additional-references">
                <div class="additional-references-title">Referencias Adicionales</div>
                <div class="reference-item">
                    <a href="https://www.biblegateway.com/passage/?search=Marcos%201:15&version=RVR1960" target="_blank" rel="noopener noreferrer" class="ref-link">Marcos 1:15</a>
                    <div class="ref-explanation">El tiempo se ha cumplido, y el reino de Dios se ha acercado; arrepent√≠os, y creed en el evangelio.</div>
                </div>
                <div class="reference-item">
                    <a href="https://www.biblegateway.com/passage/?search=1%20Timoteo%202:6&version=RVR1960" target="_blank" rel="noopener noreferrer" class="ref-link">1 Timoteo 2:6</a>
                    <div class="ref-explanation">El cual se dio a s√≠ mismo en rescate por todos, de lo cual se dio testimonio a su debido tiempo.</div>
                </div>
                <div class="reference-item">
                    <a href="https://www.biblegateway.com/passage/?search=Tito%201:3&version=RVR1960" target="_blank" rel="noopener noreferrer" class="ref-link">Tito 1:3</a>
                    <div class="ref-explanation">Y a su debido tiempo manifest√≥ su palabra por medio de la predicaci√≥n que me fue encomendada por mandato de Dios nuestro Salvador.</div>
                </div>
            </div>
            <button class="audio-btn" data-section="section">Escuchar Secci√≥n</button>
        </div>        <div class="content-section">
            <h2 class="section-title">Conclusi√≥n: Providencia y Prop√≥sito</h2>
            <p>El ascenso de Ester a reina demuestra el cuidado providencial de Dios y Su tiempo perfecto. Ella fue colocada en una posici√≥n de influencia para salvar a su pueblo, apuntando hacia c√≥mo Cristo fue colocado en una posici√≥n de autoridad para salvar a Su pueblo. El plan de salvaci√≥n de Dios incluye colocar a la persona correcta en la posici√≥n correcta en el momento correcto, y tanto Ester como Cristo demuestran esta verdad.</p>
            
            <div class="additional-references">
                <div class="additional-references-title">Referencias Adicionales</div>
                <div class="reference-item">
                    <a href="https://www.biblegateway.com/passage/?search=Ester%204:14&version=RVR1960" target="_blank" rel="noopener noreferrer" class="ref-link">Ester 4:14</a>
                    <div class="ref-explanation">Porque si callas absolutamente en este tiempo, respiro y liberaci√≥n vendr√° de alguna otra parte para los jud√≠os; mas t√∫ y la casa de tu padre perecer√©is. ¬øY qui√©n sabe si para esta hora has llegado al reino?</div>
                </div>
                <div class="reference-item">
                    <a href="https://www.biblegateway.com/passage/?search=Hechos%2017:26&version=RVR1960" target="_blank" rel="noopener noreferrer" class="ref-link">Hechos 17:26</a>
                    <div class="ref-explanation">Y de una sangre ha hecho todo el linaje de los hombres, para que habiten sobre toda la faz de la tierra; y les ha prefijado el orden de los tiempos, y los l√≠mites de su habitaci√≥n.</div>
                </div>
                <div class="reference-item">
                    <a href="https://www.biblegateway.com/passage/?search=Eclesiast√©s%203:1&version=RVR1960" target="_blank" rel="noopener noreferrer" class="ref-link">Eclesiast√©s 3:1</a>
                    <div class="ref-explanation">Todo tiene su tiempo, y todo lo que se quiere debajo del cielo tiene su hora.</div>
                </div>
            </div>
            <button class="audio-btn" data-section="section">Escuchar Secci√≥n</button>
        </div>
    </div>

    <script>
        // Speech Synthesis Setup
        let currentUtterance = null;
        let currentButton = null;
        let spanishVoice = null;

        // Find Jarvis-like voice
        function findSpanishVoice() {
            const voices = speechSynthesis.getVoices();
            const preferredVoices = [
                'Google espa√±ol',
                'Microsoft Sabina - Spanish (Mexico)',
                'Microsoft Pablo - Spanish (Spain)',
                'Microsoft Helena - Spanish (Spain)',
                'Microsoft Laura - Spanish (Spain)'
            ];
            
            for (const preferred of preferredVoices) {
                const voice = voices.find(v => v.name.includes(preferred));
                if (voice) return voice;
            }
            
            return voices.find(v => v.name.toLowerCase().includes('male')) || voices[0];
        }

        // Load voices
        if (speechSynthesis.onvoiceschanged !== undefined) {
            speechSynthesis.onvoiceschanged = () => {
                spanishVoice = findSpanishVoice();
            };
        }
        
        setTimeout(() => {
            spanishVoice = findSpanishVoice();
        }, 100);

        // Get text content from a section
        function getSectionText(section) {
            const sectionElement = section.closest('.content-section');
            if (!sectionElement) return '';
            
            const clone = sectionElement.cloneNode(true);
            clone.querySelectorAll('.audio-btn').forEach(el => el.remove());
            return clone.textContent.trim();
        }

        // Play audio function
        function playAudio(button, text) {
            if (button === currentButton && button.classList.contains('playing')) {
                speechSynthesis.cancel();
                button.classList.remove('playing');
                button.textContent = 'Escuchar Secci√≥n';
                currentUtterance = null;
                currentButton = null;
                return;
            }

            if (currentUtterance && currentButton) {
                speechSynthesis.cancel();
                document.querySelectorAll('.audio-btn').forEach(btn => {
                    btn.classList.remove('playing');
                    btn.textContent = 'Escuchar Secci√≥n';
                });
            }

            currentUtterance = new SpeechSynthesisUtterance(text);
            
            if (spanishVoice) {
                currentUtterance.voice = spanishVoice;
            }
            currentUtterance.rate = 0.9;
            currentUtterance.pitch = 0.8;
            currentUtterance.volume = 1;
            currentUtterance.lang = 'en-GB';

            document.querySelectorAll('.audio-btn').forEach(btn => {
                btn.classList.remove('playing');
                btn.textContent = 'Escuchar Secci√≥n';
            });
            
            button.classList.add('playing');
            button.textContent = 'Reproduciendo...';
            currentButton = button;

            currentUtterance.onend = () => {
                button.classList.remove('playing');
                button.textContent = 'Escuchar Secci√≥n';
                currentUtterance = null;
                currentButton = null;
            };

            currentUtterance.onerror = () => {
                button.classList.remove('playing');
                button.textContent = 'Escuchar Secci√≥n';
                currentUtterance = null;
                currentButton = null;
            };

            speechSynthesis.speak(currentUtterance);
        }

        // Initialize audio buttons
        document.addEventListener('DOMContentLoaded', function() {
            const audioButtons = document.querySelectorAll('.audio-btn');
            
            audioButtons.forEach(button => {
                button.addEventListener('click', function(e) {
                    e.stopPropagation();
                    const text = getSectionText(this);
                    if (text) {
                        playAudio(this, text);
                    }
                });
            });
        });
    </script>
    <script src="menu.js"></script>
</body>
</html>

