<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SumÃ©rgete: JosÃ© se Revela - LÃ­nea de Tiempo de GÃ©nesis</title>
<style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdhani:wght@300;400;600;700&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Rajdhani', sans-serif;
            background: #0a0e27;
            background-image: 
                radial-gradient(circle at 20% 50%, rgba(0, 195, 255, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 80%, rgba(255, 0, 150, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 40% 20%, rgba(0, 255, 200, 0.05) 0%, transparent 50%);
            color: #e0e0e0;
            line-height: 1.6;
            min-height: 100vh;
            padding: 20px;
            overflow-x: hidden;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                radial-gradient(2px 2px at 20% 30%, rgba(0, 195, 255, 0.3), transparent),
                radial-gradient(2px 2px at 60% 70%, rgba(255, 0, 150, 0.3), transparent),
                radial-gradient(1px 1px at 50% 50%, rgba(0, 255, 200, 0.3), transparent),
                radial-gradient(1px 1px at 80% 10%, rgba(0, 195, 255, 0.2), transparent);
            background-size: 200% 200%;
            animation: particleMove 20s ease infinite;
            pointer-events: none;
            z-index: 0;
        }

        @keyframes particleMove {
            0%, 100% { background-position: 0% 0%, 100% 100%, 50% 50%, 80% 20%; }
            50% { background-position: 100% 100%, 0% 0%, 50% 50%, 20% 80%; }
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            position: relative;
            z-index: 1;
        }

        .nav-menu {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-bottom: 30px;
            flex-wrap: wrap;
            align-items: center;
        }

        .dropdown {
            position: relative;
            display: inline-block;
        }

        .dropdown-btn {
            padding: 12px 30px;
            background: rgba(0, 195, 255, 0.2);
            border: 1px solid rgba(0, 195, 255, 0.5);
            color: #00c3ff;
            border-radius: 25px;
            cursor: pointer;
            font-family: 'Orbitron', sans-serif;
            font-size: 0.9em;
            font-weight: 600;
            letter-spacing: 1px;
            transition: all 0.3s ease;
            text-transform: uppercase;
            display: flex;
            align-items: center;
            gap: 8px;
            min-width: 150px;
            justify-content: space-between;
        }

        .dropdown-btn .emoji {
            display: none;
        }

        .dropdown-btn .text {
            display: inline;
        }

        .dropdown-btn:hover {
            background: rgba(0, 195, 255, 0.3);
            border-color: rgba(0, 195, 255, 0.8);
            box-shadow: 0 0 20px rgba(0, 195, 255, 0.4);
            transform: translateY(-2px);
        }

        .dropdown-btn.active {
            background: rgba(0, 195, 255, 0.4);
            border-color: rgba(0, 195, 255, 0.8);
            box-shadow: 0 0 25px rgba(0, 195, 255, 0.5);
        }

        .dropdown-btn::after {
            content: 'â–¼';
            font-size: 0.7em;
            transition: transform 0.3s ease;
        }

        .dropdown-btn.open::after {
            transform: rotate(180deg);
        }

        .dropdown-menu {
            position: absolute;
            top: calc(100% + 10px);
            left: 0;
            background: rgba(10, 14, 39, 0.95);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(0, 195, 255, 0.5);
            border-radius: 15px;
            min-width: 200px;
            box-shadow: 
                0 8px 32px rgba(0, 0, 0, 0.5),
                0 0 40px rgba(0, 195, 255, 0.2);
            opacity: 0;
            visibility: hidden;
            transform: translateY(-10px);
            transition: all 0.3s ease;
            z-index: 1000;
            overflow: hidden;
        }

        .dropdown-menu.open {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .dropdown-item {
            padding: 12px 20px;
            color: #88d0ff;
            cursor: pointer;
            font-family: 'Rajdhani', sans-serif;
            font-size: 0.95em;
            font-weight: 500;
            letter-spacing: 0.5px;
            transition: all 0.2s ease;
            border-bottom: 1px solid rgba(0, 195, 255, 0.1);
            display: block;
            text-decoration: none;
        }

        .dropdown-item:last-child {
            border-bottom: none;
        }

        .dropdown-item:hover {
            background: rgba(0, 195, 255, 0.2);
            color: #00c3ff;
            padding-left: 25px;
        }

        .dropdown-item.active {
            background: rgba(0, 195, 255, 0.3);
            color: #00c3ff;
            border-left: 3px solid rgba(0, 195, 255, 0.8);
        }

        header {
            background: rgba(10, 14, 39, 0.7);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(0, 195, 255, 0.3);
            padding: 40px;
            border-radius: 20px;
            box-shadow: 
                0 8px 32px rgba(0, 0, 0, 0.4),
                0 0 40px rgba(0, 195, 255, 0.1),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            margin-bottom: 50px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(0, 195, 255, 0.1), transparent);
            animation: scan 3s infinite;
        }

        @keyframes scan {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        h1 {
            font-family: 'Orbitron', sans-serif;
            color: #00c3ff;
            font-size: 2.5em;
            margin-bottom: 10px;
            font-weight: 900;
            text-shadow: 
                0 0 20px rgba(0, 195, 255, 0.5),
                0 0 40px rgba(0, 195, 255, 0.3);
            letter-spacing: 2px;
            position: relative;
            z-index: 1;
        }

        .subtitle {
            color: #88d0ff;
            font-size: 1.1em;
            font-weight: 300;
            letter-spacing: 1px;
            position: relative;
            z-index: 1;
        }

        .content-section {
            background: rgba(10, 14, 39, 0.6);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(0, 195, 255, 0.3);
            padding: 40px;
            border-radius: 20px;
            margin-bottom: 30px;
            box-shadow: 
                0 8px 32px rgba(0, 0, 0, 0.3),
                0 0 40px rgba(0, 195, 255, 0.1),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
        }

        .section-title {
            font-family: 'Orbitron', sans-serif;
            color: #00c3ff;
            font-size: 1.8em;
            margin-bottom: 20px;
            font-weight: 700;
            text-shadow: 0 0 15px rgba(0, 195, 255, 0.4);
            letter-spacing: 1px;
            border-bottom: 2px solid rgba(0, 195, 255, 0.3);
            padding-bottom: 10px;
        }

        .content-section p {
            color: #d0e0f0;
            line-height: 1.9;
            font-size: 1.1em;
            font-weight: 300;
            margin-bottom: 20px;
        }

        .verse-callout {
            background: rgba(0, 195, 255, 0.1);
            border-left: 4px solid rgba(0, 195, 255, 0.6);
            padding: 20px;
            margin: 25px 0;
            border-radius: 10px;
            font-style: italic;
            color: #c0d0e0;
            line-height: 1.8;
            position: relative;
        }

        .verse-callout::before {
            content: '"';
            font-size: 4em;
            color: rgba(0, 195, 255, 0.2);
            position: absolute;
            top: -10px;
            left: 15px;
            font-family: serif;
        }

        .verse-reference {
            display: block;
            margin-top: 15px;
            font-family: 'Orbitron', sans-serif;
            font-size: 0.9em;
            color: #88d0ff;
            font-style: normal;
            font-weight: 600;
        }

        .scripture-link {
            color: #88d0ff;
            text-decoration: none;
            transition: all 0.3s ease;
            border-bottom: 1px solid transparent;
        }

        .scripture-link:hover {
            color: #00c3ff;
            opacity: 1;
            border-bottom: 1px solid #00c3ff;
            text-shadow: 0 0 10px rgba(0, 195, 255, 0.5);
        }

        .theme-box {
            background: rgba(0, 195, 255, 0.05);
            border: 1px solid rgba(0, 195, 255, 0.2);
            padding: 25px;
            margin: 25px 0;
            border-radius: 15px;
        }

        .theme-title {
            font-family: 'Orbitron', sans-serif;
            color: #00c3ff;
            font-size: 1.3em;
            margin-bottom: 15px;
            font-weight: 600;
        }

        .additional-references {
            margin-top: 30px;
            padding-top: 25px;
            border-top: 1px solid rgba(0, 195, 255, 0.2);
        }

        .additional-references-title {
            font-family: 'Orbitron', sans-serif;
            color: #00c3ff;
            font-size: 1.1em;
            margin-bottom: 15px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .reference-item {
            margin-bottom: 12px;
            padding-left: 15px;
            border-left: 2px solid rgba(0, 195, 255, 0.3);
            padding-bottom: 8px;
        }

        .reference-item:last-child {
            margin-bottom: 0;
        }

        .reference-item .ref-link {
            color: #88d0ff;
            font-weight: 600;
            text-decoration: none;
            transition: all 0.3s ease;
        }

        .reference-item .ref-link:hover {
            color: #00c3ff;
            text-shadow: 0 0 10px rgba(0, 195, 255, 0.5);
        }

        .reference-item .ref-explanation {
            color: #b0c0d0;
            font-size: 0.95em;
            margin-top: 3px;
            font-style: italic;
        }

        .audio-btn {
            margin-top: 25px;
            padding: 12px 30px;
            background: rgba(0, 195, 255, 0.2);
            border: 1px solid rgba(0, 195, 255, 0.5);
            color: #00c3ff;
            border-radius: 25px;
            cursor: pointer;
            font-family: 'Orbitron', sans-serif;
            font-size: 0.9em;
            font-weight: 600;
            letter-spacing: 1px;
            transition: all 0.3s ease;
            text-transform: uppercase;
            position: relative;
            overflow: hidden;
            display: inline-block;
        }

        .audio-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(0, 195, 255, 0.3), transparent);
            transition: left 0.5s;
        }

        .audio-btn:hover {
            background: rgba(0, 195, 255, 0.3);
            border-color: rgba(0, 195, 255, 0.8);
            box-shadow: 
                0 0 20px rgba(0, 195, 255, 0.4),
                inset 0 0 20px rgba(0, 195, 255, 0.1);
            transform: translateY(-2px);
        }

        .audio-btn:hover::before {
            left: 100%;
        }

        .audio-btn.playing {
            background: rgba(0, 255, 150, 0.3);
            border-color: rgba(0, 255, 150, 0.8);
            box-shadow: 
                0 0 25px rgba(0, 255, 150, 0.5),
                inset 0 0 25px rgba(0, 255, 150, 0.2);
        }

        .audio-btn.playing::after {
            content: ' ðŸ”Š';
            animation: pulse 1s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 1.8em;
            }

            .content-section {
                padding: 25px;
            }

            .section-title {
                font-size: 1.4em;
            }

            .nav-menu {
                flex-direction: row;
                align-items: center;
                justify-content: center;
                gap: 20px;
            }

            .dropdown-btn {
                padding: 10px 15px;
                min-width: auto;
                width: 70px;
                height: 70px;
                justify-content: center;
                border-radius: 18px;
            }

            .dropdown-btn .text {
                display: none;
            }

            .dropdown-btn .emoji {
                display: inline;
                font-size: 1.5em;
            }

            .dropdown-btn::after {
                display: none;
            }

            .dropdown-menu {
                left: 50%;
                transform: translateX(-50%) translateY(-10px);
                min-width: 180px;
            }

            .dropdown-menu.open {
                transform: translateX(-50%) translateY(0);
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="nav-menu"></div>

        <header>
            <h1>ðŸŒŠ SumÃ©rgete: JosÃ© se Revela</h1>
            <p class="subtitle">Viendo a Cristo en el PerdÃ³n y la ReconciliaciÃ³n</p>
        </header>
        <div class="content-section">
            <h2 class="section-title">Forgiveness: The Heart of the Gospel</h2>
            <p>When Joseph reveals himself to his brothers in <a href="https://www.biblegateway.com/passage/?search=GÃ©nesis%2045%3A1-15&version=RVR1960" target="_blank" rel="noopener noreferrer" class="scripture-link">GÃ©nesis 45:1-15</a>, he immediately forgives them, saying, "Do not be distressed and do not be angry with yourselves for selling me here, because it was to save lives that God sent me ahead of you" (<a href="https://www.biblegateway.com/passage/?search=GÃ©nesis%2045%3A5&version=RVR1960" target="_blank" rel="noopener noreferrer" class="scripture-link">GÃ©nesis 45:5</a>). This forgiveness points to Christ's forgiveness of us.</p>
            
            <div class="verse-callout">
                Then Jesus said, "Father, forgive them, for they do not know what they do."
                <span class="verse-reference">
                    <a href="https://www.biblegateway.com/passage/?search=Lucas%2023%3A34&version=RVR1960" target="_blank" rel="noopener noreferrer" class="scripture-link">Lucas 23:34</a>
                </span>
            </div>

            <p>Just as Joseph forgave his brothers who had wronged him, so Christ forgives us who have wronged Him. Both show the power of forgiveness and the heart of the gospel.</p>
            <div class="additional-references">
                <div class="additional-references-title">Referencias Adicionales</div>
                <div class="reference-item">
                    <a href="https://www.biblegateway.com/passage/?search=Efesios%204%3A32&version=RVR1960" target="_blank" rel="noopener noreferrer" class="ref-link">Efesios 4:32</a>
                    <div class="ref-explanation">And be kind to one another, tenderhearted, forgiving one another, even as God in Christ forgave you.</div>
                </div>
                <div class="reference-item">
                    <a href="https://www.biblegateway.com/passage/?search=Colosenses%203%3A13&version=RVR1960" target="_blank" rel="noopener noreferrer" class="ref-link">Colosenses 3:13</a>
                    <div class="ref-explanation">Bearing with one another, and forgiving one another... even as Christ forgave you.</div>
                </div>
                <div class="reference-item">
                    <a href="https://www.biblegateway.com/passage/?search=Mateo%206%3A14-15&version=RVR1960" target="_blank" rel="noopener noreferrer" class="ref-link">Mateo 6:14-15</a>
                    <div class="ref-explanation">For if you forgive men their trespasses, your heavenly Father will also forgive you.</div>
                </div>
            </div>
            <button class="audio-btn" data-section="forgiveness">Escuchar SecciÃ³n</button>
        </div>

        <div class="content-section">
            <h2 class="section-title">Apocalipsis of Identity</h2>
            <p>Joseph's revelation of his identity to his brothersâ€”"I am Joseph!"â€”points to how Christ reveals Himself to us. The brothers were terrified when they realized who Joseph was. Similarly, when we realize who Christ is, it should cause us to recognize our need for Him.</p>

            <div class="verse-callout">
                Jesus said to him, "Have I been with you so long, and yet you have not known Me, Philip? He who has seen Me has seen the Father."
                <span class="verse-reference">
                    <a href="https://www.biblegateway.com/passage/?search=Juan%2014%3A9&version=RVR1960" target="_blank" rel="noopener noreferrer" class="scripture-link">Juan 14:9</a>
                </span>
            </div>

            <p>Joseph revealed who he was to his brothers. Christ reveals who He is to usâ€”the Son of God, the Savior, the one who forgives and reconciles.</p>
            <div class="additional-references">
                <div class="additional-references-title">Referencias Adicionales</div>
                <div class="reference-item">
                    <a href="https://www.biblegateway.com/passage/?search=Juan%201%3A14&version=RVR1960" target="_blank" rel="noopener noreferrer" class="ref-link">Juan 1:14</a>
                    <div class="ref-explanation">And the Word became flesh and dwelt among us, and we beheld His glory.</div>
                </div>
                <div class="reference-item">
                    <a href="https://www.biblegateway.com/passage/?search=Juan%2020%3A28&version=RVR1960" target="_blank" rel="noopener noreferrer" class="ref-link">Juan 20:28</a>
                    <div class="ref-explanation">Thomas said, My Lord and my God!â€”recognizing Christ's true identity.</div>
                </div>
                <div class="reference-item">
                    <a href="https://www.biblegateway.com/passage/?search=Mateo%2016%3A16&version=RVR1960" target="_blank" rel="noopener noreferrer" class="ref-link">Mateo 16:16</a>
                    <div class="ref-explanation">Peter said, You are the Christ, the Son of the living God.</div>
                </div>
            </div>
            <button class="audio-btn" data-section="revelation">Escuchar SecciÃ³n</button>
        </div>

        <div class="content-section">
            <h2 class="section-title">God's Good Purpose in Suffering</h2>
            <p>Joseph recognized that God had used his brothers' evil intentions for good: "You meant evil against me; but God meant it for good" (<a href="https://www.biblegateway.com/passage/?search=GÃ©nesis%2050%3A20&version=RVR1960" target="_blank" rel="noopener noreferrer" class="scripture-link">GÃ©nesis 50:20</a>). This points to how God used the greatest evilâ€”the crucifixion of Christâ€”for the greatest goodâ€”the salvation of the world.</p>

            <div class="theme-box">
                <div class="theme-title">The Cross: Evil Turned to Good</div>
                <p>What the religious leaders and Judas meant for evil in crucifying Christ, God meant for good. The cross, the greatest act of evil, became the greatest act of love and the means of salvation for all who believe.</p>
            </div>

            <p>Joseph's suffering saved his family. Christ's suffering saves all who believe. Both show how God sovereignly works through suffering to accomplish His good purposes.</p>
            <div class="additional-references">
                <div class="additional-references-title">Referencias Adicionales</div>
                <div class="reference-item">
                    <a href="https://www.biblegateway.com/passage/?search=Hechos%202%3A23-24&version=RVR1960" target="_blank" rel="noopener noreferrer" class="ref-link">Hechos 2:23-24</a>
                    <div class="ref-explanation">Him, being delivered by the determined purpose and foreknowledge of God, you have taken by lawless hands, have crucified, and put to death; whom God raised up.</div>
                </div>
                <div class="reference-item">
                    <a href="https://www.biblegateway.com/passage/?search=Romanos%208%3A28&version=RVR1960" target="_blank" rel="noopener noreferrer" class="ref-link">Romanos 8:28</a>
                    <div class="ref-explanation">And we know that all things work together for good to those who love God.</div>
                </div>
                <div class="reference-item">
                    <a href="https://www.biblegateway.com/passage/?search=1%20Pedro%201%3A20&version=RVR1960" target="_blank" rel="noopener noreferrer" class="ref-link">1 Peter 1:20</a>
                    <div class="ref-explanation">He indeed was foreordained before the foundation of the world, but was manifest in these last times for you.</div>
                </div>
            </div>
            <button class="audio-btn" data-section="purpose">Escuchar SecciÃ³n</button>
        </div>

        <div class="content-section">
            <h2 class="section-title">Reconciliation: Restored Relationship</h2>
            <p>Joseph's forgiveness led to reconciliation with his brothers. He embraced them, wept over them, and provided for them. This points to how Christ's forgiveness leads to our reconciliation with God.</p>

            <div class="verse-callout">
                Now all things are of God, who has reconciled us to Himself through Jesus Christ, and has given us the ministry of reconciliation.
                <span class="verse-reference">
                    <a href="https://www.biblegateway.com/passage/?search=2%20Corintios%205%3A18&version=RVR1960" target="_blank" rel="noopener noreferrer" class="scripture-link">2 Corintios 5:18</a>
                </span>
            </div>

            <p>Through Christ, we are reconciled to God. The relationship that was broken by sin is restored through Christ's sacrifice. We are no longer enemies but children of God.</p>
            <div class="additional-references">
                <div class="additional-references-title">Referencias Adicionales</div>
                <div class="reference-item">
                    <a href="https://www.biblegateway.com/passage/?search=Romanos%205%3A10&version=RVR1960" target="_blank" rel="noopener noreferrer" class="ref-link">Romanos 5:10</a>
                    <div class="ref-explanation">For if when we were enemies we were reconciled to God through the death of His Son, much more, having been reconciled, we shall be saved by His life.</div>
                </div>
                <div class="reference-item">
                    <a href="https://www.biblegateway.com/passage/?search=Colosenses%201%3A20&version=RVR1960" target="_blank" rel="noopener noreferrer" class="ref-link">Colosenses 1:20</a>
                    <div class="ref-explanation">And by Him to reconcile all things to Himself... having made peace through the blood of His cross.</div>
                </div>
                <div class="reference-item">
                    <a href="https://www.biblegateway.com/passage/?search=Efesios%202%3A16&version=RVR1960" target="_blank" rel="noopener noreferrer" class="ref-link">Efesios 2:16</a>
                    <div class="ref-explanation">And that He might reconcile them both to God in one body through the cross.</div>
                </div>
            </div>
            <button class="audio-btn" data-section="reconciliation">Escuchar SecciÃ³n</button>
        </div>

        <div class="content-section">
            <h2 class="section-title">Conclusion: The Forgiving Savior</h2>
            <p>Joseph's story culminates in forgiveness and reconciliation. He forgave those who wronged him and provided for them. This points to Christ, who forgives us who wronged Him and provides eternal life for us.</p>

            <p>But there's a crucial difference: Joseph's forgiveness was for his brothers who had wronged him personally. Christ's forgiveness is for all who have sinned against God. Joseph provided temporary provision; Christ provides eternal salvation.</p>
            <div class="additional-references">
                <div class="additional-references-title">Referencias Adicionales</div>
                <div class="reference-item">
                    <a href="https://www.biblegateway.com/passage/?search=1%20Juan%201%3A9&version=RVR1960" target="_blank" rel="noopener noreferrer" class="ref-link">1 Juan 1:9</a>
                    <div class="ref-explanation">If we confess our sins, He is faithful and just to forgive us our sins and to cleanse us from all unrighteousness.</div>
                </div>
                <div class="reference-item">
                    <a href="https://www.biblegateway.com/passage/?search=Hechos%2010%3A43&version=RVR1960" target="_blank" rel="noopener noreferrer" class="ref-link">Hechos 10:43</a>
                    <div class="ref-explanation">To Him all the prophets witness that, through His name, whoever believes in Him will receive remission of sins.</div>
                </div>
                <div class="reference-item">
                    <a href="https://www.biblegateway.com/passage/?search=Efesios%201%3A7&version=RVR1960" target="_blank" rel="noopener noreferrer" class="ref-link">Efesios 1:7</a>
                    <div class="ref-explanation">In Him we have redemption through His blood, the forgiveness of sins, according to the riches of His grace.</div>
                </div>
            </div>
            <button class="audio-btn" data-section="conclusion">Escuchar SecciÃ³n</button>
        </div>

    </div>

<script>
        // Speech Synthesis Setup
        let currentUtterance = null;
        let currentButton = null;
        let jarvisVoice = null;

        // Find Jarvis-like voice
        function findJarvisVoice() {
            const voices = speechSynthesis.getVoices();
            const preferredVoices = [
                'Google espaÃ±ol',
                'Microsoft Sabina - Spanish (Mexico)',
                'Monica',
                'Paulina'
            ];
            
            for (const preferred of preferredVoices) {
                const voice = voices.find(v => v.name.includes(preferred) || v.lang.startsWith('es'));
                if (voice) return voice;
            }
            
            return voices.find(v => v.lang.startsWith('es')) || voices[0];
        }

        // Load voices
        if (speechSynthesis.onvoiceschanged !== undefined) {
            speechSynthesis.onvoiceschanged = () => {
                jarvisVoice = findJarvisVoice();
            };
        }
        
        setTimeout(() => {
            jarvisVoice = findJarvisVoice();
        }, 100);

        // Get text content from a section (including verse callouts, excluding only buttons)
        function getSectionText(section) {
            const sectionElement = section.closest('.content-section');
            if (!sectionElement) return '';
            
            const clone = sectionElement.cloneNode(true);
            clone.querySelectorAll('.audio-btn').forEach(el => el.remove());
            return clone.textContent.trim();
        }

        // Play audio function
        function playAudio(button, text) {
            if (button === currentButton && button.classList.contains('playing')) {
                speechSynthesis.cancel();
                button.classList.remove('playing');
                button.textContent = 'Escuchar SecciÃ³n';
                currentUtterance = null;
                currentButton = null;
                return;
            }

            if (currentUtterance && currentButton) {
                speechSynthesis.cancel();
                document.querySelectorAll('.audio-btn').forEach(btn => {
                    btn.classList.remove('playing');
                    btn.textContent = 'Escuchar SecciÃ³n';
                });
            }

            currentUtterance = new SpeechSynthesisUtterance(text);
            
            if (jarvisVoice) {
                currentUtterance.voice = jarvisVoice;
            }
            currentUtterance.rate = 0.9;
            currentUtterance.pitch = 0.8;
            currentUtterance.volume = 1;
            currentUtterance.lang = 'es-ES';

            document.querySelectorAll('.audio-btn').forEach(btn => {
                btn.classList.remove('playing');
                btn.textContent = 'Escuchar SecciÃ³n';
            });
            
            button.classList.add('playing');
            button.textContent = 'Reproduciendo...';
            currentButton = button;

            currentUtterance.onend = () => {
                button.classList.remove('playing');
                button.textContent = 'Escuchar SecciÃ³n';
                currentUtterance = null;
                currentButton = null;
            };

            currentUtterance.onerror = () => {
                button.classList.remove('playing');
                button.textContent = 'Escuchar SecciÃ³n';
                currentUtterance = null;
                currentButton = null;
            };

            speechSynthesis.speak(currentUtterance);
        }

        // Initialize audio buttons
        document.addEventListener('DOMContentLoaded', function() {
            const audioButtons = document.querySelectorAll('.audio-btn');
            
            audioButtons.forEach(button => {
                button.addEventListener('click', function(e) {
                    e.stopPropagation();
                    const text = getSectionText(this);
                    if (text) {
                        playAudio(this, text);
                    }
                });
            });
        });
    </script>
    <script src="menu.js"></script>
</body>
</html>