<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/png" href="favicon.png">
    <link rel="shortcut icon" type="image/png" href="favicon.png">
    <title>Dive In: The Fall of Jerusalem - 2 Kings Timeline</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdhani:wght@300;400;600;700&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Rajdhani', sans-serif;
            background: #0a0e27;
            background-image: 
                radial-gradient(circle at 20% 50%, rgba(0, 195, 255, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 80%, rgba(255, 0, 150, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 40% 20%, rgba(0, 255, 200, 0.05) 0%, transparent 50%);
            color: #e0e0e0;
            line-height: 1.6;
            min-height: 100vh;
            padding: 20px;
            overflow-x: hidden;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                radial-gradient(2px 2px at 20% 30%, rgba(0, 195, 255, 0.3), transparent),
                radial-gradient(2px 2px at 60% 70%, rgba(255, 0, 150, 0.3), transparent),
                radial-gradient(1px 1px at 50% 50%, rgba(0, 255, 200, 0.3), transparent),
                radial-gradient(1px 1px at 80% 10%, rgba(0, 195, 255, 0.2), transparent);
            background-size: 200% 200%;
            animation: particleMove 20s ease infinite;
            pointer-events: none;
            z-index: 0;
        }

        @keyframes particleMove {
            0%, 100% { background-position: 0% 0%, 100% 100%, 50% 50%, 80% 20%; }
            50% { background-position: 100% 100%, 0% 0%, 50% 50%, 20% 80%; }
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            position: relative;
            z-index: 1;
        }

        .nav-menu {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-bottom: 30px;
            flex-wrap: wrap;
            align-items: center;
        }

        .dropdown {
            position: relative;
            display: inline-block;
        }

        .dropdown-btn {
            padding: 12px 30px;
            background: rgba(0, 195, 255, 0.2);
            border: 1px solid rgba(0, 195, 255, 0.5);
            color: #00c3ff;
            border-radius: 25px;
            cursor: pointer;
            font-family: 'Orbitron', sans-serif;
            font-size: 0.9em;
            font-weight: 600;
            letter-spacing: 1px;
            transition: all 0.3s ease;
            text-transform: uppercase;
            display: flex;
            align-items: center;
            gap: 8px;
            min-width: 150px;
            justify-content: space-between;
        }

        .dropdown-btn .emoji {
            display: none;
        }

        .dropdown-btn .text {
            display: inline;
        }

        .dropdown-btn:hover {
            background: rgba(0, 195, 255, 0.3);
            border-color: rgba(0, 195, 255, 0.8);
            box-shadow: 0 0 20px rgba(0, 195, 255, 0.4);
            transform: translateY(-2px);
        }

        .dropdown-btn.active {
            background: rgba(0, 195, 255, 0.4);
            border-color: rgba(0, 195, 255, 0.8);
            box-shadow: 0 0 25px rgba(0, 195, 255, 0.5);
        }

        .dropdown-btn::after {
            content: 'â–¼';
            font-size: 0.7em;
            transition: transform 0.3s ease;
        }

        .dropdown-btn.open::after {
            transform: rotate(180deg);
        }

        .dropdown-menu {
            position: absolute;
            top: calc(100% + 10px);
            left: 0;
            background: rgba(10, 14, 39, 0.95);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(0, 195, 255, 0.5);
            border-radius: 15px;
            min-width: 200px;
            box-shadow: 
                0 8px 32px rgba(0, 0, 0, 0.5),
                0 0 40px rgba(0, 195, 255, 0.2);
            opacity: 0;
            visibility: hidden;
            transform: translateY(-10px);
            transition: all 0.3s ease;
            z-index: 1000;
            overflow: hidden;
        }

        .dropdown-menu.open {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .dropdown-item {
            padding: 12px 20px;
            color: #88d0ff;
            cursor: pointer;
            font-family: 'Rajdhani', sans-serif;
            font-size: 0.95em;
            font-weight: 500;
            letter-spacing: 0.5px;
            transition: all 0.2s ease;
            border-bottom: 1px solid rgba(0, 195, 255, 0.1);
            display: block;
            text-decoration: none;
        }

        .dropdown-item:last-child {
            border-bottom: none;
        }

        .dropdown-item:hover {
            background: rgba(0, 195, 255, 0.2);
            color: #00c3ff;
            padding-left: 25px;
        }

        .dropdown-item.active {
            background: rgba(0, 195, 255, 0.3);
            color: #00c3ff;
            border-left: 3px solid rgba(0, 195, 255, 0.8);
        }
        .dropdown-item.category-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            position: relative;
        }

        .dropdown-item.category-item .arrow {
            font-size: 0.7em;
            transition: transform 0.2s ease;
            margin-left: auto;
        }

        .dropdown-item.category-item:hover .arrow {
            transform: translateX(3px);
        }

        .submenu {
            background: rgba(5, 10, 25, 0.95);
            border-left: 3px solid rgba(0, 195, 255, 0.5);
            margin-left: 10px;
            border-radius: 0 0 10px 10px;
            overflow: hidden;
        }

        .submenu-item {
            padding-left: 35px !important;
            font-size: 0.9em;
        }

        .submenu-item:hover {
            padding-left: 40px !important;
        }


        header {
            background: rgba(10, 14, 39, 0.7);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(0, 195, 255, 0.3);
            padding: 40px;
            border-radius: 20px;
            box-shadow: 
                0 8px 32px rgba(0, 0, 0, 0.4),
                0 0 40px rgba(0, 195, 255, 0.1),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            margin-bottom: 50px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        header::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(0, 195, 255, 0.1), transparent);
            animation: scan 3s infinite;
        }

        @keyframes scan {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        h1 {
            font-family: 'Orbitron', sans-serif;
            color: #00c3ff;
            font-size: 2.5em;
            margin-bottom: 10px;
            font-weight: 900;
            text-shadow: 
                0 0 20px rgba(0, 195, 255, 0.5),
                0 0 40px rgba(0, 195, 255, 0.3);
            letter-spacing: 2px;
            position: relative;
            z-index: 1;
        }

        .subtitle {
            color: #88d0ff;
            font-size: 1.1em;
            font-weight: 300;
            letter-spacing: 1px;
            position: relative;
            z-index: 1;
        }

        .content-section {
            background: rgba(10, 14, 39, 0.6);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(0, 195, 255, 0.3);
            padding: 40px;
            border-radius: 20px;
            margin-bottom: 30px;
            box-shadow: 
                0 8px 32px rgba(0, 0, 0, 0.3),
                0 0 40px rgba(0, 195, 255, 0.1),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
        }

        .section-title {
            font-family: 'Orbitron', sans-serif;
            color: #00c3ff;
            font-size: 1.8em;
            margin-bottom: 20px;
            font-weight: 700;
            text-shadow: 0 0 15px rgba(0, 195, 255, 0.4);
            letter-spacing: 1px;
            border-bottom: 2px solid rgba(0, 195, 255, 0.3);
            padding-bottom: 10px;
        }

        .content-section p {
            color: #d0e0f0;
            line-height: 1.9;
            font-size: 1.1em;
            font-weight: 300;
            margin-bottom: 20px;
        }

        .verse-callout {
            background: rgba(0, 195, 255, 0.1);
            border-left: 4px solid rgba(0, 195, 255, 0.6);
            padding: 20px;
            margin: 25px 0;
            border-radius: 10px;
            font-style: italic;
            color: #c0d0e0;
            line-height: 1.8;
            position: relative;
        }

        .verse-callout::before {
            content: '"';
            font-size: 4em;
            color: rgba(0, 195, 255, 0.2);
            position: absolute;
            top: -10px;
            left: 15px;
            font-family: serif;
        }

        .verse-reference {
            display: block;
            margin-top: 15px;
            font-family: 'Orbitron', sans-serif;
            font-size: 0.9em;
            color: #88d0ff;
            font-style: normal;
            font-weight: 600;
        }

        .scripture-link {
            color: #88d0ff;
            text-decoration: none;
            transition: all 0.3s ease;
            border-bottom: 1px solid transparent;
        }

        .scripture-link:hover {
            color: #00c3ff;
            opacity: 1;
            border-bottom: 1px solid #00c3ff;
            text-shadow: 0 0 10px rgba(0, 195, 255, 0.5);
        }

        .theme-box {
            background: rgba(0, 195, 255, 0.05);
            border: 1px solid rgba(0, 195, 255, 0.2);
            padding: 25px;
            margin: 25px 0;
            border-radius: 15px;
        }

        .theme-title {
            font-family: 'Orbitron', sans-serif;
            color: #00c3ff;
            font-size: 1.3em;
            margin-bottom: 15px;
            font-weight: 600;
        }

        .additional-references {
            margin-top: 30px;
            padding-top: 25px;
            border-top: 1px solid rgba(0, 195, 255, 0.2);
        }

        .additional-references-title {
            font-family: 'Orbitron', sans-serif;
            color: #00c3ff;
            font-size: 1.1em;
            margin-bottom: 15px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .reference-item {
            margin-bottom: 12px;
            padding-left: 15px;
            border-left: 2px solid rgba(0, 195, 255, 0.3);
            padding-bottom: 8px;
        }

        .reference-item:last-child {
            margin-bottom: 0;
        }

        .reference-item .ref-link {
            color: #88d0ff;
            font-weight: 600;
            text-decoration: none;
            transition: all 0.3s ease;
        }

        .reference-item .ref-link:hover {
            color: #00c3ff;
            text-shadow: 0 0 10px rgba(0, 195, 255, 0.5);
        }

        .reference-item .ref-explanation {
            color: #b0c0d0;
            font-size: 0.95em;
            margin-top: 3px;
            font-style: italic;
        }

        .audio-btn {
            margin-top: 25px;
            padding: 12px 30px;
            background: rgba(0, 195, 255, 0.2);
            border: 1px solid rgba(0, 195, 255, 0.5);
            color: #00c3ff;
            border-radius: 25px;
            cursor: pointer;
            font-family: 'Orbitron', sans-serif;
            font-size: 0.9em;
            font-weight: 600;
            letter-spacing: 1px;
            transition: all 0.3s ease;
            text-transform: uppercase;
            position: relative;
            overflow: hidden;
            display: inline-block;
        }

        .audio-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(0, 195, 255, 0.3), transparent);
            transition: left 0.5s;
        }

        .audio-btn:hover {
            background: rgba(0, 195, 255, 0.3);
            border-color: rgba(0, 195, 255, 0.8);
            box-shadow: 
                0 0 20px rgba(0, 195, 255, 0.4),
                inset 0 0 20px rgba(0, 195, 255, 0.1);
            transform: translateY(-2px);
        }

        .audio-btn:hover::before {
            left: 100%;
        }

        .audio-btn.playing {
            background: rgba(0, 255, 150, 0.3);
            border-color: rgba(0, 255, 150, 0.8);
            box-shadow: 
                0 0 25px rgba(0, 255, 150, 0.5),
                inset 0 0 25px rgba(0, 255, 150, 0.2);
        }

        .audio-btn.playing::after {
            content: ' ðŸ”Š';
            animation: pulse 1s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 1.8em;
            }

            .content-section {
                padding: 25px;
            }

            .section-title {
                font-size: 1.4em;
            }

            .nav-menu {
                flex-direction: row;
                align-items: center;
                justify-content: center;
                gap: 20px;
            }

            .dropdown-btn {
                padding: 10px 15px;
                min-width: auto;
                width: 70px;
                height: 70px;
                justify-content: center;
                border-radius: 18px;
            }

            .dropdown-btn .text {
                display: none;
            }

            .dropdown-btn .emoji {
                display: inline;
                font-size: 1.5em;
            }

            .dropdown-btn::after {
                display: none;
            }

            .dropdown-menu {
                left: 50%;
                transform: translateX(-50%) translateY(-10px);
                min-width: 180px;
            }

            .dropdown-menu.open {
                transform: translateX(-50%) translateY(0);
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="nav-menu"></div>

        <header>
            <h1>ðŸŒŠ Dive In: The Fall of Jerusalem</h1>
            <p class="subtitle">The End of the Kingdom, But Hope Remains</p>
        </header>

        <div class="content-section">
            <h2 class="section-title">The Babylonian Siege</h2>
            <p>In <a href="https://www.biblegateway.com/passage/?search=2%20Kings%2025%3A1-30&version=NKJV" target="_blank" rel="noopener noreferrer" class="scripture-link">2 Kings 25:1-30</a>, after years of unfaithfulness, despite the reforms of godly kings like Hezekiah and Josiah, Judah falls to the Babylonians. King Nebuchadnezzar besieges Jerusalem.</p>

            <div class="verse-callout">
                "So in the ninth year of Zedekiah's reign, on the tenth day of the tenth month, Nebuchadnezzar king of Babylon marched against Jerusalem with his whole army. He encamped outside the city and built siege works all around it. The city was kept under siege until the eleventh year of King Zedekiah."
                <span class="verse-reference">
                    <a href="https://www.biblegateway.com/passage/?search=2%20Kings%2025%3A1-2&version=NKJV" target="_blank" rel="noopener noreferrer" class="scripture-link">2 Kings 25:1-2</a>
                </span>
            </div>
            <p>After years of unfaithfulness, despite the reforms of godly kings like Hezekiah and Josiah, Judah continues in sin. The people reject God's commands and follow after idols. God sends prophets to warn them, but they refuse to listen. Finally, God allows the Babylonians to come against Jerusalem. King Nebuchadnezzar besieges the city, building siege works all around it. The siege lasts for months, and the people inside the city suffer from hunger and disease.</p>

            <div class="additional-references">
                <div class="additional-references-title">Additional References</div>

                <div class="reference-item">
                    <a href="https://www.biblegateway.com/passage/?search=Jeremiah%2039%3A1-2&version=NKJV" target="_blank" rel="noopener noreferrer" class="ref-link">Jeremiah 39:1-2</a>
                    <div class="ref-explanation">In the ninth year of Zedekiah king of Judah, in the tenth month, Nebuchadnezzar king of Babylon and all his army came against Jerusalem, and besieged it.</div>
                </div>

                <div class="reference-item">
                    <a href="https://www.biblegateway.com/passage/?search=Lamentations%204%3A4-5&version=NKJV" target="_blank" rel="noopener noreferrer" class="ref-link">Lamentations 4:4-5</a>
                    <div class="ref-explanation">Because of thirst the infant's tongue sticks to the roof of its mouth; the children beg for bread, but no one gives it to them.</div>
                </div>
            </div>
            <button class="audio-btn" data-section="section1">Listen to Section</button>
        </div>
        <div class="content-section">
            <h2 class="section-title">The Destruction</h2>
            <p>After a long siege, the city falls. The Babylonians destroy the temple, burn the palace, and break down the walls of Jerusalem. Most of the people are taken into exile in Babylon.</p>

            <div class="verse-callout">
                "On the seventh day of the fifth month, in the nineteenth year of Nebuchadnezzar king of Babylon, Nebuzaradan commander of the imperial guard, an official of the king of Babylon, came to Jerusalem. He set fire to the temple of the Lord, the royal palace and all the houses of Jerusalem. Every important building he burned down. The whole Babylonian army under the commander of the imperial guard broke down the walls around Jerusalem."
                <span class="verse-reference">
                    <a href="https://www.biblegateway.com/passage/?search=2%20Kings%2025%3A8-10&version=NKJV" target="_blank" rel="noopener noreferrer" class="scripture-link">2 Kings 25:8-10</a>
                </span>
            </div>
            <p>After the city falls, the Babylonians enter Jerusalem. They set fire to the temple of the Lord, the royal palace, and all the houses of Jerusalem. Every important building is burned down. The whole Babylonian army breaks down the walls around Jerusalem. The temple, which Solomon had built with such care and which had been the center of Israel's worship, is destroyed. The ark of the covenant is lost. Most of the people are taken into exile in Babylon, leaving only the poorest people behind to work the land.</p>

            <div class="theme-box">
                <div class="theme-title">Christ's Ultimate Restoration</div>
                <p>The fall of Jerusalem points forward to how Christ provides ultimate restoration. Just as Jerusalem fell because of sin, we all face the consequences of sin. However, Christ provides restoration through His death and resurrection, establishing the true and eternal kingdom of God.</p>
                <div class="verse-reference" style="margin-top: 15px;">
                    <a href="https://www.biblegateway.com/passage/?search=Revelation%2021%3A1-4&version=NKJV" target="_blank" rel="noopener noreferrer" class="scripture-link">Revelation 21:1-4</a>
                </div>
            </div>

            <div class="verse-callout">
                "Then I saw 'a new heaven and a new earth,' for the first heaven and the first earth had passed away, and there was no longer any sea. I saw the Holy City, the new Jerusalem, coming down out of heaven from God, prepared as a bride beautifully dressed for her husband. And I heard a loud voice from the throne saying, 'Look! God's dwelling place is now among the people, and he will dwell with them. They will be his people, and God himself will be with them and be their God. He will wipe every tear from their eyes. There will be no more death or mourning or crying or pain, for the old order of things has passed away.'"
                <span class="verse-reference">
                    <a href="https://www.biblegateway.com/passage/?search=Revelation%2021%3A1-4&version=NKJV" target="_blank" rel="noopener noreferrer" class="scripture-link">Revelation 21:1-4</a>
                </span>
            </div>

            <div class="additional-references">
                <div class="additional-references-title">Additional References</div>

                <div class="reference-item">
                    <a href="https://www.biblegateway.com/passage/?search=Jeremiah%2052%3A12-14&version=NKJV" target="_blank" rel="noopener noreferrer" class="ref-link">Jeremiah 52:12-14</a>
                    <div class="ref-explanation">On the tenth day of the fifth month, in the nineteenth year of Nebuchadnezzar king of Babylon, Nebuzaradan commander of the imperial guard, who served the king of Babylon, came to Jerusalem. He set fire to the temple of the Lord, the royal palace and all the houses of Jerusalem.</div>
                </div>

                <div class="reference-item">
                    <a href="https://www.biblegateway.com/passage/?search=Psalm%20137%3A1-4&version=NKJV" target="_blank" rel="noopener noreferrer" class="ref-link">Psalm 137:1-4</a>
                    <div class="ref-explanation">By the rivers of Babylon we sat and wept when we remembered Zion. There on the poplars we hung our harps, for there our captors asked us for songs, our tormentors demanded songs of joy; they said, "Sing us one of the songs of Zion!" How can we sing the songs of the Lord while in a foreign land?</div>
                </div>
            </div>
            <button class="audio-btn" data-section="section2">Listen to Section</button>
        </div>
        <div class="content-section">
            <h2 class="section-title">Conclusion: Hope in Restoration</h2>
            <p>The fall of Jerusalem marks the end of the kingdom period and the destruction of the temple. However, God promises through the prophets that there will be a future restoration. This points forward to how Christ provides the ultimate restoration.</p>
            <p>The fall of Jerusalem is a tragic event. The temple is destroyed, the people are taken into exile, and the kingdom period comes to an end. This marks the end of an era. However, even in this tragedy, there is hope. God promises through the prophets that there will be a future restoration. The people will return from exile, and the temple will be rebuilt.</p>
            <p>But the ultimate restoration comes through Christ. Just as Jerusalem fell because of sin, we all face the consequences of sin. However, Christ provides restoration through His death and resurrection. He establishes the true and eternal kingdom of God, not just for Israel but for all who believe. Through Christ, we are restored to God and become part of His eternal kingdom. The fall of Jerusalem points forward to how Christ provides the ultimate restoration and establishes the new Jerusalem, where God will dwell with His people forever.</p>

            <div class="additional-references">
                <div class="additional-references-title">Additional References</div>

                <div class="reference-item">
                    <a href="https://www.biblegateway.com/passage/?search=Revelation%2021%3A1-4&version=NKJV" target="_blank" rel="noopener noreferrer" class="ref-link">Revelation 21:1-4</a>
                    <div class="ref-explanation">Then I saw "a new heaven and a new earth," for the first heaven and the first earth had passed away, and there was no longer any sea. I saw the Holy City, the new Jerusalem, coming down out of heaven from God.</div>
                </div>

                <div class="reference-item">
                    <a href="https://www.biblegateway.com/passage/?search=Jeremiah%2029%3A10-11&version=NKJV" target="_blank" rel="noopener noreferrer" class="ref-link">Jeremiah 29:10-11</a>
                    <div class="ref-explanation">This is what the Lord says: "When seventy years are completed for Babylon, I will come to you and fulfill my good promise to bring you back to this place. For I know the plans I have for you," declares the Lord, "plans to prosper you and not to harm you, plans to give you hope and a future."</div>
                </div>
            </div>
            <button class="audio-btn" data-section="section3">Listen to Section</button>
        </div>
    </div>

    <script>
        // Speech Synthesis Setup
        let currentUtterance = null;
        let currentButton = null;
        let jarvisVoice = null;

        // Find Jarvis-like voice
        function findJarvisVoice() {
            const voices = speechSynthesis.getVoices();
            const preferredVoices = [
                'Google UK English Male',
                'Microsoft Zira - English (United States)',
                'Alex',
                'Daniel'
            ];
            
            for (const preferred of preferredVoices) {
                const voice = voices.find(v => v.name.includes(preferred));
                if (voice) return voice;
            }
            
            return voices.find(v => v.name.toLowerCase().includes('male')) || voices[0];
        }

        // Load voices
        if (speechSynthesis.onvoiceschanged !== undefined) {
            speechSynthesis.onvoiceschanged = () => {
                jarvisVoice = findJarvisVoice();
            };
        }
        
        setTimeout(() => {
            jarvisVoice = findJarvisVoice();
        }, 100);

        // Get text content from a section
        function getSectionText(section) {
            const sectionElement = section.closest('.content-section');
            if (!sectionElement) return '';
            
            const clone = sectionElement.cloneNode(true);
            clone.querySelectorAll('.audio-btn').forEach(el => el.remove());
            return clone.textContent.trim();
        }

        // Play audio function
        function playAudio(button, text) {
            if (button === currentButton && button.classList.contains('playing')) {
                speechSynthesis.cancel();
                button.classList.remove('playing');
                button.textContent = 'Listen to Section';
                currentUtterance = null;
                currentButton = null;
                return;
            }

            if (currentUtterance && currentButton) {
                speechSynthesis.cancel();
                document.querySelectorAll('.audio-btn').forEach(btn => {
                    btn.classList.remove('playing');
                    btn.textContent = 'Listen to Section';
                });
            }

            currentUtterance = new SpeechSynthesisUtterance(text);
            
            if (jarvisVoice) {
                currentUtterance.voice = jarvisVoice;
            }
            currentUtterance.rate = 0.9;
            currentUtterance.pitch = 0.8;
            currentUtterance.volume = 1;
            currentUtterance.lang = 'en-GB';

            document.querySelectorAll('.audio-btn').forEach(btn => {
                btn.classList.remove('playing');
                btn.textContent = 'Listen to Section';
            });
            
            button.classList.add('playing');
            button.textContent = 'Playing...';
            currentButton = button;

            currentUtterance.onend = () => {
                button.classList.remove('playing');
                button.textContent = 'Listen to Section';
                currentUtterance = null;
                currentButton = null;
            };

            currentUtterance.onerror = () => {
                button.classList.remove('playing');
                button.textContent = 'Listen to Section';
                currentUtterance = null;
                currentButton = null;
            };

            speechSynthesis.speak(currentUtterance);
        }

        // Initialize audio buttons
        document.addEventListener('DOMContentLoaded', function() {
            const audioButtons = document.querySelectorAll('.audio-btn');
            
            audioButtons.forEach(button => {
                button.addEventListener('click', function(e) {
                    e.stopPropagation();
                    const text = getSectionText(this);
                    if (text) {
                        playAudio(this, text);
                    }
                });
            });
        });
    </script>
    <script src="menu.js"></script>
</body>
</html>

