<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exodus Timeline - Major Events</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdhani:wght@300;400;600;700&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Rajdhani', sans-serif;
            background: #0a0e27;
            background-image: 
                radial-gradient(circle at 20% 50%, rgba(0, 195, 255, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 80%, rgba(255, 0, 150, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 40% 20%, rgba(0, 255, 200, 0.05) 0%, transparent 50%);
            color: #e0e0e0;
            line-height: 1.6;
            min-height: 100vh;
            padding: 20px;
            overflow-x: hidden;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                radial-gradient(2px 2px at 20% 30%, rgba(0, 195, 255, 0.3), transparent),
                radial-gradient(2px 2px at 60% 70%, rgba(255, 0, 150, 0.3), transparent),
                radial-gradient(1px 1px at 50% 50%, rgba(0, 255, 200, 0.3), transparent),
                radial-gradient(1px 1px at 80% 10%, rgba(0, 195, 255, 0.2), transparent);
            background-size: 200% 200%;
            animation: particleMove 20s ease infinite;
            pointer-events: none;
            z-index: 0;
        }

        @keyframes particleMove {
            0%, 100% { background-position: 0% 0%, 100% 100%, 50% 50%, 80% 20%; }
            50% { background-position: 100% 100%, 0% 0%, 50% 50%, 20% 80%; }
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            position: relative;
            z-index: 1;
        }

        .nav-menu {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-bottom: 30px;
            flex-wrap: wrap;
            align-items: center;
        }

        .dropdown {
            position: relative;
            display: inline-block;
        }

        .dropdown-btn {
            padding: 12px 30px;
            background: rgba(0, 195, 255, 0.2);
            border: 1px solid rgba(0, 195, 255, 0.5);
            color: #00c3ff;
            border-radius: 25px;
            cursor: pointer;
            font-family: 'Orbitron', sans-serif;
            font-size: 0.9em;
            font-weight: 600;
            letter-spacing: 1px;
            transition: all 0.3s ease;
            text-transform: uppercase;
            display: flex;
            align-items: center;
            gap: 8px;
            min-width: 150px;
            justify-content: space-between;
        }

        .dropdown-btn .emoji {
            display: none;
        }

        .dropdown-btn .text {
            display: inline;
        }

        .dropdown-btn:hover {
            background: rgba(0, 195, 255, 0.3);
            border-color: rgba(0, 195, 255, 0.8);
            box-shadow: 0 0 20px rgba(0, 195, 255, 0.4);
            transform: translateY(-2px);
        }

        .dropdown-btn.active {
            background: rgba(0, 195, 255, 0.4);
            border-color: rgba(0, 195, 255, 0.8);
            box-shadow: 0 0 25px rgba(0, 195, 255, 0.5);
        }

        .dropdown-btn::after {
            content: 'â–¼';
            font-size: 0.7em;
            transition: transform 0.3s ease;
        }

        .dropdown-btn.open::after {
            transform: rotate(180deg);
        }

        .dropdown-menu {
            position: absolute;
            top: calc(100% + 10px);
            left: 0;
            background: rgba(10, 14, 39, 0.95);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(0, 195, 255, 0.5);
            border-radius: 15px;
            min-width: 200px;
            box-shadow: 
                0 8px 32px rgba(0, 0, 0, 0.5),
                0 0 40px rgba(0, 195, 255, 0.2);
            opacity: 0;
            visibility: hidden;
            transform: translateY(-10px);
            transition: all 0.3s ease;
            z-index: 1000;
            overflow: hidden;
        }

        .dropdown-menu.open {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .dropdown-item {
            padding: 12px 20px;
            color: #88d0ff;
            cursor: pointer;
            font-family: 'Rajdhani', sans-serif;
            font-size: 0.95em;
            font-weight: 500;
            letter-spacing: 0.5px;
            transition: all 0.2s ease;
            border-bottom: 1px solid rgba(0, 195, 255, 0.1);
            display: block;
            text-decoration: none;
        }

        .dropdown-item:last-child {
            border-bottom: none;
        }

        .dropdown-item:hover {
            background: rgba(0, 195, 255, 0.2);
            color: #00c3ff;
            padding-left: 25px;
        }

        .dropdown-item.active {
            background: rgba(0, 195, 255, 0.3);
            color: #00c3ff;
            border-left: 3px solid rgba(0, 195, 255, 0.8);
        }

        header {
            background: rgba(10, 14, 39, 0.7);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(0, 195, 255, 0.3);
            padding: 40px;
            border-radius: 20px;
            box-shadow: 
                0 8px 32px rgba(0, 0, 0, 0.4),
                0 0 40px rgba(0, 195, 255, 0.1),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            margin-bottom: 50px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        header::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(0, 195, 255, 0.1), transparent);
            animation: scan 3s infinite;
        }

        @keyframes scan {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        h1 {
            font-family: 'Orbitron', sans-serif;
            color: #00c3ff;
            font-size: 3em;
            margin-bottom: 10px;
            font-weight: 900;
            text-shadow: 
                0 0 20px rgba(0, 195, 255, 0.5),
                0 0 40px rgba(0, 195, 255, 0.3);
            letter-spacing: 2px;
            position: relative;
            z-index: 1;
        }

        .subtitle {
            color: #88d0ff;
            font-size: 1.2em;
            font-weight: 300;
            letter-spacing: 1px;
            position: relative;
            z-index: 1;
        }

        .timeline {
            position: relative;
            padding: 30px 0;
        }

        .timeline-line {
            position: absolute;
            left: 50%;
            top: 0;
            bottom: 0;
            width: 3px;
            background: linear-gradient(to bottom, 
                rgba(0, 195, 255, 0.3) 0%,
                rgba(0, 195, 255, 0.8) 50%,
                rgba(0, 195, 255, 0.3) 100%);
            transform: translateX(-50%);
            z-index: 0;
            box-shadow: 
                0 0 10px rgba(0, 195, 255, 0.5),
                0 0 20px rgba(0, 195, 255, 0.3);
        }

        .timeline-item {
            position: relative;
            margin-bottom: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1;
        }

        .timeline-content {
            background: rgba(10, 14, 39, 0.6);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(0, 195, 255, 0.3);
            padding: 35px;
            border-radius: 20px;
            width: 65%;
            max-width: 750px;
            position: relative;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
            box-shadow: 
                0 8px 32px rgba(0, 0, 0, 0.3),
                0 0 0 0 rgba(0, 195, 255, 0);
        }

        .timeline-content::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            border-radius: 20px;
            padding: 1px;
            background: linear-gradient(135deg, 
                rgba(0, 195, 255, 0.5),
                rgba(255, 0, 150, 0.5),
                rgba(0, 255, 200, 0.5));
            -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
            -webkit-mask-composite: xor;
            mask-composite: exclude;
            opacity: 0;
            transition: opacity 0.4s;
        }

        .timeline-content:hover {
            transform: translateY(-8px) scale(1.02);
            border-color: rgba(0, 195, 255, 0.6);
            box-shadow: 
                0 20px 60px rgba(0, 0, 0, 0.4),
                0 0 40px rgba(0, 195, 255, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
        }

        .timeline-content:hover::before {
            opacity: 1;
        }

        .timeline-content.expanded {
            border-color: rgba(0, 195, 255, 0.6);
            box-shadow: 
                0 20px 60px rgba(0, 0, 0, 0.4),
                0 0 50px rgba(0, 195, 255, 0.4),
                inset 0 1px 0 rgba(255, 255, 255, 0.2);
        }

        .character-tagline,
        .character-summary {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s cubic-bezier(0.4, 0, 0.2, 1), 
                        margin-top 0.5s ease, 
                        opacity 0.5s ease;
            opacity: 0;
            margin-top: 0;
        }

        .christ-connection {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s cubic-bezier(0.4, 0, 0.2, 1), 
                        margin-top 0.5s ease, 
                        opacity 0.5s ease;
            opacity: 0;
            margin-top: 0;
            padding-top: 0;
            border-top: none;
        }

        .timeline-content.expanded .character-tagline {
            max-height: 150px;
            margin-top: 25px;
            opacity: 1;
        }

        .timeline-content.expanded .character-summary {
            max-height: 2000px;
            margin-top: 25px;
            opacity: 1;
        }

        .timeline-content.expanded .christ-connection {
            max-height: 500px;
            margin-top: 30px;
            padding-top: 25px;
            border-top: 1px solid rgba(0, 195, 255, 0.2);
            opacity: 1;
        }

        .christ-connection-title {
            font-family: 'Orbitron', sans-serif;
            color: #00c3ff;
            font-size: 0.95em;
            margin-bottom: 12px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .christ-connection-text {
            color: #b0c0d0;
            font-size: 0.95em;
            line-height: 1.6;
            font-style: italic;
        }

        .christ-connection-text .scripture-link {
            color: #88d0ff;
            font-weight: 600;
            font-style: normal;
        }

        .expand-icon {
            position: absolute;
            top: 35px;
            right: 35px;
            font-size: 1.8em;
            color: #00c3ff;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            text-shadow: 0 0 10px rgba(0, 195, 255, 0.5);
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            background: rgba(0, 195, 255, 0.1);
        }

        .timeline-content:hover .expand-icon {
            background: rgba(0, 195, 255, 0.2);
            box-shadow: 0 0 20px rgba(0, 195, 255, 0.4);
        }

        .timeline-content.expanded .expand-icon {
            transform: rotate(180deg);
            background: rgba(0, 195, 255, 0.3);
        }

        .character-name {
            font-family: 'Orbitron', sans-serif;
            font-size: 2.2em;
            color: #00c3ff;
            margin-bottom: 12px;
            font-weight: 700;
            text-shadow: 
                0 0 15px rgba(0, 195, 255, 0.4),
                0 0 30px rgba(0, 195, 255, 0.2);
            letter-spacing: 1px;
        }

        .character-date-row {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .character-date {
            font-family: 'Orbitron', sans-serif;
            font-size: 1em;
            color: #88d0ff;
            font-weight: 400;
            letter-spacing: 2px;
            text-transform: uppercase;
            opacity: 0.9;
            white-space: nowrap;
        }

        .character-scripture {
            font-family: 'Rajdhani', sans-serif;
            font-size: 0.9em;
            color: #88d0ff;
            font-weight: 400;
            opacity: 0.8;
            font-style: italic;
        }

        .scripture-link {
            color: #88d0ff;
            text-decoration: none;
            transition: all 0.3s ease;
            border-bottom: 1px solid transparent;
        }

        .scripture-link:hover {
            color: #00c3ff;
            opacity: 1;
            border-bottom: 1px solid #00c3ff;
            text-shadow: 0 0 10px rgba(0, 195, 255, 0.5);
        }

        .character-intro {
            color: #c0d0e0;
            line-height: 1.8;
            font-size: 1.05em;
            margin-top: 15px;
            font-weight: 400;
        }

        .character-tagline {
            font-size: 1.15em;
            color: #88d0ff;
            margin-bottom: 20px;
            font-style: italic;
            font-weight: 300;
            border-left: 3px solid rgba(0, 195, 255, 0.5);
            padding-left: 15px;
        }

        .character-summary {
            color: #d0e0f0;
            line-height: 1.9;
            font-size: 1.05em;
            font-weight: 300;
        }

        .audio-btn {
            display: none;
            margin-top: 25px;
            padding: 12px 30px;
            background: rgba(0, 195, 255, 0.2);
            border: 1px solid rgba(0, 195, 255, 0.5);
            color: #00c3ff;
            border-radius: 25px;
            cursor: pointer;
            font-family: 'Orbitron', sans-serif;
            font-size: 0.9em;
            font-weight: 600;
            letter-spacing: 1px;
            transition: all 0.3s ease;
            text-transform: uppercase;
            position: relative;
            overflow: hidden;
        }

        .timeline-content.expanded .audio-btn {
            display: inline-block;
        }

        .audio-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(0, 195, 255, 0.3), transparent);
            transition: left 0.5s;
        }

        .audio-btn:hover {
            background: rgba(0, 195, 255, 0.3);
            border-color: rgba(0, 195, 255, 0.8);
            box-shadow: 
                0 0 20px rgba(0, 195, 255, 0.4),
                inset 0 0 20px rgba(0, 195, 255, 0.1);
            transform: translateY(-2px);
        }

        .audio-btn:hover::before {
            left: 100%;
        }

        .audio-btn.playing {
            background: rgba(0, 255, 150, 0.3);
            border-color: rgba(0, 255, 150, 0.8);
            box-shadow: 
                0 0 25px rgba(0, 255, 150, 0.5),
                inset 0 0 25px rgba(0, 255, 150, 0.2);
        }

        .audio-btn.playing::after {
            content: ' ðŸ”Š';
            animation: pulse 1s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 2em;
            }

            .timeline-line {
                left: 50%;
            }

            .timeline-item {
                padding-left: 0;
                margin-bottom: 30px;
            }

            .timeline {
                padding: 20px 0;
            }

            .timeline-content {
                width: 100%;
                max-width: 100%;
                padding: 25px;
            }

            .character-name {
                font-size: 1.8em;
            }

            .nav-menu {
                flex-direction: row;
                align-items: center;
                justify-content: center;
                gap: 20px;
            }

            .dropdown-btn {
                padding: 10px 15px;
                min-width: auto;
                width: 70px;
                height: 70px;
                justify-content: center;
                border-radius: 18px;
            }

            .dropdown-btn .text {
                display: none;
            }

            .dropdown-btn .emoji {
                display: inline;
                font-size: 1.5em;
            }

            .dropdown-btn::after {
                display: none;
            }

            .dropdown-menu {
                left: 50%;
                transform: translateX(-50%) translateY(-10px);
                min-width: 180px;
            }

            .dropdown-menu.open {
                transform: translateX(-50%) translateY(0);
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="nav-menu"></div>

        <header>
            <h1>ðŸ“– Exodus Events</h1>
            <p class="subtitle">Major Events in Chronological Order</p>
        </header>

        <div class="timeline" id="timeline"></div>
    </div>

    <script>
        // Major events in chronological order
        const mainEvents = [
            {
                name: "The Burning Bush",
                date: "c. 1446 BC",
                scripture: "Exodus 3:1-4:17",
                intro: "God's call to Moses from a bush that burns but is not consumed. This marks the beginning of Moses' mission to deliver Israel from Egyptian slavery. God reveals His name as 'I AM' and promises to be with Moses.",
                tagline: "God calls His deliverer",
                summary: "Now Moses was tending the flock of Jethro his father-in-law, the priest of Midian, and he led the flock to the far side of the wilderness and came to Horeb, the mountain of God. There the angel of the Lord appeared to him in flames of fire from within a bush. Moses saw that though the bush was on fire it did not burn up. So Moses thought 'I will go over and see this strange sightâ€”why the bush does not burn up.' When the Lord saw that he had gone over to look, God called to him from within the bush 'Moses! Moses!' And Moses said 'Here I am.' 'Do not come any closer,' God said. 'Take off your sandals, for the place where you are standing is holy ground.' Then He said 'I am the God of your father, the God of Abraham, the God of Isaac and the God of Jacob.' At this, Moses hid his face, because he was afraid to look at God. The Lord said 'I have indeed seen the misery of my people in Egypt. I have heard them crying out because of their slave drivers, and I am concerned about their suffering. So I have come down to rescue them from the hand of the Egyptians and to bring them up out of that land into a good and spacious land, a land flowing with milk and honey. So now, go. I am sending you to Pharaoh to bring my people the Israelites out of Egypt.' But Moses said to God 'Who am I that I should go to Pharaoh and bring the Israelites out of Egypt?' And God said 'I will be with you.' Moses said to God 'Suppose I go to the Israelites and say to them, 'The God of your fathers has sent me to you,' and they ask me, 'What is his name?' Then what shall I tell them?' God said to Moses 'I AM WHO I AM. This is what you are to say to the Israelites: 'I AM has sent me to you.' God also said to Moses 'Say to the Israelites, 'The Lord, the God of your fathersâ€”the God of Abraham, the God of Isaac and the God of Jacobâ€”has sent me to you.' This is my name forever, the name you shall call me from generation to generation.'",
                christConnection: "Christ is the true 'I AM' who came down to deliver us from slavery to sin (<a href='https://www.biblegateway.com/passage/?search=John%208%3A58&version=NKJV' target='_blank' rel='noopener noreferrer' class='scripture-link'>John 8:58</a>). Like Moses, Christ was sent to deliver His people (<a href='https://www.biblegateway.com/passage/?search=John%203%3A16&version=NKJV' target='_blank' rel='noopener noreferrer' class='scripture-link'>John 3:16</a>). The burning bush that was not consumed points to Christ's divine natureâ€”fully God yet fully man (<a href='https://www.biblegateway.com/passage/?search=Colossians%202%3A9&version=NKJV' target='_blank' rel='noopener noreferrer' class='scripture-link'>Colossians 2:9</a>)."
            },
            {
                name: "The Ten Plagues",
                date: "c. 1446 BC",
                scripture: "Exodus 7:14-12:30",
                intro: "God's judgment on Egypt through ten devastating plagues. Each plague targets an Egyptian god, demonstrating the Lord's supremacy. Pharaoh's heart hardens, but the plagues increase in severity until the final plagueâ€”the death of the firstborn.",
                tagline: "God's power over Egypt's gods",
                summary: "When Pharaoh refused to let the Israelites go, the Lord sent ten plagues upon Egypt. The first plague turned the Nile River into blood, killing all fish and making the water undrinkable. The second plague brought frogs that covered the land. The third plague turned dust into gnats that covered people and animals. The fourth plague brought swarms of flies throughout Egypt, except in Goshen where the Israelites lived. The fifth plague killed all the livestock of the Egyptians. The sixth plague brought festering boils on people and animals. The seventh plague brought the worst hailstorm Egypt had ever seen, destroying crops and trees. The eighth plague brought locusts that devoured everything left after the hail. The ninth plague brought three days of complete darkness over Egypt, while the Israelites had light. Each time, Pharaoh would promise to let the people go, but then harden his heart when the plague was removed. The tenth and final plague was the death of every firstborn son in Egypt, from Pharaoh's son to the firstborn of the prisoner in the dungeon, and the firstborn of all livestock. This plague would finally break Pharaoh's resistance and lead to the exodus.",
                christConnection: "The plagues show God's judgment on sin and false gods. Christ's death on the cross was the ultimate judgment on sin, breaking the power of the enemy (<a href='https://www.biblegateway.com/passage/?search=Colossians%202%3A15&version=NKJV' target='_blank' rel='noopener noreferrer' class='scripture-link'>Colossians 2:15</a>). The darkness that covered Egypt points to the darkness at the cross when Christ bore our judgment (<a href='https://www.biblegateway.com/passage/?search=Matthew%2027%3A45&version=NKJV' target='_blank' rel='noopener noreferrer' class='scripture-link'>Matthew 27:45</a>). Through Christ, we are protected from God's judgment (<a href='https://www.biblegateway.com/passage/?search=Romans%208%3A1&version=NKJV' target='_blank' rel='noopener noreferrer' class='scripture-link'>Romans 8:1</a>)."
            },
            {
                name: "The Passover",
                date: "c. 1446 BC",
                scripture: "Exodus 12:1-30",
                intro: "The institution of Passover, the night when the Lord passed over the houses of the Israelites marked with lamb's blood. This event becomes the foundation of Israel's identity and worship, commemorating their deliverance from slavery.",
                tagline: "Deliverance through blood",
                summary: "The Lord said to Moses and Aaron in Egypt 'This month is to be for you the first month, the first month of your year. Tell the whole community of Israel that on the tenth day of this month each man is to take a lamb for his family, one for each household. The animals you choose must be year-old males without defect. Take care of them until the fourteenth day of the month, when all the members of the community of Israel must slaughter them at twilight. Then they are to take some of the blood and put it on the sides and tops of the doorframes of the houses where they eat the lambs. That same night they are to eat the meat roasted over the fire, along with bitter herbs, and bread made without yeast. This is how you are to eat it: with your cloak tucked into your belt, your sandals on your feet and your staff in your hand. Eat it in haste; it is the Lord's Passover. On that same night I will pass through Egypt and strike down every firstborn of both people and animals, and I will bring judgment on all the gods of Egypt. I am the Lord. The blood will be a sign for you on the houses where you are, and when I see the blood, I will pass over you. No destructive plague will touch you when I strike Egypt.' At midnight the Lord struck down all the firstborn in Egypt, from the firstborn of Pharaoh to the firstborn of the prisoner, and the firstborn of all livestock. Pharaoh and all his officials got up during the night, and there was loud wailing in Egypt, for there was not a house without someone dead.",
                christConnection: "Christ is our Passover Lamb, sacrificed for us (<a href='https://www.biblegateway.com/passage/?search=1%20Corinthians%205%3A7&version=NKJV' target='_blank' rel='noopener noreferrer' class='scripture-link'>1 Corinthians 5:7</a>). His blood protects us from God's judgment (<a href='https://www.biblegateway.com/passage/?search=Hebrews%209%3A22&version=NKJV' target='_blank' rel='noopener noreferrer' class='scripture-link'>Hebrews 9:22</a>). The perfect, spotless lamb points to Christ, the Lamb without blemish (<a href='https://www.biblegateway.com/passage/?search=1%20Peter%201%3A19&version=NKJV' target='_blank' rel='noopener noreferrer' class='scripture-link'>1 Peter 1:19</a>)."
            },
            {
                name: "The Red Sea Crossing",
                date: "c. 1446 BC",
                scripture: "Exodus 14:1-31",
                intro: "God's miraculous deliverance of Israel through the Red Sea. With Pharaoh's army in pursuit, God parts the sea, allowing Israel to cross on dry ground, then closes the waters over the Egyptian army. This event demonstrates God's power to save and His commitment to His people.",
                tagline: "Salvation through the sea",
                summary: "When the king of Egypt was told that the people had fled, Pharaoh and his officials changed their minds about them and said 'What have we done? We have let the Israelites go and have lost their services!' So he had his chariot made ready and took his army with him. He took six hundred of the best chariots, along with all the other chariots of Egypt, with officers over all of them. The Lord hardened the heart of Pharaoh king of Egypt, so that he pursued the Israelites, who were marching out boldly. The Egyptiansâ€”all Pharaoh's horses and chariots, horsemen and troopsâ€”pursued the Israelites and overtook them as they camped by the sea. As Pharaoh approached, the Israelites looked up, and there were the Egyptians, marching after them. They were terrified and cried out to the Lord. They said to Moses 'Was it because there were no graves in Egypt that you brought us to the desert to die? It would have been better for us to serve the Egyptians than to die in the desert!' Moses answered the people 'Do not be afraid. Stand firm and you will see the deliverance the Lord will bring you today. The Egyptians you see today you will never see again. The Lord will fight for you; you need only to be still.' Then the Lord said to Moses 'Raise your staff and stretch out your hand over the sea to divide the water so that the Israelites can go through the sea on dry ground.' Moses stretched out his hand over the sea, and all that night the Lord drove the sea back with a strong east wind and turned it into dry land. The waters were divided, and the Israelites went through the sea on dry ground, with a wall of water on their right and on their left. The Egyptians pursued them, and all Pharaoh's horses and chariots and horsemen followed them into the sea. During the last watch of the night the Lord looked down from the pillar of fire and cloud at the Egyptian army and threw it into confusion. He jammed the wheels of their chariots so that they had difficulty driving. Then the Lord said to Moses 'Stretch out your hand over the sea so that the waters may flow back over the Egyptians and their chariots and horsemen.' Moses stretched out his hand over the sea, and at daybreak the sea went back to its place. The Egyptians were fleeing toward it, and the Lord swept them into the sea. The water flowed back and covered the chariots and horsemenâ€”the entire army of Pharaoh that had followed the Israelites into the sea. Not one of them survived. But the Israelites went through the sea on dry ground, with a wall of water on their right and on their left. That day the Lord saved Israel from the hands of the Egyptians, and Israel saw the Egyptians lying dead on the shore. And when the Israelites saw the mighty hand of the Lord displayed against the Egyptians, the people feared the Lord and put their trust in him and in Moses his servant.",
                christConnection: "The Red Sea crossing is a picture of baptismâ€”death to the old life, new life in Christ (<a href='https://www.biblegateway.com/passage/?search=1%20Corinthians%2010%3A1-2&version=NKJV' target='_blank' rel='noopener noreferrer' class='scripture-link'>1 Corinthians 10:1-2</a>). Through Christ, we pass from death to life, from slavery to freedom (<a href='https://www.biblegateway.com/passage/?search=Romans%206%3A4&version=NKJV' target='_blank' rel='noopener noreferrer' class='scripture-link'>Romans 6:4</a>). The enemy is defeated, just as Pharaoh's army was destroyed (<a href='https://www.biblegateway.com/passage/?search=Colossians%202%3A15&version=NKJV' target='_blank' rel='noopener noreferrer' class='scripture-link'>Colossians 2:15</a>)."
            },
            {
                name: "Manna and Quail",
                date: "c. 1446 BC",
                scripture: "Exodus 16:1-36",
                intro: "God's daily provision of food in the wilderness. Each morning, manna appears on the ground, and in the evening, quail covers the camp. This demonstrates God's faithfulness to provide for His people's needs and teaches them to trust Him day by day.",
                tagline: "Daily bread from heaven",
                summary: "The whole Israelite community set out from Elim and came to the Desert of Sin, which is between Elim and Sinai, on the fifteenth day of the second month after they had come out of Egypt. In the desert the whole community grumbled against Moses and Aaron. The Israelites said to them 'If only we had died by the Lord's hand in Egypt! There we sat around pots of meat and ate all the food we wanted, but you have brought us out into this desert to starve this entire assembly to death.' Then the Lord said to Moses 'I will rain down bread from heaven for you. The people are to go out each day and gather enough for that day. In this way I will test them and see whether they will follow my instructions. On the sixth day they are to prepare what they bring in, and that is to be twice as much as they gather on the other days.' So Moses and Aaron said to all the Israelites 'In the evening you will know that it was the Lord who brought you out of Egypt, and in the morning you will see the glory of the Lord, because he has heard your grumbling against him.' That evening quail came and covered the camp, and in the morning there was a layer of dew around the camp. When the dew was gone, thin flakes like frost on the ground appeared on the desert floor. When the Israelites saw it, they said to each other 'What is it?' For they did not know what it was. Moses said to them 'It is the bread the Lord has given you to eat. This is what the Lord has commanded: 'Everyone is to gather as much as they need. Take an omer for each person you have in your tent.'' The Israelites did as they were told; some gathered much, some little. And when they measured it by the omer, the one who gathered much did not have too much, and the one who gathered little did not have too little. Everyone had gathered just as much as they needed. Moses said to them 'No one is to keep any of it until morning.' However, some of them paid no attention to Moses; they kept part of it until morning, but it was full of maggots and began to smell. So Moses was angry with them. Each morning everyone gathered as much as they needed, and when the sun grew hot, it melted away. On the sixth day, they gathered twice as muchâ€”two omers for each person. The people of Israel called the bread manna. It was white like coriander seed and tasted like wafers made with honey. Moses said 'This is what the Lord has commanded: 'Take an omer of manna and keep it for the generations to come, so they can see the bread I gave you to eat in the wilderness when I brought you out of Egypt.'' So Moses said to Aaron 'Take a jar and put an omer of manna in it. Then place it before the Lord to be kept for the generations to come.' The Israelites ate manna forty years, until they came to a land that was settled; they ate manna until they reached the border of Canaan.",
                christConnection: "Christ is the true Bread from Heaven that gives eternal life (<a href='https://www.biblegateway.com/passage/?search=John%206%3A32-35&version=NKJV' target='_blank' rel='noopener noreferrer' class='scripture-link'>John 6:32-35</a>). Unlike manna that perished, Christ is the living bread that satisfies forever (<a href='https://www.biblegateway.com/passage/?search=John%206%3A48-51&version=NKJV' target='_blank' rel='noopener noreferrer' class='scripture-link'>John 6:48-51</a>). We must daily feed on Christ through His Word and communion (<a href='https://www.biblegateway.com/passage/?search=Matthew%206%3A11&version=NKJV' target='_blank' rel='noopener noreferrer' class='scripture-link'>Matthew 6:11</a>)."
            },
            {
                name: "Water from the Rock",
                date: "c. 1446 BC",
                scripture: "Exodus 17:1-7",
                intro: "God provides water from a rock when the people complain of thirst. Moses strikes the rock at Horeb, and water flows out. This demonstrates God's ability to provide for His people's needs even in the most unlikely ways.",
                tagline: "Living water from stone",
                summary: "The whole Israelite community set out from the Desert of Sin, traveling from place to place as the Lord commanded. They camped at Rephidim, but there was no water for the people to drink. So they quarreled with Moses and said 'Give us water to drink.' Moses replied 'Why do you quarrel with me? Why do you put the Lord to the test?' But the people were thirsty for water there, and they grumbled against Moses. They said 'Why did you bring us up out of Egypt to make us and our children and livestock die of thirst?' Then Moses cried out to the Lord 'What am I to do with these people? They are almost ready to stone me.' The Lord answered Moses 'Go out in front of the people. Take with you some of the elders of Israel and take in your hand the staff with which you struck the Nile, and go. I will stand there before you by the rock at Horeb. Strike the rock, and water will come out of it for the people to drink.' So Moses did this in the sight of the elders of Israel. And he called the place Massah and Meribah because the Israelites quarreled and because they tested the Lord saying 'Is the Lord among us or not?'",
                christConnection: "Christ is the Rock that was struck for us, providing living water (<a href='https://www.biblegateway.com/passage/?search=1%20Corinthians%2010%3A4&version=NKJV' target='_blank' rel='noopener noreferrer' class='scripture-link'>1 Corinthians 10:4</a>). He is the source of living water that satisfies our spiritual thirst forever (<a href='https://www.biblegateway.com/passage/?search=John%204%3A13-14&version=NKJV' target='_blank' rel='noopener noreferrer' class='scripture-link'>John 4:13-14</a>). The rock was struck once, just as Christ was crucified once for all (<a href='https://www.biblegateway.com/passage/?search=Hebrews%209%3A28&version=NKJV' target='_blank' rel='noopener noreferrer' class='scripture-link'>Hebrews 9:28</a>)."
            },
            {
                name: "The Ten Commandments",
                date: "c. 1446 BC",
                scripture: "Exodus 19:1-20:21",
                intro: "God gives the Law to Israel at Mount Sinai. The Ten Commandments form the foundation of the covenant relationship between God and His people, establishing moral and ethical standards that would guide Israel and influence all of human civilization.",
                tagline: "God's law for His people",
                summary: "On the first day of the third month after the Israelites left Egypt, they came to the Desert of Sinai. After they set out from Rephidim, they entered the Desert of Sinai, and Israel camped there in the desert in front of the mountain. Then Moses went up to God, and the Lord called to him from the mountain and said 'This is what you are to say to the descendants of Jacob and what you are to tell the people of Israel: You yourselves have seen what I did to Egypt, and how I carried you on eagles' wings and brought you to myself. Now if you obey me fully and keep my covenant, then out of all nations you will be my treasured possession. Although the whole earth is mine, you will be for me a kingdom of priests and a holy nation.' The people all responded together 'We will do everything the Lord has said.' On the morning of the third day there was thunder and lightning, with a thick cloud over the mountain, and a very loud trumpet blast. Everyone in the camp trembled. Then Moses led the people out of the camp to meet with God, and they stood at the foot of the mountain. Mount Sinai was covered with smoke, because the Lord descended on it in fire. The smoke billowed up from it like smoke from a furnace, and the whole mountain trembled violently. As the sound of the trumpet grew louder and louder, Moses spoke and the voice of God answered him. And God spoke all these words: 'I am the Lord your God, who brought you out of Egypt, out of the land of slavery. You shall have no other gods before me. You shall not make for yourself an image in the form of anything in heaven above or on the earth beneath or in the waters below. You shall not bow down to them or worship them. You shall not misuse the name of the Lord your God. Remember the Sabbath day by keeping it holy. Honor your father and your mother. You shall not murder. You shall not commit adultery. You shall not steal. You shall not give false testimony against your neighbor. You shall not covet your neighbor's house, wife, male or female servant, ox or donkey, or anything that belongs to your neighbor.' When the people saw the thunder and lightning and heard the trumpet and saw the mountain in smoke, they trembled with fear. They stayed at a distance and said to Moses 'Speak to us yourself and we will listen. But do not have God speak to us or we will die.'",
                christConnection: "The Law reveals our sin and need for a Savior (<a href='https://www.biblegateway.com/passage/?search=Romans%203%3A20&version=NKJV' target='_blank' rel='noopener noreferrer' class='scripture-link'>Romans 3:20</a>). Christ fulfilled the Law perfectly (<a href='https://www.biblegateway.com/passage/?search=Matthew%205%3A17&version=NKJV' target='_blank' rel='noopener noreferrer' class='scripture-link'>Matthew 5:17</a>). Through Christ, we become a kingdom of priests and a holy nation (<a href='https://www.biblegateway.com/passage/?search=1%20Peter%202%3A9&version=NKJV' target='_blank' rel='noopener noreferrer' class='scripture-link'>1 Peter 2:9</a>)."
            },
            {
                name: "The Golden Calf",
                date: "c. 1446 BC",
                scripture: "Exodus 32:1-35",
                intro: "Israel's great sin of idolatry. While Moses is on the mountain receiving the Law, the people demand that Aaron make them a god. They create a golden calf and worship it, breaking the covenant they just made. Moses intercedes, and God shows both judgment and mercy.",
                tagline: "Idolatry and intercession",
                summary: "When the people saw that Moses was so long in coming down from the mountain, they gathered around Aaron and said 'Come, make us gods who will go before us. As for this fellow Moses who brought us up out of Egypt, we don't know what has happened to him.' Aaron answered them 'Take off the gold earrings that your wives, your sons and your daughters are wearing, and bring them to me.' So all the people took off their earrings and brought them to Aaron. He took what they handed him and made it into an idol cast in the shape of a calf, fashioning it with a tool. Then they said 'These are your gods, Israel, who brought you up out of Egypt.' When Aaron saw this, he built an altar in front of the calf and announced 'Tomorrow there will be a festival to the Lord.' Early the next day the people sacrificed burnt offerings and presented fellowship offerings. Afterward they sat down to eat and drink and got up to indulge in revelry. Then the Lord said to Moses 'Go down, because your people, whom you brought up out of Egypt, have become corrupt. They have been quick to turn away from what I commanded them and have made themselves an idol cast in the shape of a calf. They have bowed down to it and sacrificed to it and have said, 'These are your gods, Israel, who brought you up out of Egypt.' I have seen these people, and they are a stiff-necked people. Now leave me alone so that my anger may burn against them and that I may destroy them. Then I will make you into a great nation.' But Moses sought the favor of the Lord his God. 'Lord,' he said 'why should your anger burn against your people, whom you brought out of Egypt with great power and a mighty hand? Why should the Egyptians say, 'It was with evil intent that he brought them out, to kill them in the mountains and to wipe them off the face of the earth'? Turn from your fierce anger; relent and do not bring disaster on your people. Remember your servants Abraham, Isaac and Israel, to whom you swore by your own self: 'I will make your descendants as numerous as the stars in the sky and I will give your descendants all this land I promised them, and it will be their inheritance forever.'' Then the Lord relented and did not bring on his people the disaster he had threatened. Moses turned and went down the mountain with the two tablets of the covenant law in his hands. When Moses approached the camp and saw the calf and the dancing, his anger burned and he threw the tablets out of his hands, breaking them to pieces at the foot of the mountain. And he took the calf the people had made and burned it in the fire; then he ground it to powder, scattered it on the water and made the Israelites drink it. Moses stood at the entrance to the camp and said 'Whoever is for the Lord, come to me.' And all the Levites rallied to him. Then he said to them 'This is what the Lord, the God of Israel, says: 'Each man strap a sword to his side. Go back and forth through the camp from one end to the other, each killing his brother and friend and neighbor.'' The Levites did as Moses commanded, and that day about three thousand of the people died. Then Moses said 'You have been set apart to the Lord today, for you were against your own sons and brothers, and he has blessed you this day.'",
                christConnection: "Moses' intercession points to Christ, our great Intercessor who stands between us and God's judgment (<a href='https://www.biblegateway.com/passage/?search=Hebrews%207%3A25&version=NKJV' target='_blank' rel='noopener noreferrer' class='scripture-link'>Hebrews 7:25</a>). The three thousand who died contrast with the three thousand saved at Pentecost through Christ (<a href='https://www.biblegateway.com/passage/?search=Acts%202%3A41&version=NKJV' target='_blank' rel='noopener noreferrer' class='scripture-link'>Acts 2:41</a>). Christ breaks the power of idolatry in our hearts (<a href='https://www.biblegateway.com/passage/?search=1%20John%205%3A21&version=NKJV' target='_blank' rel='noopener noreferrer' class='scripture-link'>1 John 5:21</a>)."
            },
            {
                name: "The Tabernacle Construction",
                date: "c. 1445 BC",
                scripture: "Exodus 25:1-40:38",
                intro: "The building of the Tabernacle, a portable sanctuary where God would dwell among His people. Every detail is specified by God, and the people contribute generously. The Tabernacle becomes the center of Israel's worship and the pattern for God's presence with His people.",
                tagline: "God dwells with His people",
                summary: "The Lord said to Moses 'Tell the Israelites to bring me an offering. You are to receive the offering for me from everyone whose heart prompts them to give. These are the offerings you are to receive from them: gold, silver and bronze; blue, purple and scarlet yarn and fine linen; goat hair; ram skins dyed red and another type of durable leather; acacia wood; olive oil for the light; spices for the anointing oil and for the fragrant incense; and onyx stones and other gems to be mounted on the ephod and breastpiece. Then have them make a sanctuary for me, and I will dwell among them. Make this tabernacle and all its furnishings exactly like the pattern I will show you.' The Lord gave detailed instructions for every part of the Tabernacle: the ark of the covenant with its atonement cover, the table for the bread of the Presence, the gold lampstand, the tent of meeting with its framework and coverings, the altar of burnt offering, the courtyard, and all the furnishings. The Lord also called Bezalel and Oholiab, filling them with the Spirit of God, with wisdom, understanding and knowledge in all kinds of crafts, to make artistic designs for work in gold, silver and bronze, to cut and set stones, to work in wood, and to engage in all kinds of artistic crafts. The people brought more than enough materials for the work. Moses had to restrain them from bringing more. The skilled workers made the Tabernacle with ten curtains of finely twisted linen and blue, purple and scarlet yarn, with cherubim woven into them. They made the ark of acacia wood, overlaid with pure gold. They made the atonement cover of pure gold. They made the table, the lampstand, the altar of burnt offering, the bronze basin, and all the other furnishings exactly as the Lord had commanded. They set up the Tabernacle on the first day of the first month in the second year. Then the cloud covered the tent of meeting, and the glory of the Lord filled the tabernacle. Moses could not enter the tent of meeting because the cloud had settled on it, and the glory of the Lord filled the tabernacle. In all the travels of the Israelites, whenever the cloud lifted from above the tabernacle, they would set out; but if the cloud did not lift, they did not set outâ€”until the day it lifted. So the cloud of the Lord was over the tabernacle by day, and fire was in the cloud by night, in the sight of all the Israelites during all their travels.",
                christConnection: "The Tabernacle points to Christ, in whom God dwells with us (<a href='https://www.biblegateway.com/passage/?search=John%201%3A14&version=NKJV' target='_blank' rel='noopener noreferrer' class='scripture-link'>John 1:14</a>). Christ is our High Priest who entered the true tabernacle in heaven (<a href='https://www.biblegateway.com/passage/?search=Hebrews%209%3A11-12&version=NKJV' target='_blank' rel='noopener noreferrer' class='scripture-link'>Hebrews 9:11-12</a>). We are now the temple of the Holy Spirit (<a href='https://www.biblegateway.com/passage/?search=1%20Corinthians%206%3A19&version=NKJV' target='_blank' rel='noopener noreferrer' class='scripture-link'>1 Corinthians 6:19</a>)."
            },
            {
                name: "Battle with Amalek",
                date: "c. 1446 BC",
                scripture: "Exodus 17:8-16",
                intro: "Israel's first battle as a free nation. The Amalekites attack the Israelites at Rephidim. Joshua leads the army while Moses, Aaron, and Hur watch from a hilltop. When Moses holds up his hands, Israel prevails; when he lowers them, Amalek prevails. This demonstrates the power of intercession and God's protection of His people.",
                tagline: "Victory through intercession",
                summary: "The Amalekites came and attacked the Israelites at Rephidim. Moses said to Joshua 'Choose some of our men and go out to fight the Amalekites. Tomorrow I will stand on top of the hill with the staff of God in my hands.' So Joshua fought the Amalekites as Moses had ordered, and Moses, Aaron and Hur went to the top of the hill. As long as Moses held up his hands, the Israelites were winning, but whenever he lowered his hands, the Amalekites were winning. When Moses' hands grew tired, they took a stone and put it under him and he sat on it. Aaron and Hur held his hands upâ€”one on one side, one on the otherâ€”so that his hands remained steady till sunset. So Joshua overcame the Amalekite army with the sword. Then the Lord said to Moses 'Write this on a scroll as something to be remembered and make sure that Joshua hears it, because I will completely blot out the name of Amalek from under heaven.' Moses built an altar and called it The Lord is my Banner. He said 'Because hands were lifted up against the throne of the Lord, the Lord will be at war against the Amalekites from generation to generation.'",
                christConnection: "Moses' lifted hands point to Christ's arms stretched out on the cross, securing our victory (<a href='https://www.biblegateway.com/passage/?search=John%2012%3A32&version=NKJV' target='_blank' rel='noopener noreferrer' class='scripture-link'>John 12:32</a>). Christ is our Banner, the One who fights for us and gives us victory (<a href='https://www.biblegateway.com/passage/?search=1%20Corinthians%2015%3A57&version=NKJV' target='_blank' rel='noopener noreferrer' class='scripture-link'>1 Corinthians 15:57</a>). Through Christ's intercession, we overcome the enemy (<a href='https://www.biblegateway.com/passage/?search=Romans%208%3A34&version=NKJV' target='_blank' rel='noopener noreferrer' class='scripture-link'>Romans 8:34</a>)."
            },
            {
                name: "Jethro's Visit",
                date: "c. 1446 BC",
                scripture: "Exodus 18:1-27",
                intro: "Moses' father-in-law Jethro visits and observes Moses judging the people from morning to evening. Jethro advises Moses to delegate authority to capable leaders, establishing a system of judges. This demonstrates the importance of wise counsel and shared leadership.",
                tagline: "Wisdom in leadership",
                summary: "Now Jethro, the priest of Midian and father-in-law of Moses, heard of everything God had done for Moses and for his people Israel, and how the Lord had brought Israel out of Egypt. After Moses had sent away his wife Zipporah, his father-in-law Jethro received her and her two sons. One son was named Gershom, for Moses said 'I have become a foreigner in a foreign land'; and the other was named Eliezer, for he said 'My father's God was my helper; he saved me from the sword of Pharaoh.' Jethro, Moses' father-in-law, together with Moses' sons and wife, came to him in the wilderness, where he was camped near the mountain of God. Jethro had sent word to him 'I, your father-in-law Jethro, am coming to you with your wife and her two sons.' Moses went out to meet his father-in-law and bowed down and kissed him. They greeted each other and then went into the tent. Moses told his father-in-law about everything the Lord had done to Pharaoh and the Egyptians for Israel's sake and about all the hardships they had met along the way and how the Lord had saved them. Jethro was delighted to hear about all the good things the Lord had done for Israel in rescuing them from the hand of the Egyptians. The next day Moses took his seat to serve as judge for the people, and they stood around him from morning till evening. When his father-in-law saw all that Moses was doing for the people, he said 'What is this you are doing for the people? Why do you alone sit as judge, while all these people stand around you from morning till evening?' Moses answered him 'Because the people come to me to seek God's will. Whenever they have a dispute, it is brought to me, and I decide between the parties and inform them of God's decrees and instructions.' Moses' father-in-law replied 'What you are doing is not good. You and these people who come to you will only wear yourselves out. The work is too heavy for you; you cannot handle it alone. Listen now to me and I will give you some advice, and may God be with you. You must be the people's representative before God and bring their disputes to him. Teach them his decrees and instructions, and show them the way they are to live and how they are to behave. But select capable men from all the peopleâ€”men who fear God, trustworthy men who hate dishonest gainâ€”and appoint them as officials over thousands, hundreds, fifties and tens. Have them serve as judges for the people at all times, but have them bring every difficult case to you; the simple cases they can decide themselves. That will make your load lighter, because they will share it with you. If you do this and God so commands, you will be able to stand the strain, and all these people will go home satisfied.' Moses listened to his father-in-law and did everything he said. He chose capable men from all Israel and made them leaders of the people, officials over thousands, hundreds, fifties and tens. They served as judges for the people at all times. The difficult cases they brought to Moses, but the simple ones they decided themselves. Then Moses sent his father-in-law on his way, and Jethro returned to his own country.",
                christConnection: "Moses as judge points to Christ, the ultimate Judge who will judge all people (<a href='https://www.biblegateway.com/passage/?search=John%205%3A22&version=NKJV' target='_blank' rel='noopener noreferrer' class='scripture-link'>John 5:22</a>). Christ has given the church leaders to help shepherd His people (<a href='https://www.biblegateway.com/passage/?search=Ephesians%204%3A11-12&version=NKJV' target='_blank' rel='noopener noreferrer' class='scripture-link'>Ephesians 4:11-12</a>). Christ is our perfect Mediator who brings us to God (<a href='https://www.biblegateway.com/passage/?search=1%20Timothy%202%3A5&version=NKJV' target='_blank' rel='noopener noreferrer' class='scripture-link'>1 Timothy 2:5</a>)."
            },
        ];

        // Helper function to create Bible Gateway link
        function createBibleGatewayLink(scripture) {
            if (!scripture) return '';
            const encodedScripture = encodeURIComponent(scripture);
            const url = `https://www.biblegateway.com/passage/?search=${encodedScripture}&version=NKJV`;
            return `<a href="${url}" target="_blank" rel="noopener noreferrer" class="scripture-link">${scripture}</a>`;
        }

        // Render timeline
        function renderTimeline() {
            const timeline = document.getElementById('timeline');
            timeline.innerHTML = '<div class="timeline-line"></div>';

            mainEvents.forEach((event, index) => {
                const item = document.createElement('div');
                item.className = 'timeline-item';

                const content = document.createElement('div');
                content.className = 'timeline-content';
                
                content.innerHTML = `
                    <div class="expand-icon">â–¼</div>
                    <div class="character-name">${event.name}</div>
                    <div class="character-date-row">
                        <div class="character-date">${event.date}</div>
                        ${event.scripture ? `<div class="character-scripture">${createBibleGatewayLink(event.scripture)}</div>` : ''}
                    </div>
                    <div class="character-intro">${event.intro}</div>
                    <div class="character-tagline">${event.tagline}</div>
                    <div class="character-summary">${event.summary}</div>
                    ${event.christConnection ? `<div class="christ-connection">
                        <div class="christ-connection-title">Christ in This Story</div>
                        <div class="christ-connection-text">${event.christConnection}</div>
                    </div>` : ''}
                    <button class="audio-btn">Listen to Story</button>
                `;

                content.addEventListener('click', (e) => {
                    // Don't toggle if clicking the audio button or scripture link
                    if (!e.target.classList.contains('audio-btn') && 
                        !e.target.classList.contains('scripture-link') &&
                        !e.target.closest('.scripture-link')) {
                        content.classList.toggle('expanded');
                    }
                });

                // Add audio button functionality
                const audioBtn = content.querySelector('.audio-btn');
                audioBtn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    const nameEl = content.querySelector('.character-name');
                    const introEl = content.querySelector('.character-intro');
                    const taglineEl = content.querySelector('.character-tagline');
                    const summaryEl = content.querySelector('.character-summary');
                    
                    const fullText = `${nameEl.textContent}. ${introEl.textContent} ${taglineEl.textContent ? taglineEl.textContent + '. ' : ''}${summaryEl.textContent}`;
                    playAudio(audioBtn, fullText);
                });

                item.appendChild(content);
                timeline.appendChild(item);
            });
        }

        // Speech synthesis setup
        let currentUtterance = null;
        let currentButton = null;
        let jarvisVoice = null;

        // Find Jarvis-like voice (British English, male)
        function findJarvisVoice() {
            const voices = speechSynthesis.getVoices();
            // Prefer British English voices (Jarvis is British)
            const preferredVoices = [
                'Google UK English Male',
                'Microsoft Zira - English (United States)',
                'Microsoft David - English (United States)',
                'Alex',
                'Daniel'
            ];
            
            // Try to find a British voice first
            for (const voiceName of preferredVoices) {
                const voice = voices.find(v => v.name.includes(voiceName) || v.name === voiceName);
                if (voice) return voice;
            }
            
            // Fallback to any English male voice
            const maleVoice = voices.find(v => 
                v.lang.startsWith('en') && 
                (v.name.toLowerCase().includes('male') || 
                 v.name.toLowerCase().includes('david') ||
                 v.name.toLowerCase().includes('daniel'))
            );
            
            return maleVoice || voices.find(v => v.lang.startsWith('en')) || voices[0];
        }

        // Wait for voices to load
        if (speechSynthesis.onvoiceschanged !== undefined) {
            speechSynthesis.onvoiceschanged = () => {
                jarvisVoice = findJarvisVoice();
            };
        }

        // Initialize voice
        setTimeout(() => {
            jarvisVoice = findJarvisVoice();
        }, 100);

        // Play audio function
        function playAudio(button, text) {
            
            // If this button is already playing, stop it
            if (button === currentButton && button.classList.contains('playing')) {
                speechSynthesis.cancel();
                button.classList.remove('playing');
                button.textContent = 'Listen to Story';
                currentUtterance = null;
                currentButton = null;
                return;
            }

            // Stop any other currently playing speech
            if (currentUtterance && currentButton) {
                speechSynthesis.cancel();
                currentButton.classList.remove('playing');
                currentButton.textContent = 'Listen to Story';
            }

            // Create new utterance
            currentUtterance = new SpeechSynthesisUtterance(text);
            
            // Set voice properties for Jarvis-like sound
            if (jarvisVoice) {
                currentUtterance.voice = jarvisVoice;
            }
            currentUtterance.rate = 0.9; // Slightly slower, more deliberate
            currentUtterance.pitch = 0.8; // Slightly lower pitch
            currentUtterance.volume = 1;
            currentUtterance.lang = 'en-GB'; // British English

            // Update button state
            button.classList.add('playing');
            button.textContent = 'Playing...';
            currentButton = button;

            // Handle speech end
            currentUtterance.onend = () => {
                button.classList.remove('playing');
                button.textContent = 'Listen to Story';
                currentUtterance = null;
                currentButton = null;
            };

            // Handle speech error
            currentUtterance.onerror = () => {
                button.classList.remove('playing');
                button.textContent = 'Listen to Story';
                currentUtterance = null;
                currentButton = null;
            };

            // Start speaking
            speechSynthesis.speak(currentUtterance);
        }

        // Initialize
        renderTimeline();

    </script>
    <script src="menu.js"></script>
</body>
</html>

