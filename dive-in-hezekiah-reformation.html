<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/png" href="favicon.png">
    <link rel="shortcut icon" type="image/png" href="favicon.png">
    <title>Dive In: Hezekiah's Reformation - 2 Chronicles Timeline</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdhani:wght@300;400;600;700&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Rajdhani', sans-serif;
            background: #0a0e27;
            background-image: 
                radial-gradient(circle at 20% 50%, rgba(0, 195, 255, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 80%, rgba(255, 0, 150, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 40% 20%, rgba(0, 255, 200, 0.05) 0%, transparent 50%);
            color: #e0e0e0;
            line-height: 1.6;
            min-height: 100vh;
            padding: 20px;
            overflow-x: hidden;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                radial-gradient(2px 2px at 20% 30%, rgba(0, 195, 255, 0.3), transparent),
                radial-gradient(2px 2px at 60% 70%, rgba(255, 0, 150, 0.3), transparent),
                radial-gradient(1px 1px at 50% 50%, rgba(0, 255, 200, 0.3), transparent),
                radial-gradient(1px 1px at 80% 10%, rgba(0, 195, 255, 0.2), transparent);
            background-size: 200% 200%;
            animation: particleMove 20s ease infinite;
            pointer-events: none;
            z-index: 0;
        }

        @keyframes particleMove {
            0%, 100% { background-position: 0% 0%, 100% 100%, 50% 50%, 80% 20%; }
            50% { background-position: 100% 100%, 0% 0%, 50% 50%, 20% 80%; }
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            position: relative;
            z-index: 1;
        }

        .nav-menu {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-bottom: 30px;
            flex-wrap: wrap;
            align-items: center;
        }
        .dropdown {
            position: relative;
            display: inline-block;
        }

        .dropdown-btn {
            padding: 12px 30px;
            background: rgba(0, 195, 255, 0.2);
            border: 1px solid rgba(0, 195, 255, 0.5);
            color: #00c3ff;
            border-radius: 25px;
            cursor: pointer;
            font-family: 'Orbitron', sans-serif;
            font-size: 0.9em;
            font-weight: 600;
            letter-spacing: 1px;
            transition: all 0.3s ease;
            text-transform: uppercase;
            display: flex;
            align-items: center;
            gap: 8px;
            min-width: 150px;
            justify-content: space-between;
        }

        .dropdown-btn .emoji {
            display: none;
        }

        .dropdown-btn .text {
            display: inline;
        }

        .dropdown-btn:hover {
            background: rgba(0, 195, 255, 0.3);
            border-color: rgba(0, 195, 255, 0.8);
            box-shadow: 0 0 20px rgba(0, 195, 255, 0.4);
            transform: translateY(-2px);
        }

        .dropdown-btn.active {
            background: rgba(0, 195, 255, 0.4);
            border-color: rgba(0, 195, 255, 0.8);
            box-shadow: 0 0 25px rgba(0, 195, 255, 0.5);
        }

        .dropdown-btn::after {
            content: 'â–¼';
            font-size: 0.7em;
            transition: transform 0.3s ease;
        }

        .dropdown-btn.open::after {
            transform: rotate(180deg);
        }

        .dropdown-menu {
            position: absolute;
            top: calc(100% + 10px);
            left: 0;
            background: rgba(10, 14, 39, 0.95);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(0, 195, 255, 0.5);
            border-radius: 15px;
            min-width: 200px;
            box-shadow: 
                0 8px 32px rgba(0, 0, 0, 0.5),
                0 0 40px rgba(0, 195, 255, 0.2);
            opacity: 0;
            visibility: hidden;
            transform: translateY(-10px);
            transition: all 0.3s ease;
            z-index: 1000;
            overflow: hidden;
        }

        .dropdown-menu.open {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .dropdown-item {
            padding: 12px 20px;
            color: #88d0ff;
            cursor: pointer;
            font-family: 'Rajdhani', sans-serif;
            font-size: 0.95em;
            font-weight: 500;
            letter-spacing: 0.5px;
            transition: all 0.2s ease;
            border-bottom: 1px solid rgba(0, 195, 255, 0.1);
            display: block;
            text-decoration: none;
        }

        .dropdown-item:last-child {
            border-bottom: none;
        }

        .dropdown-item:hover {
            background: rgba(0, 195, 255, 0.2);
            color: #00c3ff;
            padding-left: 25px;
        }

        .dropdown-item.active {
            background: rgba(0, 195, 255, 0.3);
            color: #00c3ff;
            border-left: 3px solid rgba(0, 195, 255, 0.8);
        }

        .dropdown-item.category-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            position: relative;
        }

        .dropdown-item.category-item .arrow {
            font-size: 0.7em;
            transition: transform 0.2s ease;
            margin-left: auto;
        }

        .dropdown-item.category-item:hover .arrow {
            transform: translateX(3px);
        }

        .submenu {
            background: rgba(5, 10, 25, 0.95);
            border-left: 3px solid rgba(0, 195, 255, 0.5);
            margin-left: 10px;
            border-radius: 0 0 10px 10px;
            overflow: hidden;
        }

        .submenu-item {
            padding-left: 35px !important;
            font-size: 0.9em;
        }

        .submenu-item:hover {
            padding-left: 40px !important;
        }

        @media (max-width: 768px) {
            .dropdown-btn {
                padding: 10px 15px;
                min-width: auto;
                width: 70px;
                height: 70px;
                justify-content: center;
                border-radius: 18px;
            }

            .dropdown-btn .text {
                display: none;
            }

            .dropdown-btn .emoji {
                display: inline;
                font-size: 1.5em;
            }

            .dropdown-btn::after {
                display: none;
            }

            .dropdown-menu {
                left: 50%;
                transform: translateX(-50%) translateY(-10px);
                min-width: 180px;
            }

            .dropdown-menu.open {
                transform: translateX(-50%) translateY(0);
            }
        }


        header {
            background: rgba(10, 14, 39, 0.7);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(0, 195, 255, 0.3);
            padding: 40px;
            border-radius: 20px;
            box-shadow: 
                0 8px 32px rgba(0, 0, 0, 0.4),
                0 0 40px rgba(0, 195, 255, 0.1),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            margin-bottom: 50px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        header::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(0, 195, 255, 0.1), transparent);
            animation: scan 3s infinite;
        }

        @keyframes scan {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        h1 {
            font-family: 'Orbitron', sans-serif;
            color: #00c3ff;
            font-size: 3em;
            margin-bottom: 10px;
            font-weight: 900;
            text-shadow: 
                0 0 20px rgba(0, 195, 255, 0.5),
                0 0 40px rgba(0, 195, 255, 0.3);
            letter-spacing: 2px;
            position: relative;
            z-index: 1;
        }

        .subtitle {
            color: #88d0ff;
            font-size: 1.2em;
            font-weight: 300;
            letter-spacing: 1px;
            position: relative;
            z-index: 1;
        }

        .content-section {
            background: rgba(10, 14, 39, 0.6);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(0, 195, 255, 0.3);
            padding: 40px;
            border-radius: 20px;
            margin-bottom: 30px;
            box-shadow: 
                0 8px 32px rgba(0, 0, 0, 0.3),
                0 0 0 0 rgba(0, 195, 255, 0);
            transition: all 0.4s ease;
        }

        .content-section:hover {
            border-color: rgba(0, 195, 255, 0.6);
            box-shadow: 
                0 20px 60px rgba(0, 0, 0, 0.4),
                0 0 40px rgba(0, 195, 255, 0.3);
        }

        .section-title {
            font-family: 'Orbitron', sans-serif;
            color: #00c3ff;
            font-size: 1.8em;
            margin-bottom: 20px;
            font-weight: 700;
            text-shadow: 0 0 10px rgba(0, 195, 255, 0.3);
        }

        .content-section p {
            color: #d0e0f0;
            line-height: 1.9;
            font-size: 1.1em;
            font-weight: 300;
            margin-bottom: 20px;
        }

        .verse-callout {
            background: rgba(0, 195, 255, 0.1);
            border-left: 4px solid rgba(0, 195, 255, 0.6);
            padding: 20px;
            margin: 25px 0;
            border-radius: 10px;
            font-style: italic;
            color: #b0d0f0;
            line-height: 1.8;
            position: relative;
        }

        .verse-reference {
            display: block;
            margin-top: 15px;
            font-size: 0.9em;
            color: #88d0ff;
            font-style: normal;
        }

        .scripture-link {
            color: #88d0ff;
            text-decoration: none;
            transition: all 0.3s ease;
            border-bottom: 1px solid transparent;
        }

        .scripture-link:hover {
            color: #00c3ff;
            border-bottom: 1px solid #00c3ff;
            text-shadow: 0 0 10px rgba(0, 195, 255, 0.5);
        }

        .theme-box {
            background: rgba(0, 150, 255, 0.1);
            border: 1px solid rgba(0, 195, 255, 0.3);
            padding: 25px;
            border-radius: 15px;
            margin: 25px 0;
        }

        .theme-title {
            font-family: 'Orbitron', sans-serif;
            color: #00c3ff;
            font-size: 1.3em;
            margin-bottom: 15px;
            font-weight: 600;
        }

        .theme-box p {
            color: #c0d0e0;
            line-height: 1.8;
        }

        .additional-references {
            margin-top: 30px;
            padding-top: 25px;
            border-top: 1px solid rgba(0, 195, 255, 0.2);
        }

        .additional-references-title {
            font-family: 'Orbitron', sans-serif;
            color: #00c3ff;
            font-size: 1.2em;
            margin-bottom: 20px;
            font-weight: 600;
        }

        .reference-item {
            margin-bottom: 20px;
            padding-left: 20px;
            border-left: 3px solid rgba(0, 195, 255, 0.3);
        }

        .ref-link {
            color: #88d0ff;
            text-decoration: none;
            font-weight: 600;
            font-size: 1.1em;
            display: block;
            margin-bottom: 8px;
            transition: all 0.3s ease;
        }

        .ref-link:hover {
            color: #00c3ff;
            padding-left: 5px;
        }

        .ref-explanation {
            color: #b0c0d0;
            font-size: 0.95em;
            line-height: 1.6;
            font-style: italic;
        }

        .audio-btn {
            margin-top: 25px;
            padding: 12px 30px;
            background: rgba(0, 195, 255, 0.2);
            border: 1px solid rgba(0, 195, 255, 0.5);
            color: #00c3ff;
            border-radius: 25px;
            cursor: pointer;
            font-family: 'Orbitron', sans-serif;
            font-size: 0.9em;
            font-weight: 600;
            letter-spacing: 1px;
            transition: all 0.3s ease;
            text-transform: uppercase;
        }

        .audio-btn:hover {
            background: rgba(0, 195, 255, 0.3);
            border-color: rgba(0, 195, 255, 0.8);
            box-shadow: 0 0 20px rgba(0, 195, 255, 0.4);
            transform: translateY(-2px);
        }

        .audio-btn.playing {
            background: rgba(0, 255, 150, 0.3);
            border-color: rgba(0, 255, 150, 0.8);
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 2em;
            }

            .content-section {
                padding: 25px;
            }

            .section-title {
                font-size: 1.4em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="nav-menu"></div>

        <header>
            <h1>ðŸŒŠ Dive In: Hezekiah's Reformation</h1>
            <p class="subtitle">Temple Worship Restored</p>
        </header>

        <div class="content-section">
            <h2 class="section-title">Hezekiah Opens the Temple Doors</h2>
            <p>In <a href="https://www.biblegateway.com/passage/?search=2%20Chronicles%2029%3A1-11&version=NKJV" target="_blank" rel="noopener noreferrer" class="scripture-link">2 Chronicles 29:1-11</a>, Hezekiah becomes king and immediately begins to restore the temple. The first thing he does is open the doors of the temple that had been closed by his father Ahaz. He then calls the priests and Levites to consecrate themselves and cleanse the temple.</p>
            
            <div class="verse-callout">
                In the first month of the first year of his reign, he opened the doors of the temple of the Lord and repaired them. He brought in the priests and the Levites, assembled them in the square on the east side and said: "Listen to me, Levites! Consecrate yourselves now and consecrate the temple of the Lord, the God of your ancestors. Remove all defilement from the sanctuary."
                <span class="verse-reference">
                    <a href="https://www.biblegateway.com/passage/?search=2%20Chronicles%2029%3A3-5&version=NKJV" target="_blank" rel="noopener noreferrer" class="scripture-link">2 Chronicles 29:3-5</a>
                </span>
            </div>

            <p>Hezekiah's immediate action to restore the temple shows his heart for God. He recognizes that the temple is central to Israel's relationship with God and that it must be cleansed and restored. This points forward to how Christ cleanses us and restores our relationship with God.</p>
            
            <div class="additional-references">
                <div class="additional-references-title">Additional References</div>
                <div class="reference-item">
                    <a href="https://www.biblegateway.com/passage/?search=Hebrews%209%3A14&version=NKJV" target="_blank" rel="noopener noreferrer" class="ref-link">Hebrews 9:14</a>
                    <div class="ref-explanation">How much more, then, will the blood of Christ, who through the eternal Spirit offered himself unblemished to God, cleanse our consciences from acts that lead to death, so that we may serve the living God! showing that Christ cleanses us.</div>
                </div>
                <div class="reference-item">
                    <a href="https://www.biblegateway.com/passage/?search=1%20John%201%3A9&version=NKJV" target="_blank" rel="noopener noreferrer" class="ref-link">1 John 1:9</a>
                    <div class="ref-explanation">If we confess our sins, he is faithful and just and will forgive us our sins and purify us from all unrighteousness, showing that God cleanses us from sin.</div>
                </div>
            </div>
            <button class="audio-btn" data-section="doors">Listen to Section</button>
        </div>

        <div class="content-section">
            <h2 class="section-title">The Temple Cleansed and Worship Restored</h2>
            <p>In <a href="https://www.biblegateway.com/passage/?search=2%20Chronicles%2029%3A12-36&version=NKJV" target="_blank" rel="noopener noreferrer" class="scripture-link">2 Chronicles 29:12-36</a>, the priests and Levites consecrate themselves and begin the work of cleansing the temple. They remove all the defiled items and restore proper worship. The temple is cleansed in eight days, and then worship is restored with sacrifices and music.</p>

            <div class="theme-box">
                <div class="theme-title">True Worship Restored</div>
                <p>Hezekiah's restoration of temple worship demonstrates the importance of proper worship. Just as the temple had to be cleansed before worship could be restored, we must be cleansed by Christ before we can truly worship God.</p>
                <div class="verse-reference" style="margin-top: 15px;">
                    <a href="https://www.biblegateway.com/passage/?search=John%204%3A23-24&version=NKJV" target="_blank" rel="noopener noreferrer" class="scripture-link">John 4:23-24</a>
                </div>
            </div>

            <div class="verse-callout">
                Then Hezekiah said, "You have now dedicated yourselves to the Lord. Come and bring sacrifices and thank offerings to the temple of the Lord." So the assembly brought sacrifices and thank offerings, and all whose hearts were willing brought burnt offerings. The number of burnt offerings the assembly brought was seventy bulls, a hundred rams and two hundred male lambsâ€”all of them for burnt offerings to the Lord.
                <span class="verse-reference">
                    <a href="https://www.biblegateway.com/passage/?search=2%20Chronicles%2029%3A31-32&version=NKJV" target="_blank" rel="noopener noreferrer" class="scripture-link">2 Chronicles 29:31-32</a>
                </span>
            </div>
            
            <p>The restoration of worship brings great joy to the people. They bring abundant sacrifices and celebrate with music and singing. This points forward to how through Christ, we can offer true worship to God, not just in a physical temple, but in spirit and truth.</p>
            
            <div class="additional-references">
                <div class="additional-references-title">Additional References</div>
                <div class="reference-item">
                    <a href="https://www.biblegateway.com/passage/?search=Romans%2012%3A1&version=NKJV" target="_blank" rel="noopener noreferrer" class="ref-link">Romans 12:1</a>
                    <div class="ref-explanation">Therefore, I urge you, brothers and sisters, in view of God's mercy, to offer your bodies as a living sacrifice, holy and pleasing to Godâ€”this is your true and proper worship, showing that our worship is offering ourselves to God.</div>
                </div>
                <div class="reference-item">
                    <a href="https://www.biblegateway.com/passage/?search=Hebrews%2013%3A15&version=NKJV" target="_blank" rel="noopener noreferrer" class="ref-link">Hebrews 13:15</a>
                    <div class="ref-explanation">Through Jesus, therefore, let us continually offer to God a sacrifice of praiseâ€”the fruit of lips that openly profess his name, showing that we offer praise as our sacrifice.</div>
                </div>
            </div>
            <button class="audio-btn" data-section="cleansed">Listen to Section</button>
        </div>

        <div class="content-section">
            <h2 class="section-title">The Passover Celebrated</h2>
            <p>In <a href="https://www.biblegateway.com/passage/?search=2%20Chronicles%2030%3A1-27&version=NKJV" target="_blank" rel="noopener noreferrer" class="scripture-link">2 Chronicles 30:1-27</a>, Hezekiah sends invitations throughout Israel and Judah to celebrate the Passover. Many respond and come to Jerusalem. The Passover is celebrated with great joy, and Hezekiah prays for those who are not properly consecrated, asking God to pardon them.</p>

            <div class="verse-callout">
                The whole assembly then agreed to celebrate the festival seven more days; so for another seven days they celebrated joyfully. Hezekiah king of Judah provided a thousand bulls and seven thousand sheep and goats for the assembly, and the officials provided them with a thousand bulls and ten thousand sheep and goats. A great number of priests consecrated themselves. The entire assembly of Judah rejoiced, along with the priests and Levites and all who had assembled from Israel, including the foreigners who had come from Israel and who lived in Judah.
                <span class="verse-reference">
                    <a href="https://www.biblegateway.com/passage/?search=2%20Chronicles%2030%3A23-25&version=NKJV" target="_blank" rel="noopener noreferrer" class="scripture-link">2 Chronicles 30:23-25</a>
                </span>
            </div>

            <p>The celebration of the Passover points forward to Christ, who is our Passover lamb. Just as the Passover was a time of great joy and celebration for Israel, we celebrate Christ, who has delivered us from sin and death.</p>
            
            <div class="additional-references">
                <div class="additional-references-title">Additional References</div>
                <div class="reference-item">
                    <a href="https://www.biblegateway.com/passage/?search=1%20Corinthians%205%3A7&version=NKJV" target="_blank" rel="noopener noreferrer" class="ref-link">1 Corinthians 5:7</a>
                    <div class="ref-explanation">Get rid of the old yeast, so that you may be a new unleavened batchâ€”as you really are. For Christ, our Passover lamb, has been sacrificed, showing that Christ is our Passover.</div>
                </div>
                <div class="reference-item">
                    <a href="https://www.biblegateway.com/passage/?search=John%201%3A29&version=NKJV" target="_blank" rel="noopener noreferrer" class="ref-link">John 1:29</a>
                    <div class="ref-explanation">The next day John saw Jesus coming toward him and said, "Look, the Lamb of God, who takes away the sin of the world!" showing that Christ is the Lamb who takes away sin.</div>
                </div>
            </div>
            <button class="audio-btn" data-section="passover">Listen to Section</button>
        </div>

        <div class="content-section">
            <h2 class="section-title">Conclusion: Reformation Through Christ</h2>
            <p>Hezekiah's reformation demonstrates the power of returning to God and restoring true worship. He cleanses the temple, restores worship, and celebrates the Passover. His faithfulness points forward to how Christ brings true reformationâ€”not just external changes, but transformation of the heart.</p>

            <p>Through Christ, we are cleansed from sin and enabled to worship God in spirit and truth. Just as Hezekiah restored temple worship, Christ restores our relationship with God and enables us to offer true worship. The reformation Hezekiah led finds its ultimate fulfillment in the transformation Christ brings to all who believe in Him.</p>
            
            <div class="additional-references">
                <div class="additional-references-title">Additional References</div>
                <div class="reference-item">
                    <a href="https://www.biblegateway.com/passage/?search=2%20Corinthians%205%3A17&version=NKJV" target="_blank" rel="noopener noreferrer" class="ref-link">2 Corinthians 5:17</a>
                    <div class="ref-explanation">Therefore, if anyone is in Christ, the new creation has come: The old has gone, the new is here! showing that Christ brings transformation.</div>
                </div>
                <div class="reference-item">
                    <a href="https://www.biblegateway.com/passage/?search=Romans%2012%3A2&version=NKJV" target="_blank" rel="noopener noreferrer" class="ref-link">Romans 12:2</a>
                    <div class="ref-explanation">Do not conform to the pattern of this world, but be transformed by the renewing of your mind. Then you will be able to test and approve what God's will isâ€”his good, pleasing and perfect will, showing that we are transformed by Christ.</div>
                </div>
            </div>
            <button class="audio-btn" data-section="conclusion">Listen to Section</button>
        </div>

    </div>

    <script>
        // Speech Synthesis Setup
        let currentUtterance = null;
        let currentButton = null;
        let jarvisVoice = null;

        function findJarvisVoice() {
            const voices = speechSynthesis.getVoices();
            const preferredVoices = [
                'Google UK English Male',
                'Microsoft Zira - English (United States)',
                'Alex',
                'Daniel'
            ];
            
            for (const preferredName of preferredVoices) {
                const voice = voices.find(v => v.name.includes(preferredName));
                if (voice) return voice;
            }
            
            return voices.find(v => v.lang.startsWith('en')) || voices[0];
        }

        if (speechSynthesis.onvoiceschanged !== undefined) {
            speechSynthesis.onvoiceschanged = () => {
                jarvisVoice = findJarvisVoice();
            };
        }
        
        setTimeout(() => {
            jarvisVoice = findJarvisVoice();
        }, 100);

        function getSectionText(section) {
            const sectionElement = section.closest('.content-section');
            if (!sectionElement) return '';
            
            const clone = sectionElement.cloneNode(true);
            clone.querySelectorAll('.audio-btn').forEach(el => el.remove());
            clone.querySelectorAll('.scripture-link').forEach(el => el.remove());
            clone.querySelectorAll('.verse-reference').forEach(el => el.remove());
            return clone.textContent.trim();
        }

        function playAudio(button, text) {
            if (button === currentButton && button.classList.contains('playing')) {
                speechSynthesis.cancel();
                button.classList.remove('playing');
                button.textContent = 'Listen to Section';
                currentUtterance = null;
                currentButton = null;
                return;
            }

            if (currentUtterance && currentButton) {
                speechSynthesis.cancel();
                document.querySelectorAll('.audio-btn').forEach(btn => {
                    btn.classList.remove('playing');
                    btn.textContent = 'Listen to Section';
                });
            }

            currentUtterance = new SpeechSynthesisUtterance(text);
            
            if (jarvisVoice) {
                currentUtterance.voice = jarvisVoice;
            }
            currentUtterance.rate = 0.9;
            currentUtterance.pitch = 0.8;
            currentUtterance.volume = 1;
            currentUtterance.lang = 'en-GB';

            document.querySelectorAll('.audio-btn').forEach(btn => {
                btn.classList.remove('playing');
                btn.textContent = 'Listen to Section';
            });
            
            button.classList.add('playing');
            button.textContent = 'Playing...';
            currentButton = button;

            currentUtterance.onend = () => {
                button.classList.remove('playing');
                button.textContent = 'Listen to Section';
                currentUtterance = null;
                currentButton = null;
            };

            currentUtterance.onerror = () => {
                button.classList.remove('playing');
                button.textContent = 'Listen to Section';
                currentUtterance = null;
                currentButton = null;
            };

            speechSynthesis.speak(currentUtterance);
        }

        document.addEventListener('DOMContentLoaded', function() {
            const audioButtons = document.querySelectorAll('.audio-btn');
            
            audioButtons.forEach(button => {
                button.addEventListener('click', function(e) {
                    e.stopPropagation();
                    const text = getSectionText(this);
                    if (text) {
                        playAudio(this, text);
                    }
                });
            });
        });
    </script>
    <script src="menu.js"></script>
</body>
</html>